var Lf=Object.defineProperty;var Df=(t,e,r)=>e in t?Lf(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var On=(t,e,r)=>(Df(t,typeof e!="symbol"?e+"":e,r),r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var ft=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Uf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Mf(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var Xu={exports:{}},qi={},Qu={exports:{}},Z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var js=Symbol.for("react.element"),Ff=Symbol.for("react.portal"),zf=Symbol.for("react.fragment"),Wf=Symbol.for("react.strict_mode"),Bf=Symbol.for("react.profiler"),Hf=Symbol.for("react.provider"),Vf=Symbol.for("react.context"),qf=Symbol.for("react.forward_ref"),Gf=Symbol.for("react.suspense"),Kf=Symbol.for("react.memo"),Xf=Symbol.for("react.lazy"),pc=Symbol.iterator;function Qf(t){return t===null||typeof t!="object"?null:(t=pc&&t[pc]||t["@@iterator"],typeof t=="function"?t:null)}var Ju={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Yu=Object.assign,Zu={};function En(t,e,r){this.props=t,this.context=e,this.refs=Zu,this.updater=r||Ju}En.prototype.isReactComponent={};En.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};En.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ed(){}ed.prototype=En.prototype;function hl(t,e,r){this.props=t,this.context=e,this.refs=Zu,this.updater=r||Ju}var fl=hl.prototype=new ed;fl.constructor=hl;Yu(fl,En.prototype);fl.isPureReactComponent=!0;var gc=Array.isArray,td=Object.prototype.hasOwnProperty,ml={current:null},rd={key:!0,ref:!0,__self:!0,__source:!0};function nd(t,e,r){var n,s={},i=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)td.call(e,n)&&!rd.hasOwnProperty(n)&&(s[n]=e[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:js,type:t,key:i,ref:a,props:s,_owner:ml.current}}function Jf(t,e){return{$$typeof:js,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function pl(t){return typeof t=="object"&&t!==null&&t.$$typeof===js}function Yf(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var xc=/\/+/g;function bo(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Yf(""+t.key):e.toString(36)}function ii(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case js:case Ff:a=!0}}if(a)return a=t,s=s(a),t=n===""?"."+bo(a,0):n,gc(s)?(r="",t!=null&&(r=t.replace(xc,"$&/")+"/"),ii(s,e,r,"",function(u){return u})):s!=null&&(pl(s)&&(s=Jf(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(xc,"$&/")+"/")+t)),e.push(s)),1;if(a=0,n=n===""?".":n+":",gc(t))for(var l=0;l<t.length;l++){i=t[l];var c=n+bo(i,l);a+=ii(i,e,r,c,s)}else if(c=Qf(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=n+bo(i,l++),a+=ii(i,e,r,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Ds(t,e,r){if(t==null)return t;var n=[],s=0;return ii(t,n,"","",function(i){return e.call(r,i,s++)}),n}function Zf(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Be={current:null},oi={transition:null},em={ReactCurrentDispatcher:Be,ReactCurrentBatchConfig:oi,ReactCurrentOwner:ml};function sd(){throw Error("act(...) is not supported in production builds of React.")}Z.Children={map:Ds,forEach:function(t,e,r){Ds(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Ds(t,function(){e++}),e},toArray:function(t){return Ds(t,function(e){return e})||[]},only:function(t){if(!pl(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Z.Component=En;Z.Fragment=zf;Z.Profiler=Bf;Z.PureComponent=hl;Z.StrictMode=Wf;Z.Suspense=Gf;Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=em;Z.act=sd;Z.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Yu({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=ml.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)td.call(e,c)&&!rd.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:js,type:t.type,key:s,ref:i,props:n,_owner:a}};Z.createContext=function(t){return t={$$typeof:Vf,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Hf,_context:t},t.Consumer=t};Z.createElement=nd;Z.createFactory=function(t){var e=nd.bind(null,t);return e.type=t,e};Z.createRef=function(){return{current:null}};Z.forwardRef=function(t){return{$$typeof:qf,render:t}};Z.isValidElement=pl;Z.lazy=function(t){return{$$typeof:Xf,_payload:{_status:-1,_result:t},_init:Zf}};Z.memo=function(t,e){return{$$typeof:Kf,type:t,compare:e===void 0?null:e}};Z.startTransition=function(t){var e=oi.transition;oi.transition={};try{t()}finally{oi.transition=e}};Z.unstable_act=sd;Z.useCallback=function(t,e){return Be.current.useCallback(t,e)};Z.useContext=function(t){return Be.current.useContext(t)};Z.useDebugValue=function(){};Z.useDeferredValue=function(t){return Be.current.useDeferredValue(t)};Z.useEffect=function(t,e){return Be.current.useEffect(t,e)};Z.useId=function(){return Be.current.useId()};Z.useImperativeHandle=function(t,e,r){return Be.current.useImperativeHandle(t,e,r)};Z.useInsertionEffect=function(t,e){return Be.current.useInsertionEffect(t,e)};Z.useLayoutEffect=function(t,e){return Be.current.useLayoutEffect(t,e)};Z.useMemo=function(t,e){return Be.current.useMemo(t,e)};Z.useReducer=function(t,e,r){return Be.current.useReducer(t,e,r)};Z.useRef=function(t){return Be.current.useRef(t)};Z.useState=function(t){return Be.current.useState(t)};Z.useSyncExternalStore=function(t,e,r){return Be.current.useSyncExternalStore(t,e,r)};Z.useTransition=function(){return Be.current.useTransition()};Z.version="18.3.1";Qu.exports=Z;var S=Qu.exports;const na=Uf(S);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tm=S,rm=Symbol.for("react.element"),nm=Symbol.for("react.fragment"),sm=Object.prototype.hasOwnProperty,im=tm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,om={key:!0,ref:!0,__self:!0,__source:!0};function id(t,e,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)sm.call(e,n)&&!om.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:rm,type:t,key:i,ref:a,props:s,_owner:im.current}}qi.Fragment=nm;qi.jsx=id;qi.jsxs=id;Xu.exports=qi;var o=Xu.exports,sa={},od={exports:{}},it={},ad={exports:{}},ld={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(P,$){var D=P.length;P.push($);e:for(;0<D;){var W=D-1>>>1,J=P[W];if(0<s(J,$))P[W]=$,P[D]=J,D=W;else break e}}function r(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var $=P[0],D=P.pop();if(D!==$){P[0]=D;e:for(var W=0,J=P.length,et=J>>>1;W<et;){var Ae=2*(W+1)-1,At=P[Ae],L=Ae+1,H=P[L];if(0>s(At,D))L<J&&0>s(H,At)?(P[W]=H,P[L]=D,W=L):(P[W]=At,P[Ae]=D,W=Ae);else if(L<J&&0>s(H,D))P[W]=H,P[L]=D,W=L;else break e}}return $}function s(P,$){var D=P.sortIndex-$.sortIndex;return D!==0?D:P.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,p=3,y=!1,m=!1,b=!1,_=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(P){for(var $=r(u);$!==null;){if($.callback===null)n(u);else if($.startTime<=P)n(u),$.sortIndex=$.expirationTime,e(c,$);else break;$=r(u)}}function w(P){if(b=!1,x(P),!m)if(r(c)!==null)m=!0,F(E);else{var $=r(u);$!==null&&Q(w,$.startTime-P)}}function E(P,$){m=!1,b&&(b=!1,g(j),j=-1),y=!0;var D=p;try{for(x($),h=r(c);h!==null&&(!(h.expirationTime>$)||P&&!I());){var W=h.callback;if(typeof W=="function"){h.callback=null,p=h.priorityLevel;var J=W(h.expirationTime<=$);$=t.unstable_now(),typeof J=="function"?h.callback=J:h===r(c)&&n(c),x($)}else n(c);h=r(c)}if(h!==null)var et=!0;else{var Ae=r(u);Ae!==null&&Q(w,Ae.startTime-$),et=!1}return et}finally{h=null,p=D,y=!1}}var v=!1,k=null,j=-1,C=5,O=-1;function I(){return!(t.unstable_now()-O<C)}function B(){if(k!==null){var P=t.unstable_now();O=P;var $=!0;try{$=k(!0,P)}finally{$?U():(v=!1,k=null)}}else v=!1}var U;if(typeof f=="function")U=function(){f(B)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,Ve=ae.port2;ae.port1.onmessage=B,U=function(){Ve.postMessage(null)}}else U=function(){_(B,0)};function F(P){k=P,v||(v=!0,U())}function Q(P,$){j=_(function(){P(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){m||y||(m=!0,F(E))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(P){switch(p){case 1:case 2:case 3:var $=3;break;default:$=p}var D=p;p=$;try{return P()}finally{p=D}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,$){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var D=p;p=P;try{return $()}finally{p=D}},t.unstable_scheduleCallback=function(P,$,D){var W=t.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?W+D:W):D=W,P){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=D+J,P={id:d++,callback:$,priorityLevel:P,startTime:D,expirationTime:J,sortIndex:-1},D>W?(P.sortIndex=D,e(u,P),r(c)===null&&P===r(u)&&(b?(g(j),j=-1):b=!0,Q(w,D-W))):(P.sortIndex=J,e(c,P),m||y||(m=!0,F(E))),P},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(P){var $=p;return function(){var D=p;p=$;try{return P.apply(this,arguments)}finally{p=D}}}})(ld);ad.exports=ld;var am=ad.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lm=S,st=am;function T(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var cd=new Set,os={};function Ur(t,e){vn(t,e),vn(t+"Capture",e)}function vn(t,e){for(os[t]=e,t=0;t<e.length;t++)cd.add(e[t])}var Vt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ia=Object.prototype.hasOwnProperty,cm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vc={},yc={};function um(t){return ia.call(yc,t)?!0:ia.call(vc,t)?!1:cm.test(t)?yc[t]=!0:(vc[t]=!0,!1)}function dm(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function hm(t,e,r,n){if(e===null||typeof e>"u"||dm(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function He(t,e,r,n,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var $e={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){$e[t]=new He(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];$e[e]=new He(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){$e[t]=new He(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){$e[t]=new He(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){$e[t]=new He(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){$e[t]=new He(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){$e[t]=new He(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){$e[t]=new He(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){$e[t]=new He(t,5,!1,t.toLowerCase(),null,!1,!1)});var gl=/[\-:]([a-z])/g;function xl(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(gl,xl);$e[e]=new He(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(gl,xl);$e[e]=new He(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(gl,xl);$e[e]=new He(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){$e[t]=new He(t,1,!1,t.toLowerCase(),null,!1,!1)});$e.xlinkHref=new He("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){$e[t]=new He(t,1,!1,t.toLowerCase(),null,!0,!0)});function vl(t,e,r,n){var s=$e.hasOwnProperty(e)?$e[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(hm(e,r,s,n)&&(r=null),n||s===null?um(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Xt=lm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Us=Symbol.for("react.element"),Yr=Symbol.for("react.portal"),Zr=Symbol.for("react.fragment"),yl=Symbol.for("react.strict_mode"),oa=Symbol.for("react.profiler"),ud=Symbol.for("react.provider"),dd=Symbol.for("react.context"),wl=Symbol.for("react.forward_ref"),aa=Symbol.for("react.suspense"),la=Symbol.for("react.suspense_list"),bl=Symbol.for("react.memo"),Zt=Symbol.for("react.lazy"),hd=Symbol.for("react.offscreen"),wc=Symbol.iterator;function $n(t){return t===null||typeof t!="object"?null:(t=wc&&t[wc]||t["@@iterator"],typeof t=="function"?t:null)}var pe=Object.assign,_o;function Wn(t){if(_o===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);_o=e&&e[1]||""}return`
`+_o+t}var ko=!1;function jo(t,e){if(!t||ko)return"";ko=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=l);break}}}finally{ko=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Wn(t):""}function fm(t){switch(t.tag){case 5:return Wn(t.type);case 16:return Wn("Lazy");case 13:return Wn("Suspense");case 19:return Wn("SuspenseList");case 0:case 2:case 15:return t=jo(t.type,!1),t;case 11:return t=jo(t.type.render,!1),t;case 1:return t=jo(t.type,!0),t;default:return""}}function ca(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Zr:return"Fragment";case Yr:return"Portal";case oa:return"Profiler";case yl:return"StrictMode";case aa:return"Suspense";case la:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case dd:return(t.displayName||"Context")+".Consumer";case ud:return(t._context.displayName||"Context")+".Provider";case wl:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case bl:return e=t.displayName||null,e!==null?e:ca(t.type)||"Memo";case Zt:e=t._payload,t=t._init;try{return ca(t(e))}catch{}}return null}function mm(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ca(e);case 8:return e===yl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function mr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function fd(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function pm(t){var e=fd(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ms(t){t._valueTracker||(t._valueTracker=pm(t))}function md(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=fd(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function vi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ua(t,e){var r=e.checked;return pe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function bc(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=mr(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function pd(t,e){e=e.checked,e!=null&&vl(t,"checked",e,!1)}function da(t,e){pd(t,e);var r=mr(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ha(t,e.type,r):e.hasOwnProperty("defaultValue")&&ha(t,e.type,mr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function _c(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function ha(t,e,r){(e!=="number"||vi(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Bn=Array.isArray;function hn(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+mr(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function fa(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(T(91));return pe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function kc(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(T(92));if(Bn(r)){if(1<r.length)throw Error(T(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:mr(r)}}function gd(t,e){var r=mr(e.value),n=mr(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function jc(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function xd(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ma(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?xd(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Fs,vd=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Fs=Fs||document.createElement("div"),Fs.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Fs.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function as(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Kn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gm=["Webkit","ms","Moz","O"];Object.keys(Kn).forEach(function(t){gm.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Kn[e]=Kn[t]})});function yd(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Kn.hasOwnProperty(t)&&Kn[t]?(""+e).trim():e+"px"}function wd(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=yd(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var xm=pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pa(t,e){if(e){if(xm[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(T(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(T(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(T(61))}if(e.style!=null&&typeof e.style!="object")throw Error(T(62))}}function ga(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xa=null;function _l(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var va=null,fn=null,mn=null;function Sc(t){if(t=Es(t)){if(typeof va!="function")throw Error(T(280));var e=t.stateNode;e&&(e=Ji(e),va(t.stateNode,t.type,e))}}function bd(t){fn?mn?mn.push(t):mn=[t]:fn=t}function _d(){if(fn){var t=fn,e=mn;if(mn=fn=null,Sc(t),e)for(t=0;t<e.length;t++)Sc(e[t])}}function kd(t,e){return t(e)}function jd(){}var So=!1;function Sd(t,e,r){if(So)return t(e,r);So=!0;try{return kd(t,e,r)}finally{So=!1,(fn!==null||mn!==null)&&(jd(),_d())}}function ls(t,e){var r=t.stateNode;if(r===null)return null;var n=Ji(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(T(231,e,typeof r));return r}var ya=!1;if(Vt)try{var An={};Object.defineProperty(An,"passive",{get:function(){ya=!0}}),window.addEventListener("test",An,An),window.removeEventListener("test",An,An)}catch{ya=!1}function vm(t,e,r,n,s,i,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var Xn=!1,yi=null,wi=!1,wa=null,ym={onError:function(t){Xn=!0,yi=t}};function wm(t,e,r,n,s,i,a,l,c){Xn=!1,yi=null,vm.apply(ym,arguments)}function bm(t,e,r,n,s,i,a,l,c){if(wm.apply(this,arguments),Xn){if(Xn){var u=yi;Xn=!1,yi=null}else throw Error(T(198));wi||(wi=!0,wa=u)}}function Mr(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Nd(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Nc(t){if(Mr(t)!==t)throw Error(T(188))}function _m(t){var e=t.alternate;if(!e){if(e=Mr(t),e===null)throw Error(T(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Nc(s),t;if(i===n)return Nc(s),e;i=i.sibling}throw Error(T(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,l=s.child;l;){if(l===r){a=!0,r=s,n=i;break}if(l===n){a=!0,n=s,r=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===r){a=!0,r=i,n=s;break}if(l===n){a=!0,n=i,r=s;break}l=l.sibling}if(!a)throw Error(T(189))}}if(r.alternate!==n)throw Error(T(190))}if(r.tag!==3)throw Error(T(188));return r.stateNode.current===r?t:e}function Ed(t){return t=_m(t),t!==null?Pd(t):null}function Pd(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Pd(t);if(e!==null)return e;t=t.sibling}return null}var Cd=st.unstable_scheduleCallback,Ec=st.unstable_cancelCallback,km=st.unstable_shouldYield,jm=st.unstable_requestPaint,ve=st.unstable_now,Sm=st.unstable_getCurrentPriorityLevel,kl=st.unstable_ImmediatePriority,Td=st.unstable_UserBlockingPriority,bi=st.unstable_NormalPriority,Nm=st.unstable_LowPriority,Rd=st.unstable_IdlePriority,Gi=null,Rt=null;function Em(t){if(Rt&&typeof Rt.onCommitFiberRoot=="function")try{Rt.onCommitFiberRoot(Gi,t,void 0,(t.current.flags&128)===128)}catch{}}var kt=Math.clz32?Math.clz32:Tm,Pm=Math.log,Cm=Math.LN2;function Tm(t){return t>>>=0,t===0?32:31-(Pm(t)/Cm|0)|0}var zs=64,Ws=4194304;function Hn(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function _i(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,a=r&268435455;if(a!==0){var l=a&~s;l!==0?n=Hn(l):(i&=a,i!==0&&(n=Hn(i)))}else a=r&~s,a!==0?n=Hn(a):i!==0&&(n=Hn(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-kt(e),s=1<<r,n|=t[r],e&=~s;return n}function Rm(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Om(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-kt(i),l=1<<a,c=s[a];c===-1?(!(l&r)||l&n)&&(s[a]=Rm(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function ba(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Od(){var t=zs;return zs<<=1,!(zs&4194240)&&(zs=64),t}function No(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Ss(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-kt(e),t[e]=r}function $m(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-kt(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function jl(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-kt(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var oe=0;function $d(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Ad,Sl,Id,Ld,Dd,_a=!1,Bs=[],or=null,ar=null,lr=null,cs=new Map,us=new Map,tr=[],Am="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pc(t,e){switch(t){case"focusin":case"focusout":or=null;break;case"dragenter":case"dragleave":ar=null;break;case"mouseover":case"mouseout":lr=null;break;case"pointerover":case"pointerout":cs.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":us.delete(e.pointerId)}}function In(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Es(e),e!==null&&Sl(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Im(t,e,r,n,s){switch(e){case"focusin":return or=In(or,t,e,r,n,s),!0;case"dragenter":return ar=In(ar,t,e,r,n,s),!0;case"mouseover":return lr=In(lr,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return cs.set(i,In(cs.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,us.set(i,In(us.get(i)||null,t,e,r,n,s)),!0}return!1}function Ud(t){var e=Er(t.target);if(e!==null){var r=Mr(e);if(r!==null){if(e=r.tag,e===13){if(e=Nd(r),e!==null){t.blockedOn=e,Dd(t.priority,function(){Id(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ai(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=ka(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);xa=n,r.target.dispatchEvent(n),xa=null}else return e=Es(r),e!==null&&Sl(e),t.blockedOn=r,!1;e.shift()}return!0}function Cc(t,e,r){ai(t)&&r.delete(e)}function Lm(){_a=!1,or!==null&&ai(or)&&(or=null),ar!==null&&ai(ar)&&(ar=null),lr!==null&&ai(lr)&&(lr=null),cs.forEach(Cc),us.forEach(Cc)}function Ln(t,e){t.blockedOn===e&&(t.blockedOn=null,_a||(_a=!0,st.unstable_scheduleCallback(st.unstable_NormalPriority,Lm)))}function ds(t){function e(s){return Ln(s,t)}if(0<Bs.length){Ln(Bs[0],t);for(var r=1;r<Bs.length;r++){var n=Bs[r];n.blockedOn===t&&(n.blockedOn=null)}}for(or!==null&&Ln(or,t),ar!==null&&Ln(ar,t),lr!==null&&Ln(lr,t),cs.forEach(e),us.forEach(e),r=0;r<tr.length;r++)n=tr[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<tr.length&&(r=tr[0],r.blockedOn===null);)Ud(r),r.blockedOn===null&&tr.shift()}var pn=Xt.ReactCurrentBatchConfig,ki=!0;function Dm(t,e,r,n){var s=oe,i=pn.transition;pn.transition=null;try{oe=1,Nl(t,e,r,n)}finally{oe=s,pn.transition=i}}function Um(t,e,r,n){var s=oe,i=pn.transition;pn.transition=null;try{oe=4,Nl(t,e,r,n)}finally{oe=s,pn.transition=i}}function Nl(t,e,r,n){if(ki){var s=ka(t,e,r,n);if(s===null)Lo(t,e,n,ji,r),Pc(t,n);else if(Im(s,t,e,r,n))n.stopPropagation();else if(Pc(t,n),e&4&&-1<Am.indexOf(t)){for(;s!==null;){var i=Es(s);if(i!==null&&Ad(i),i=ka(t,e,r,n),i===null&&Lo(t,e,n,ji,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Lo(t,e,n,null,r)}}var ji=null;function ka(t,e,r,n){if(ji=null,t=_l(n),t=Er(t),t!==null)if(e=Mr(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Nd(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ji=t,null}function Md(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Sm()){case kl:return 1;case Td:return 4;case bi:case Nm:return 16;case Rd:return 536870912;default:return 16}default:return 16}}var sr=null,El=null,li=null;function Fd(){if(li)return li;var t,e=El,r=e.length,n,s="value"in sr?sr.value:sr.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===s[i-n];n++);return li=s.slice(t,1<n?1-n:void 0)}function ci(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Hs(){return!0}function Tc(){return!1}function ot(t){function e(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Hs:Tc,this.isPropagationStopped=Tc,this}return pe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Hs)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Hs)},persist:function(){},isPersistent:Hs}),e}var Pn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pl=ot(Pn),Ns=pe({},Pn,{view:0,detail:0}),Mm=ot(Ns),Eo,Po,Dn,Ki=pe({},Ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Dn&&(Dn&&t.type==="mousemove"?(Eo=t.screenX-Dn.screenX,Po=t.screenY-Dn.screenY):Po=Eo=0,Dn=t),Eo)},movementY:function(t){return"movementY"in t?t.movementY:Po}}),Rc=ot(Ki),Fm=pe({},Ki,{dataTransfer:0}),zm=ot(Fm),Wm=pe({},Ns,{relatedTarget:0}),Co=ot(Wm),Bm=pe({},Pn,{animationName:0,elapsedTime:0,pseudoElement:0}),Hm=ot(Bm),Vm=pe({},Pn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),qm=ot(Vm),Gm=pe({},Pn,{data:0}),Oc=ot(Gm),Km={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jm(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Qm[t])?!!e[t]:!1}function Cl(){return Jm}var Ym=pe({},Ns,{key:function(t){if(t.key){var e=Km[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ci(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Xm[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cl,charCode:function(t){return t.type==="keypress"?ci(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ci(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Zm=ot(Ym),ep=pe({},Ki,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$c=ot(ep),tp=pe({},Ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cl}),rp=ot(tp),np=pe({},Pn,{propertyName:0,elapsedTime:0,pseudoElement:0}),sp=ot(np),ip=pe({},Ki,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),op=ot(ip),ap=[9,13,27,32],Tl=Vt&&"CompositionEvent"in window,Qn=null;Vt&&"documentMode"in document&&(Qn=document.documentMode);var lp=Vt&&"TextEvent"in window&&!Qn,zd=Vt&&(!Tl||Qn&&8<Qn&&11>=Qn),Ac=String.fromCharCode(32),Ic=!1;function Wd(t,e){switch(t){case"keyup":return ap.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var en=!1;function cp(t,e){switch(t){case"compositionend":return Bd(e);case"keypress":return e.which!==32?null:(Ic=!0,Ac);case"textInput":return t=e.data,t===Ac&&Ic?null:t;default:return null}}function up(t,e){if(en)return t==="compositionend"||!Tl&&Wd(t,e)?(t=Fd(),li=El=sr=null,en=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return zd&&e.locale!=="ko"?null:e.data;default:return null}}var dp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!dp[t.type]:e==="textarea"}function Hd(t,e,r,n){bd(n),e=Si(e,"onChange"),0<e.length&&(r=new Pl("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Jn=null,hs=null;function hp(t){th(t,0)}function Xi(t){var e=nn(t);if(md(e))return t}function fp(t,e){if(t==="change")return e}var Vd=!1;if(Vt){var To;if(Vt){var Ro="oninput"in document;if(!Ro){var Dc=document.createElement("div");Dc.setAttribute("oninput","return;"),Ro=typeof Dc.oninput=="function"}To=Ro}else To=!1;Vd=To&&(!document.documentMode||9<document.documentMode)}function Uc(){Jn&&(Jn.detachEvent("onpropertychange",qd),hs=Jn=null)}function qd(t){if(t.propertyName==="value"&&Xi(hs)){var e=[];Hd(e,hs,t,_l(t)),Sd(hp,e)}}function mp(t,e,r){t==="focusin"?(Uc(),Jn=e,hs=r,Jn.attachEvent("onpropertychange",qd)):t==="focusout"&&Uc()}function pp(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Xi(hs)}function gp(t,e){if(t==="click")return Xi(e)}function xp(t,e){if(t==="input"||t==="change")return Xi(e)}function vp(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var St=typeof Object.is=="function"?Object.is:vp;function fs(t,e){if(St(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!ia.call(e,s)||!St(t[s],e[s]))return!1}return!0}function Mc(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Fc(t,e){var r=Mc(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Mc(r)}}function Gd(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Gd(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Kd(){for(var t=window,e=vi();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=vi(t.document)}return e}function Rl(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function yp(t){var e=Kd(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Gd(r.ownerDocument.documentElement,r)){if(n!==null&&Rl(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=Fc(r,i);var a=Fc(r,n);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var wp=Vt&&"documentMode"in document&&11>=document.documentMode,tn=null,ja=null,Yn=null,Sa=!1;function zc(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Sa||tn==null||tn!==vi(n)||(n=tn,"selectionStart"in n&&Rl(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Yn&&fs(Yn,n)||(Yn=n,n=Si(ja,"onSelect"),0<n.length&&(e=new Pl("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=tn)))}function Vs(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var rn={animationend:Vs("Animation","AnimationEnd"),animationiteration:Vs("Animation","AnimationIteration"),animationstart:Vs("Animation","AnimationStart"),transitionend:Vs("Transition","TransitionEnd")},Oo={},Xd={};Vt&&(Xd=document.createElement("div").style,"AnimationEvent"in window||(delete rn.animationend.animation,delete rn.animationiteration.animation,delete rn.animationstart.animation),"TransitionEvent"in window||delete rn.transitionend.transition);function Qi(t){if(Oo[t])return Oo[t];if(!rn[t])return t;var e=rn[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Xd)return Oo[t]=e[r];return t}var Qd=Qi("animationend"),Jd=Qi("animationiteration"),Yd=Qi("animationstart"),Zd=Qi("transitionend"),eh=new Map,Wc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gr(t,e){eh.set(t,e),Ur(e,[t])}for(var $o=0;$o<Wc.length;$o++){var Ao=Wc[$o],bp=Ao.toLowerCase(),_p=Ao[0].toUpperCase()+Ao.slice(1);gr(bp,"on"+_p)}gr(Qd,"onAnimationEnd");gr(Jd,"onAnimationIteration");gr(Yd,"onAnimationStart");gr("dblclick","onDoubleClick");gr("focusin","onFocus");gr("focusout","onBlur");gr(Zd,"onTransitionEnd");vn("onMouseEnter",["mouseout","mouseover"]);vn("onMouseLeave",["mouseout","mouseover"]);vn("onPointerEnter",["pointerout","pointerover"]);vn("onPointerLeave",["pointerout","pointerover"]);Ur("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ur("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ur("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ur("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ur("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ur("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kp=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vn));function Bc(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,bm(n,e,void 0,t),t.currentTarget=null}function th(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var a=n.length-1;0<=a;a--){var l=n[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;Bc(s,l,u),i=c}else for(a=0;a<n.length;a++){if(l=n[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;Bc(s,l,u),i=c}}}if(wi)throw t=wa,wi=!1,wa=null,t}function ue(t,e){var r=e[Ta];r===void 0&&(r=e[Ta]=new Set);var n=t+"__bubble";r.has(n)||(rh(e,t,2,!1),r.add(n))}function Io(t,e,r){var n=0;e&&(n|=4),rh(r,t,n,e)}var qs="_reactListening"+Math.random().toString(36).slice(2);function ms(t){if(!t[qs]){t[qs]=!0,cd.forEach(function(r){r!=="selectionchange"&&(kp.has(r)||Io(r,!1,t),Io(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[qs]||(e[qs]=!0,Io("selectionchange",!1,e))}}function rh(t,e,r,n){switch(Md(e)){case 1:var s=Dm;break;case 4:s=Um;break;default:s=Nl}r=s.bind(null,e,r,t),s=void 0,!ya||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function Lo(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=Er(l),a===null)return;if(c=a.tag,c===5||c===6){n=i=a;continue e}l=l.parentNode}}n=n.return}Sd(function(){var u=i,d=_l(r),h=[];e:{var p=eh.get(t);if(p!==void 0){var y=Pl,m=t;switch(t){case"keypress":if(ci(r)===0)break e;case"keydown":case"keyup":y=Zm;break;case"focusin":m="focus",y=Co;break;case"focusout":m="blur",y=Co;break;case"beforeblur":case"afterblur":y=Co;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Rc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=zm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=rp;break;case Qd:case Jd:case Yd:y=Hm;break;case Zd:y=sp;break;case"scroll":y=Mm;break;case"wheel":y=op;break;case"copy":case"cut":case"paste":y=qm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=$c}var b=(e&4)!==0,_=!b&&t==="scroll",g=b?p!==null?p+"Capture":null:p;b=[];for(var f=u,x;f!==null;){x=f;var w=x.stateNode;if(x.tag===5&&w!==null&&(x=w,g!==null&&(w=ls(f,g),w!=null&&b.push(ps(f,w,x)))),_)break;f=f.return}0<b.length&&(p=new y(p,m,null,r,d),h.push({event:p,listeners:b}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",p&&r!==xa&&(m=r.relatedTarget||r.fromElement)&&(Er(m)||m[qt]))break e;if((y||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,y?(m=r.relatedTarget||r.toElement,y=u,m=m?Er(m):null,m!==null&&(_=Mr(m),m!==_||m.tag!==5&&m.tag!==6)&&(m=null)):(y=null,m=u),y!==m)){if(b=Rc,w="onMouseLeave",g="onMouseEnter",f="mouse",(t==="pointerout"||t==="pointerover")&&(b=$c,w="onPointerLeave",g="onPointerEnter",f="pointer"),_=y==null?p:nn(y),x=m==null?p:nn(m),p=new b(w,f+"leave",y,r,d),p.target=_,p.relatedTarget=x,w=null,Er(d)===u&&(b=new b(g,f+"enter",m,r,d),b.target=x,b.relatedTarget=_,w=b),_=w,y&&m)t:{for(b=y,g=m,f=0,x=b;x;x=Hr(x))f++;for(x=0,w=g;w;w=Hr(w))x++;for(;0<f-x;)b=Hr(b),f--;for(;0<x-f;)g=Hr(g),x--;for(;f--;){if(b===g||g!==null&&b===g.alternate)break t;b=Hr(b),g=Hr(g)}b=null}else b=null;y!==null&&Hc(h,p,y,b,!1),m!==null&&_!==null&&Hc(h,_,m,b,!0)}}e:{if(p=u?nn(u):window,y=p.nodeName&&p.nodeName.toLowerCase(),y==="select"||y==="input"&&p.type==="file")var E=fp;else if(Lc(p))if(Vd)E=xp;else{E=pp;var v=mp}else(y=p.nodeName)&&y.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(E=gp);if(E&&(E=E(t,u))){Hd(h,E,r,d);break e}v&&v(t,p,u),t==="focusout"&&(v=p._wrapperState)&&v.controlled&&p.type==="number"&&ha(p,"number",p.value)}switch(v=u?nn(u):window,t){case"focusin":(Lc(v)||v.contentEditable==="true")&&(tn=v,ja=u,Yn=null);break;case"focusout":Yn=ja=tn=null;break;case"mousedown":Sa=!0;break;case"contextmenu":case"mouseup":case"dragend":Sa=!1,zc(h,r,d);break;case"selectionchange":if(wp)break;case"keydown":case"keyup":zc(h,r,d)}var k;if(Tl)e:{switch(t){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else en?Wd(t,r)&&(j="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(j="onCompositionStart");j&&(zd&&r.locale!=="ko"&&(en||j!=="onCompositionStart"?j==="onCompositionEnd"&&en&&(k=Fd()):(sr=d,El="value"in sr?sr.value:sr.textContent,en=!0)),v=Si(u,j),0<v.length&&(j=new Oc(j,t,null,r,d),h.push({event:j,listeners:v}),k?j.data=k:(k=Bd(r),k!==null&&(j.data=k)))),(k=lp?cp(t,r):up(t,r))&&(u=Si(u,"onBeforeInput"),0<u.length&&(d=new Oc("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=k))}th(h,e)})}function ps(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Si(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ls(t,r),i!=null&&n.unshift(ps(t,i,s)),i=ls(t,e),i!=null&&n.push(ps(t,i,s))),t=t.return}return n}function Hr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Hc(t,e,r,n,s){for(var i=e._reactName,a=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=ls(r,i),c!=null&&a.unshift(ps(r,c,l))):s||(c=ls(r,i),c!=null&&a.push(ps(r,c,l)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var jp=/\r\n?/g,Sp=/\u0000|\uFFFD/g;function Vc(t){return(typeof t=="string"?t:""+t).replace(jp,`
`).replace(Sp,"")}function Gs(t,e,r){if(e=Vc(e),Vc(t)!==e&&r)throw Error(T(425))}function Ni(){}var Na=null,Ea=null;function Pa(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ca=typeof setTimeout=="function"?setTimeout:void 0,Np=typeof clearTimeout=="function"?clearTimeout:void 0,qc=typeof Promise=="function"?Promise:void 0,Ep=typeof queueMicrotask=="function"?queueMicrotask:typeof qc<"u"?function(t){return qc.resolve(null).then(t).catch(Pp)}:Ca;function Pp(t){setTimeout(function(){throw t})}function Do(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),ds(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);ds(e)}function cr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Gc(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Cn=Math.random().toString(36).slice(2),Tt="__reactFiber$"+Cn,gs="__reactProps$"+Cn,qt="__reactContainer$"+Cn,Ta="__reactEvents$"+Cn,Cp="__reactListeners$"+Cn,Tp="__reactHandles$"+Cn;function Er(t){var e=t[Tt];if(e)return e;for(var r=t.parentNode;r;){if(e=r[qt]||r[Tt]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Gc(t);t!==null;){if(r=t[Tt])return r;t=Gc(t)}return e}t=r,r=t.parentNode}return null}function Es(t){return t=t[Tt]||t[qt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function nn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(T(33))}function Ji(t){return t[gs]||null}var Ra=[],sn=-1;function xr(t){return{current:t}}function de(t){0>sn||(t.current=Ra[sn],Ra[sn]=null,sn--)}function ce(t,e){sn++,Ra[sn]=t.current,t.current=e}var pr={},Ue=xr(pr),Je=xr(!1),Or=pr;function yn(t,e){var r=t.type.contextTypes;if(!r)return pr;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Ye(t){return t=t.childContextTypes,t!=null}function Ei(){de(Je),de(Ue)}function Kc(t,e,r){if(Ue.current!==pr)throw Error(T(168));ce(Ue,e),ce(Je,r)}function nh(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(T(108,mm(t)||"Unknown",s));return pe({},r,n)}function Pi(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||pr,Or=Ue.current,ce(Ue,t),ce(Je,Je.current),!0}function Xc(t,e,r){var n=t.stateNode;if(!n)throw Error(T(169));r?(t=nh(t,e,Or),n.__reactInternalMemoizedMergedChildContext=t,de(Je),de(Ue),ce(Ue,t)):de(Je),ce(Je,r)}var Ut=null,Yi=!1,Uo=!1;function sh(t){Ut===null?Ut=[t]:Ut.push(t)}function Rp(t){Yi=!0,sh(t)}function vr(){if(!Uo&&Ut!==null){Uo=!0;var t=0,e=oe;try{var r=Ut;for(oe=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Ut=null,Yi=!1}catch(s){throw Ut!==null&&(Ut=Ut.slice(t+1)),Cd(kl,vr),s}finally{oe=e,Uo=!1}}return null}var on=[],an=0,Ci=null,Ti=0,at=[],lt=0,$r=null,Mt=1,Ft="";function kr(t,e){on[an++]=Ti,on[an++]=Ci,Ci=t,Ti=e}function ih(t,e,r){at[lt++]=Mt,at[lt++]=Ft,at[lt++]=$r,$r=t;var n=Mt;t=Ft;var s=32-kt(n)-1;n&=~(1<<s),r+=1;var i=32-kt(e)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,Mt=1<<32-kt(e)+s|r<<s|n,Ft=i+t}else Mt=1<<i|r<<s|n,Ft=t}function Ol(t){t.return!==null&&(kr(t,1),ih(t,1,0))}function $l(t){for(;t===Ci;)Ci=on[--an],on[an]=null,Ti=on[--an],on[an]=null;for(;t===$r;)$r=at[--lt],at[lt]=null,Ft=at[--lt],at[lt]=null,Mt=at[--lt],at[lt]=null}var nt=null,rt=null,he=!1,_t=null;function oh(t,e){var r=ut(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Qc(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,nt=t,rt=cr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,nt=t,rt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=$r!==null?{id:Mt,overflow:Ft}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=ut(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,nt=t,rt=null,!0):!1;default:return!1}}function Oa(t){return(t.mode&1)!==0&&(t.flags&128)===0}function $a(t){if(he){var e=rt;if(e){var r=e;if(!Qc(t,e)){if(Oa(t))throw Error(T(418));e=cr(r.nextSibling);var n=nt;e&&Qc(t,e)?oh(n,r):(t.flags=t.flags&-4097|2,he=!1,nt=t)}}else{if(Oa(t))throw Error(T(418));t.flags=t.flags&-4097|2,he=!1,nt=t}}}function Jc(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;nt=t}function Ks(t){if(t!==nt)return!1;if(!he)return Jc(t),he=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Pa(t.type,t.memoizedProps)),e&&(e=rt)){if(Oa(t))throw ah(),Error(T(418));for(;e;)oh(t,e),e=cr(e.nextSibling)}if(Jc(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(T(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){rt=cr(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}rt=null}}else rt=nt?cr(t.stateNode.nextSibling):null;return!0}function ah(){for(var t=rt;t;)t=cr(t.nextSibling)}function wn(){rt=nt=null,he=!1}function Al(t){_t===null?_t=[t]:_t.push(t)}var Op=Xt.ReactCurrentBatchConfig;function Un(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(T(309));var n=r.stateNode}if(!n)throw Error(T(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(T(284));if(!r._owner)throw Error(T(290,t))}return t}function Xs(t,e){throw t=Object.prototype.toString.call(e),Error(T(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Yc(t){var e=t._init;return e(t._payload)}function lh(t){function e(g,f){if(t){var x=g.deletions;x===null?(g.deletions=[f],g.flags|=16):x.push(f)}}function r(g,f){if(!t)return null;for(;f!==null;)e(g,f),f=f.sibling;return null}function n(g,f){for(g=new Map;f!==null;)f.key!==null?g.set(f.key,f):g.set(f.index,f),f=f.sibling;return g}function s(g,f){return g=fr(g,f),g.index=0,g.sibling=null,g}function i(g,f,x){return g.index=x,t?(x=g.alternate,x!==null?(x=x.index,x<f?(g.flags|=2,f):x):(g.flags|=2,f)):(g.flags|=1048576,f)}function a(g){return t&&g.alternate===null&&(g.flags|=2),g}function l(g,f,x,w){return f===null||f.tag!==6?(f=Vo(x,g.mode,w),f.return=g,f):(f=s(f,x),f.return=g,f)}function c(g,f,x,w){var E=x.type;return E===Zr?d(g,f,x.props.children,w,x.key):f!==null&&(f.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Zt&&Yc(E)===f.type)?(w=s(f,x.props),w.ref=Un(g,f,x),w.return=g,w):(w=gi(x.type,x.key,x.props,null,g.mode,w),w.ref=Un(g,f,x),w.return=g,w)}function u(g,f,x,w){return f===null||f.tag!==4||f.stateNode.containerInfo!==x.containerInfo||f.stateNode.implementation!==x.implementation?(f=qo(x,g.mode,w),f.return=g,f):(f=s(f,x.children||[]),f.return=g,f)}function d(g,f,x,w,E){return f===null||f.tag!==7?(f=Rr(x,g.mode,w,E),f.return=g,f):(f=s(f,x),f.return=g,f)}function h(g,f,x){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Vo(""+f,g.mode,x),f.return=g,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Us:return x=gi(f.type,f.key,f.props,null,g.mode,x),x.ref=Un(g,null,f),x.return=g,x;case Yr:return f=qo(f,g.mode,x),f.return=g,f;case Zt:var w=f._init;return h(g,w(f._payload),x)}if(Bn(f)||$n(f))return f=Rr(f,g.mode,x,null),f.return=g,f;Xs(g,f)}return null}function p(g,f,x,w){var E=f!==null?f.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return E!==null?null:l(g,f,""+x,w);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Us:return x.key===E?c(g,f,x,w):null;case Yr:return x.key===E?u(g,f,x,w):null;case Zt:return E=x._init,p(g,f,E(x._payload),w)}if(Bn(x)||$n(x))return E!==null?null:d(g,f,x,w,null);Xs(g,x)}return null}function y(g,f,x,w,E){if(typeof w=="string"&&w!==""||typeof w=="number")return g=g.get(x)||null,l(f,g,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Us:return g=g.get(w.key===null?x:w.key)||null,c(f,g,w,E);case Yr:return g=g.get(w.key===null?x:w.key)||null,u(f,g,w,E);case Zt:var v=w._init;return y(g,f,x,v(w._payload),E)}if(Bn(w)||$n(w))return g=g.get(x)||null,d(f,g,w,E,null);Xs(f,w)}return null}function m(g,f,x,w){for(var E=null,v=null,k=f,j=f=0,C=null;k!==null&&j<x.length;j++){k.index>j?(C=k,k=null):C=k.sibling;var O=p(g,k,x[j],w);if(O===null){k===null&&(k=C);break}t&&k&&O.alternate===null&&e(g,k),f=i(O,f,j),v===null?E=O:v.sibling=O,v=O,k=C}if(j===x.length)return r(g,k),he&&kr(g,j),E;if(k===null){for(;j<x.length;j++)k=h(g,x[j],w),k!==null&&(f=i(k,f,j),v===null?E=k:v.sibling=k,v=k);return he&&kr(g,j),E}for(k=n(g,k);j<x.length;j++)C=y(k,g,j,x[j],w),C!==null&&(t&&C.alternate!==null&&k.delete(C.key===null?j:C.key),f=i(C,f,j),v===null?E=C:v.sibling=C,v=C);return t&&k.forEach(function(I){return e(g,I)}),he&&kr(g,j),E}function b(g,f,x,w){var E=$n(x);if(typeof E!="function")throw Error(T(150));if(x=E.call(x),x==null)throw Error(T(151));for(var v=E=null,k=f,j=f=0,C=null,O=x.next();k!==null&&!O.done;j++,O=x.next()){k.index>j?(C=k,k=null):C=k.sibling;var I=p(g,k,O.value,w);if(I===null){k===null&&(k=C);break}t&&k&&I.alternate===null&&e(g,k),f=i(I,f,j),v===null?E=I:v.sibling=I,v=I,k=C}if(O.done)return r(g,k),he&&kr(g,j),E;if(k===null){for(;!O.done;j++,O=x.next())O=h(g,O.value,w),O!==null&&(f=i(O,f,j),v===null?E=O:v.sibling=O,v=O);return he&&kr(g,j),E}for(k=n(g,k);!O.done;j++,O=x.next())O=y(k,g,j,O.value,w),O!==null&&(t&&O.alternate!==null&&k.delete(O.key===null?j:O.key),f=i(O,f,j),v===null?E=O:v.sibling=O,v=O);return t&&k.forEach(function(B){return e(g,B)}),he&&kr(g,j),E}function _(g,f,x,w){if(typeof x=="object"&&x!==null&&x.type===Zr&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Us:e:{for(var E=x.key,v=f;v!==null;){if(v.key===E){if(E=x.type,E===Zr){if(v.tag===7){r(g,v.sibling),f=s(v,x.props.children),f.return=g,g=f;break e}}else if(v.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Zt&&Yc(E)===v.type){r(g,v.sibling),f=s(v,x.props),f.ref=Un(g,v,x),f.return=g,g=f;break e}r(g,v);break}else e(g,v);v=v.sibling}x.type===Zr?(f=Rr(x.props.children,g.mode,w,x.key),f.return=g,g=f):(w=gi(x.type,x.key,x.props,null,g.mode,w),w.ref=Un(g,f,x),w.return=g,g=w)}return a(g);case Yr:e:{for(v=x.key;f!==null;){if(f.key===v)if(f.tag===4&&f.stateNode.containerInfo===x.containerInfo&&f.stateNode.implementation===x.implementation){r(g,f.sibling),f=s(f,x.children||[]),f.return=g,g=f;break e}else{r(g,f);break}else e(g,f);f=f.sibling}f=qo(x,g.mode,w),f.return=g,g=f}return a(g);case Zt:return v=x._init,_(g,f,v(x._payload),w)}if(Bn(x))return m(g,f,x,w);if($n(x))return b(g,f,x,w);Xs(g,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,f!==null&&f.tag===6?(r(g,f.sibling),f=s(f,x),f.return=g,g=f):(r(g,f),f=Vo(x,g.mode,w),f.return=g,g=f),a(g)):r(g,f)}return _}var bn=lh(!0),ch=lh(!1),Ri=xr(null),Oi=null,ln=null,Il=null;function Ll(){Il=ln=Oi=null}function Dl(t){var e=Ri.current;de(Ri),t._currentValue=e}function Aa(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function gn(t,e){Oi=t,Il=ln=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Qe=!0),t.firstContext=null)}function mt(t){var e=t._currentValue;if(Il!==t)if(t={context:t,memoizedValue:e,next:null},ln===null){if(Oi===null)throw Error(T(308));ln=t,Oi.dependencies={lanes:0,firstContext:t}}else ln=ln.next=t;return e}var Pr=null;function Ul(t){Pr===null?Pr=[t]:Pr.push(t)}function uh(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,Ul(e)):(r.next=s.next,s.next=r),e.interleaved=r,Gt(t,n)}function Gt(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var er=!1;function Ml(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dh(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function zt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ur(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,ne&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,Gt(t,r)}return s=n.interleaved,s===null?(e.next=e,Ul(n)):(e.next=s.next,s.next=e),n.interleaved=e,Gt(t,r)}function ui(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,jl(t,r)}}function Zc(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function $i(t,e,r,n){var s=t.updateQueue;er=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;a=0,d=u=c=null,l=i;do{var p=l.lane,y=l.eventTime;if((n&p)===p){d!==null&&(d=d.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var m=t,b=l;switch(p=e,y=r,b.tag){case 1:if(m=b.payload,typeof m=="function"){h=m.call(y,h,p);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=b.payload,p=typeof m=="function"?m.call(y,h,p):m,p==null)break e;h=pe({},h,p);break e;case 2:er=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[l]:p.push(l))}else y={eventTime:y,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=y,c=h):d=d.next=y,a|=p;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;p=l,l=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(1);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Ir|=a,t.lanes=a,t.memoizedState=h}}function eu(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(T(191,s));s.call(n)}}}var Ps={},Ot=xr(Ps),xs=xr(Ps),vs=xr(Ps);function Cr(t){if(t===Ps)throw Error(T(174));return t}function Fl(t,e){switch(ce(vs,e),ce(xs,t),ce(Ot,Ps),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ma(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ma(e,t)}de(Ot),ce(Ot,e)}function _n(){de(Ot),de(xs),de(vs)}function hh(t){Cr(vs.current);var e=Cr(Ot.current),r=ma(e,t.type);e!==r&&(ce(xs,t),ce(Ot,r))}function zl(t){xs.current===t&&(de(Ot),de(xs))}var fe=xr(0);function Ai(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Mo=[];function Wl(){for(var t=0;t<Mo.length;t++)Mo[t]._workInProgressVersionPrimary=null;Mo.length=0}var di=Xt.ReactCurrentDispatcher,Fo=Xt.ReactCurrentBatchConfig,Ar=0,me=null,Se=null,Pe=null,Ii=!1,Zn=!1,ys=0,$p=0;function Ie(){throw Error(T(321))}function Bl(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!St(t[r],e[r]))return!1;return!0}function Hl(t,e,r,n,s,i){if(Ar=i,me=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,di.current=t===null||t.memoizedState===null?Dp:Up,t=r(n,s),Zn){i=0;do{if(Zn=!1,ys=0,25<=i)throw Error(T(301));i+=1,Pe=Se=null,e.updateQueue=null,di.current=Mp,t=r(n,s)}while(Zn)}if(di.current=Li,e=Se!==null&&Se.next!==null,Ar=0,Pe=Se=me=null,Ii=!1,e)throw Error(T(300));return t}function Vl(){var t=ys!==0;return ys=0,t}function Et(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pe===null?me.memoizedState=Pe=t:Pe=Pe.next=t,Pe}function pt(){if(Se===null){var t=me.alternate;t=t!==null?t.memoizedState:null}else t=Se.next;var e=Pe===null?me.memoizedState:Pe.next;if(e!==null)Pe=e,Se=t;else{if(t===null)throw Error(T(310));Se=t,t={memoizedState:Se.memoizedState,baseState:Se.baseState,baseQueue:Se.baseQueue,queue:Se.queue,next:null},Pe===null?me.memoizedState=Pe=t:Pe=Pe.next=t}return Pe}function ws(t,e){return typeof e=="function"?e(t):e}function zo(t){var e=pt(),r=e.queue;if(r===null)throw Error(T(311));r.lastRenderedReducer=t;var n=Se,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=a=null,c=null,u=i;do{var d=u.lane;if((Ar&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,a=n):c=c.next=h,me.lanes|=d,Ir|=d}u=u.next}while(u!==null&&u!==i);c===null?a=n:c.next=l,St(n,e.memoizedState)||(Qe=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,me.lanes|=i,Ir|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Wo(t){var e=pt(),r=e.queue;if(r===null)throw Error(T(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);St(i,e.memoizedState)||(Qe=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function fh(){}function mh(t,e){var r=me,n=pt(),s=e(),i=!St(n.memoizedState,s);if(i&&(n.memoizedState=s,Qe=!0),n=n.queue,ql(xh.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||Pe!==null&&Pe.memoizedState.tag&1){if(r.flags|=2048,bs(9,gh.bind(null,r,n,s,e),void 0,null),Ce===null)throw Error(T(349));Ar&30||ph(r,e,s)}return s}function ph(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=me.updateQueue,e===null?(e={lastEffect:null,stores:null},me.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function gh(t,e,r,n){e.value=r,e.getSnapshot=n,vh(e)&&yh(t)}function xh(t,e,r){return r(function(){vh(e)&&yh(t)})}function vh(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!St(t,r)}catch{return!0}}function yh(t){var e=Gt(t,1);e!==null&&jt(e,t,1,-1)}function tu(t){var e=Et();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ws,lastRenderedState:t},e.queue=t,t=t.dispatch=Lp.bind(null,me,t),[e.memoizedState,t]}function bs(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=me.updateQueue,e===null?(e={lastEffect:null,stores:null},me.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function wh(){return pt().memoizedState}function hi(t,e,r,n){var s=Et();me.flags|=t,s.memoizedState=bs(1|e,r,void 0,n===void 0?null:n)}function Zi(t,e,r,n){var s=pt();n=n===void 0?null:n;var i=void 0;if(Se!==null){var a=Se.memoizedState;if(i=a.destroy,n!==null&&Bl(n,a.deps)){s.memoizedState=bs(e,r,i,n);return}}me.flags|=t,s.memoizedState=bs(1|e,r,i,n)}function ru(t,e){return hi(8390656,8,t,e)}function ql(t,e){return Zi(2048,8,t,e)}function bh(t,e){return Zi(4,2,t,e)}function _h(t,e){return Zi(4,4,t,e)}function kh(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function jh(t,e,r){return r=r!=null?r.concat([t]):null,Zi(4,4,kh.bind(null,e,t),r)}function Gl(){}function Sh(t,e){var r=pt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Bl(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Nh(t,e){var r=pt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Bl(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Eh(t,e,r){return Ar&21?(St(r,e)||(r=Od(),me.lanes|=r,Ir|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Qe=!0),t.memoizedState=r)}function Ap(t,e){var r=oe;oe=r!==0&&4>r?r:4,t(!0);var n=Fo.transition;Fo.transition={};try{t(!1),e()}finally{oe=r,Fo.transition=n}}function Ph(){return pt().memoizedState}function Ip(t,e,r){var n=hr(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Ch(t))Th(e,r);else if(r=uh(t,e,r,n),r!==null){var s=We();jt(r,t,n,s),Rh(r,e,n)}}function Lp(t,e,r){var n=hr(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ch(t))Th(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,l=i(a,r);if(s.hasEagerState=!0,s.eagerState=l,St(l,a)){var c=e.interleaved;c===null?(s.next=s,Ul(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}r=uh(t,e,s,n),r!==null&&(s=We(),jt(r,t,n,s),Rh(r,e,n))}}function Ch(t){var e=t.alternate;return t===me||e!==null&&e===me}function Th(t,e){Zn=Ii=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Rh(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,jl(t,r)}}var Li={readContext:mt,useCallback:Ie,useContext:Ie,useEffect:Ie,useImperativeHandle:Ie,useInsertionEffect:Ie,useLayoutEffect:Ie,useMemo:Ie,useReducer:Ie,useRef:Ie,useState:Ie,useDebugValue:Ie,useDeferredValue:Ie,useTransition:Ie,useMutableSource:Ie,useSyncExternalStore:Ie,useId:Ie,unstable_isNewReconciler:!1},Dp={readContext:mt,useCallback:function(t,e){return Et().memoizedState=[t,e===void 0?null:e],t},useContext:mt,useEffect:ru,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,hi(4194308,4,kh.bind(null,e,t),r)},useLayoutEffect:function(t,e){return hi(4194308,4,t,e)},useInsertionEffect:function(t,e){return hi(4,2,t,e)},useMemo:function(t,e){var r=Et();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Et();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Ip.bind(null,me,t),[n.memoizedState,t]},useRef:function(t){var e=Et();return t={current:t},e.memoizedState=t},useState:tu,useDebugValue:Gl,useDeferredValue:function(t){return Et().memoizedState=t},useTransition:function(){var t=tu(!1),e=t[0];return t=Ap.bind(null,t[1]),Et().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=me,s=Et();if(he){if(r===void 0)throw Error(T(407));r=r()}else{if(r=e(),Ce===null)throw Error(T(349));Ar&30||ph(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,ru(xh.bind(null,n,i,t),[t]),n.flags|=2048,bs(9,gh.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=Et(),e=Ce.identifierPrefix;if(he){var r=Ft,n=Mt;r=(n&~(1<<32-kt(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=ys++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=$p++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Up={readContext:mt,useCallback:Sh,useContext:mt,useEffect:ql,useImperativeHandle:jh,useInsertionEffect:bh,useLayoutEffect:_h,useMemo:Nh,useReducer:zo,useRef:wh,useState:function(){return zo(ws)},useDebugValue:Gl,useDeferredValue:function(t){var e=pt();return Eh(e,Se.memoizedState,t)},useTransition:function(){var t=zo(ws)[0],e=pt().memoizedState;return[t,e]},useMutableSource:fh,useSyncExternalStore:mh,useId:Ph,unstable_isNewReconciler:!1},Mp={readContext:mt,useCallback:Sh,useContext:mt,useEffect:ql,useImperativeHandle:jh,useInsertionEffect:bh,useLayoutEffect:_h,useMemo:Nh,useReducer:Wo,useRef:wh,useState:function(){return Wo(ws)},useDebugValue:Gl,useDeferredValue:function(t){var e=pt();return Se===null?e.memoizedState=t:Eh(e,Se.memoizedState,t)},useTransition:function(){var t=Wo(ws)[0],e=pt().memoizedState;return[t,e]},useMutableSource:fh,useSyncExternalStore:mh,useId:Ph,unstable_isNewReconciler:!1};function yt(t,e){if(t&&t.defaultProps){e=pe({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Ia(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:pe({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var eo={isMounted:function(t){return(t=t._reactInternals)?Mr(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=We(),s=hr(t),i=zt(n,s);i.payload=e,r!=null&&(i.callback=r),e=ur(t,i,s),e!==null&&(jt(e,t,s,n),ui(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=We(),s=hr(t),i=zt(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=ur(t,i,s),e!==null&&(jt(e,t,s,n),ui(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=We(),n=hr(t),s=zt(r,n);s.tag=2,e!=null&&(s.callback=e),e=ur(t,s,n),e!==null&&(jt(e,t,n,r),ui(e,t,n))}};function nu(t,e,r,n,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,a):e.prototype&&e.prototype.isPureReactComponent?!fs(r,n)||!fs(s,i):!0}function Oh(t,e,r){var n=!1,s=pr,i=e.contextType;return typeof i=="object"&&i!==null?i=mt(i):(s=Ye(e)?Or:Ue.current,n=e.contextTypes,i=(n=n!=null)?yn(t,s):pr),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=eo,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function su(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&eo.enqueueReplaceState(e,e.state,null)}function La(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},Ml(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=mt(i):(i=Ye(e)?Or:Ue.current,s.context=yn(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Ia(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&eo.enqueueReplaceState(s,s.state,null),$i(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function kn(t,e){try{var r="",n=e;do r+=fm(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Bo(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Da(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Fp=typeof WeakMap=="function"?WeakMap:Map;function $h(t,e,r){r=zt(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Ui||(Ui=!0,Ga=n),Da(t,e)},r}function Ah(t,e,r){r=zt(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){Da(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Da(t,e),typeof n!="function"&&(dr===null?dr=new Set([this]):dr.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function iu(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new Fp;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=eg.bind(null,t,e,r),e.then(t,t))}function ou(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function au(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=zt(-1,1),e.tag=2,ur(r,e,1))),r.lanes|=1),t)}var zp=Xt.ReactCurrentOwner,Qe=!1;function ze(t,e,r,n){e.child=t===null?ch(e,null,r,n):bn(e,t.child,r,n)}function lu(t,e,r,n,s){r=r.render;var i=e.ref;return gn(e,s),n=Hl(t,e,r,n,i,s),r=Vl(),t!==null&&!Qe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Kt(t,e,s)):(he&&r&&Ol(e),e.flags|=1,ze(t,e,n,s),e.child)}function cu(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!tc(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,Ih(t,e,i,n,s)):(t=gi(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:fs,r(a,n)&&t.ref===e.ref)return Kt(t,e,s)}return e.flags|=1,t=fr(i,n),t.ref=e.ref,t.return=e,e.child=t}function Ih(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(fs(i,n)&&t.ref===e.ref)if(Qe=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(Qe=!0);else return e.lanes=t.lanes,Kt(t,e,s)}return Ua(t,e,r,n,s)}function Lh(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ce(un,tt),tt|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ce(un,tt),tt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,ce(un,tt),tt|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,ce(un,tt),tt|=n;return ze(t,e,s,r),e.child}function Dh(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Ua(t,e,r,n,s){var i=Ye(r)?Or:Ue.current;return i=yn(e,i),gn(e,s),r=Hl(t,e,r,n,i,s),n=Vl(),t!==null&&!Qe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Kt(t,e,s)):(he&&n&&Ol(e),e.flags|=1,ze(t,e,r,s),e.child)}function uu(t,e,r,n,s){if(Ye(r)){var i=!0;Pi(e)}else i=!1;if(gn(e,s),e.stateNode===null)fi(t,e),Oh(e,r,n),La(e,r,n,s),n=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var c=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=mt(u):(u=Ye(r)?Or:Ue.current,u=yn(e,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==n||c!==u)&&su(e,a,n,u),er=!1;var p=e.memoizedState;a.state=p,$i(e,n,a,s),c=e.memoizedState,l!==n||p!==c||Je.current||er?(typeof d=="function"&&(Ia(e,r,d,n),c=e.memoizedState),(l=er||nu(e,r,l,n,p,c,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),a.props=n,a.state=c,a.context=u,n=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,dh(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:yt(e.type,l),a.props=u,h=e.pendingProps,p=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=mt(c):(c=Ye(r)?Or:Ue.current,c=yn(e,c));var y=r.getDerivedStateFromProps;(d=typeof y=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==h||p!==c)&&su(e,a,n,c),er=!1,p=e.memoizedState,a.state=p,$i(e,n,a,s);var m=e.memoizedState;l!==h||p!==m||Je.current||er?(typeof y=="function"&&(Ia(e,r,y,n),m=e.memoizedState),(u=er||nu(e,r,u,n,p,m,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,m,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,m,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=m),a.props=n,a.state=m,a.context=c,n=u):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),n=!1)}return Ma(t,e,r,n,i,s)}function Ma(t,e,r,n,s,i){Dh(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return s&&Xc(e,r,!1),Kt(t,e,i);n=e.stateNode,zp.current=e;var l=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=bn(e,t.child,null,i),e.child=bn(e,null,l,i)):ze(t,e,l,i),e.memoizedState=n.state,s&&Xc(e,r,!0),e.child}function Uh(t){var e=t.stateNode;e.pendingContext?Kc(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Kc(t,e.context,!1),Fl(t,e.containerInfo)}function du(t,e,r,n,s){return wn(),Al(s),e.flags|=256,ze(t,e,r,n),e.child}var Fa={dehydrated:null,treeContext:null,retryLane:0};function za(t){return{baseLanes:t,cachePool:null,transitions:null}}function Mh(t,e,r){var n=e.pendingProps,s=fe.current,i=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),ce(fe,s&1),t===null)return $a(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,i?(n=e.mode,i=e.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=no(a,n,0,null),t=Rr(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=za(r),e.memoizedState=Fa,t):Kl(e,a));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Wp(t,e,a,n,l,s,r);if(i){i=n.fallback,a=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(a&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=fr(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=fr(l,i):(i=Rr(i,a,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,a=t.child.memoizedState,a=a===null?za(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~r,e.memoizedState=Fa,n}return i=t.child,t=i.sibling,n=fr(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Kl(t,e){return e=no({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Qs(t,e,r,n){return n!==null&&Al(n),bn(e,t.child,null,r),t=Kl(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Wp(t,e,r,n,s,i,a){if(r)return e.flags&256?(e.flags&=-257,n=Bo(Error(T(422))),Qs(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=no({mode:"visible",children:n.children},s,0,null),i=Rr(i,s,a,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&bn(e,t.child,null,a),e.child.memoizedState=za(a),e.memoizedState=Fa,i);if(!(e.mode&1))return Qs(t,e,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(T(419)),n=Bo(i,n,void 0),Qs(t,e,a,n)}if(l=(a&t.childLanes)!==0,Qe||l){if(n=Ce,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Gt(t,s),jt(n,t,s,-1))}return ec(),n=Bo(Error(T(421))),Qs(t,e,a,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=tg.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,rt=cr(s.nextSibling),nt=e,he=!0,_t=null,t!==null&&(at[lt++]=Mt,at[lt++]=Ft,at[lt++]=$r,Mt=t.id,Ft=t.overflow,$r=e),e=Kl(e,n.children),e.flags|=4096,e)}function hu(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Aa(t.return,e,r)}function Ho(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Fh(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(ze(t,e,n.children,r),n=fe.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&hu(t,r,e);else if(t.tag===19)hu(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(ce(fe,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&Ai(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),Ho(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Ai(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}Ho(e,!0,r,null,i);break;case"together":Ho(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function fi(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Kt(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Ir|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(T(153));if(e.child!==null){for(t=e.child,r=fr(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=fr(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function Bp(t,e,r){switch(e.tag){case 3:Uh(e),wn();break;case 5:hh(e);break;case 1:Ye(e.type)&&Pi(e);break;case 4:Fl(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;ce(Ri,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(ce(fe,fe.current&1),e.flags|=128,null):r&e.child.childLanes?Mh(t,e,r):(ce(fe,fe.current&1),t=Kt(t,e,r),t!==null?t.sibling:null);ce(fe,fe.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return Fh(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ce(fe,fe.current),n)break;return null;case 22:case 23:return e.lanes=0,Lh(t,e,r)}return Kt(t,e,r)}var zh,Wa,Wh,Bh;zh=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Wa=function(){};Wh=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,Cr(Ot.current);var i=null;switch(r){case"input":s=ua(t,s),n=ua(t,n),i=[];break;case"select":s=pe({},s,{value:void 0}),n=pe({},n,{value:void 0}),i=[];break;case"textarea":s=fa(t,s),n=fa(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Ni)}pa(r,n);var a;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(os.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(os.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ue("scroll",t),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};Bh=function(t,e,r,n){r!==n&&(e.flags|=4)};function Mn(t,e){if(!he)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Le(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function Hp(t,e,r){var n=e.pendingProps;switch($l(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Le(e),null;case 1:return Ye(e.type)&&Ei(),Le(e),null;case 3:return n=e.stateNode,_n(),de(Je),de(Ue),Wl(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Ks(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,_t!==null&&(Qa(_t),_t=null))),Wa(t,e),Le(e),null;case 5:zl(e);var s=Cr(vs.current);if(r=e.type,t!==null&&e.stateNode!=null)Wh(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(T(166));return Le(e),null}if(t=Cr(Ot.current),Ks(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[Tt]=e,n[gs]=i,t=(e.mode&1)!==0,r){case"dialog":ue("cancel",n),ue("close",n);break;case"iframe":case"object":case"embed":ue("load",n);break;case"video":case"audio":for(s=0;s<Vn.length;s++)ue(Vn[s],n);break;case"source":ue("error",n);break;case"img":case"image":case"link":ue("error",n),ue("load",n);break;case"details":ue("toggle",n);break;case"input":bc(n,i),ue("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},ue("invalid",n);break;case"textarea":kc(n,i),ue("invalid",n)}pa(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Gs(n.textContent,l,t),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Gs(n.textContent,l,t),s=["children",""+l]):os.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&ue("scroll",n)}switch(r){case"input":Ms(n),_c(n,i,!0);break;case"textarea":Ms(n),jc(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Ni)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=xd(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[Tt]=e,t[gs]=n,zh(t,e,!1,!1),e.stateNode=t;e:{switch(a=ga(r,n),r){case"dialog":ue("cancel",t),ue("close",t),s=n;break;case"iframe":case"object":case"embed":ue("load",t),s=n;break;case"video":case"audio":for(s=0;s<Vn.length;s++)ue(Vn[s],t);s=n;break;case"source":ue("error",t),s=n;break;case"img":case"image":case"link":ue("error",t),ue("load",t),s=n;break;case"details":ue("toggle",t),s=n;break;case"input":bc(t,n),s=ua(t,n),ue("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=pe({},n,{value:void 0}),ue("invalid",t);break;case"textarea":kc(t,n),s=fa(t,n),ue("invalid",t);break;default:s=n}pa(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?wd(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&vd(t,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&as(t,c):typeof c=="number"&&as(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(os.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ue("scroll",t):c!=null&&vl(t,i,c,a))}switch(r){case"input":Ms(t),_c(t,n,!1);break;case"textarea":Ms(t),jc(t);break;case"option":n.value!=null&&t.setAttribute("value",""+mr(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?hn(t,!!n.multiple,i,!1):n.defaultValue!=null&&hn(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Ni)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Le(e),null;case 6:if(t&&e.stateNode!=null)Bh(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(T(166));if(r=Cr(vs.current),Cr(Ot.current),Ks(e)){if(n=e.stateNode,r=e.memoizedProps,n[Tt]=e,(i=n.nodeValue!==r)&&(t=nt,t!==null))switch(t.tag){case 3:Gs(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Gs(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Tt]=e,e.stateNode=n}return Le(e),null;case 13:if(de(fe),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(he&&rt!==null&&e.mode&1&&!(e.flags&128))ah(),wn(),e.flags|=98560,i=!1;else if(i=Ks(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(T(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(T(317));i[Tt]=e}else wn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Le(e),i=!1}else _t!==null&&(Qa(_t),_t=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||fe.current&1?Ee===0&&(Ee=3):ec())),e.updateQueue!==null&&(e.flags|=4),Le(e),null);case 4:return _n(),Wa(t,e),t===null&&ms(e.stateNode.containerInfo),Le(e),null;case 10:return Dl(e.type._context),Le(e),null;case 17:return Ye(e.type)&&Ei(),Le(e),null;case 19:if(de(fe),i=e.memoizedState,i===null)return Le(e),null;if(n=(e.flags&128)!==0,a=i.rendering,a===null)if(n)Mn(i,!1);else{if(Ee!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Ai(t),a!==null){for(e.flags|=128,Mn(i,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return ce(fe,fe.current&1|2),e.child}t=t.sibling}i.tail!==null&&ve()>jn&&(e.flags|=128,n=!0,Mn(i,!1),e.lanes=4194304)}else{if(!n)if(t=Ai(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Mn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!he)return Le(e),null}else 2*ve()-i.renderingStartTime>jn&&r!==1073741824&&(e.flags|=128,n=!0,Mn(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(r=i.last,r!==null?r.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ve(),e.sibling=null,r=fe.current,ce(fe,n?r&1|2:r&1),e):(Le(e),null);case 22:case 23:return Zl(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?tt&1073741824&&(Le(e),e.subtreeFlags&6&&(e.flags|=8192)):Le(e),null;case 24:return null;case 25:return null}throw Error(T(156,e.tag))}function Vp(t,e){switch($l(e),e.tag){case 1:return Ye(e.type)&&Ei(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return _n(),de(Je),de(Ue),Wl(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return zl(e),null;case 13:if(de(fe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(T(340));wn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return de(fe),null;case 4:return _n(),null;case 10:return Dl(e.type._context),null;case 22:case 23:return Zl(),null;case 24:return null;default:return null}}var Js=!1,De=!1,qp=typeof WeakSet=="function"?WeakSet:Set,M=null;function cn(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){xe(t,e,n)}else r.current=null}function Ba(t,e,r){try{r()}catch(n){xe(t,e,n)}}var fu=!1;function Gp(t,e){if(Na=ki,t=Kd(),Rl(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=t,p=null;t:for(;;){for(var y;h!==r||s!==0&&h.nodeType!==3||(l=a+s),h!==i||n!==0&&h.nodeType!==3||(c=a+n),h.nodeType===3&&(a+=h.nodeValue.length),(y=h.firstChild)!==null;)p=h,h=y;for(;;){if(h===t)break t;if(p===r&&++u===s&&(l=a),p===i&&++d===n&&(c=a),(y=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=y}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ea={focusedElem:t,selectionRange:r},ki=!1,M=e;M!==null;)if(e=M,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,M=t;else for(;M!==null;){e=M;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var b=m.memoizedProps,_=m.memoizedState,g=e.stateNode,f=g.getSnapshotBeforeUpdate(e.elementType===e.type?b:yt(e.type,b),_);g.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(T(163))}}catch(w){xe(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,M=t;break}M=e.return}return m=fu,fu=!1,m}function es(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Ba(e,r,i)}s=s.next}while(s!==n)}}function to(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Ha(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function Hh(t){var e=t.alternate;e!==null&&(t.alternate=null,Hh(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Tt],delete e[gs],delete e[Ta],delete e[Cp],delete e[Tp])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Vh(t){return t.tag===5||t.tag===3||t.tag===4}function mu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Vh(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Va(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Ni));else if(n!==4&&(t=t.child,t!==null))for(Va(t,e,r),t=t.sibling;t!==null;)Va(t,e,r),t=t.sibling}function qa(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(qa(t,e,r),t=t.sibling;t!==null;)qa(t,e,r),t=t.sibling}var Te=null,wt=!1;function Qt(t,e,r){for(r=r.child;r!==null;)qh(t,e,r),r=r.sibling}function qh(t,e,r){if(Rt&&typeof Rt.onCommitFiberUnmount=="function")try{Rt.onCommitFiberUnmount(Gi,r)}catch{}switch(r.tag){case 5:De||cn(r,e);case 6:var n=Te,s=wt;Te=null,Qt(t,e,r),Te=n,wt=s,Te!==null&&(wt?(t=Te,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Te.removeChild(r.stateNode));break;case 18:Te!==null&&(wt?(t=Te,r=r.stateNode,t.nodeType===8?Do(t.parentNode,r):t.nodeType===1&&Do(t,r),ds(t)):Do(Te,r.stateNode));break;case 4:n=Te,s=wt,Te=r.stateNode.containerInfo,wt=!0,Qt(t,e,r),Te=n,wt=s;break;case 0:case 11:case 14:case 15:if(!De&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Ba(r,e,a),s=s.next}while(s!==n)}Qt(t,e,r);break;case 1:if(!De&&(cn(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){xe(r,e,l)}Qt(t,e,r);break;case 21:Qt(t,e,r);break;case 22:r.mode&1?(De=(n=De)||r.memoizedState!==null,Qt(t,e,r),De=n):Qt(t,e,r);break;default:Qt(t,e,r)}}function pu(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new qp),e.forEach(function(n){var s=rg.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function xt(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:Te=l.stateNode,wt=!1;break e;case 3:Te=l.stateNode.containerInfo,wt=!0;break e;case 4:Te=l.stateNode.containerInfo,wt=!0;break e}l=l.return}if(Te===null)throw Error(T(160));qh(i,a,s),Te=null,wt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){xe(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Gh(e,t),e=e.sibling}function Gh(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(xt(e,t),Nt(t),n&4){try{es(3,t,t.return),to(3,t)}catch(b){xe(t,t.return,b)}try{es(5,t,t.return)}catch(b){xe(t,t.return,b)}}break;case 1:xt(e,t),Nt(t),n&512&&r!==null&&cn(r,r.return);break;case 5:if(xt(e,t),Nt(t),n&512&&r!==null&&cn(r,r.return),t.flags&32){var s=t.stateNode;try{as(s,"")}catch(b){xe(t,t.return,b)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=r!==null?r.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&pd(s,i),ga(l,a);var u=ga(l,i);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];d==="style"?wd(s,h):d==="dangerouslySetInnerHTML"?vd(s,h):d==="children"?as(s,h):vl(s,d,h,u)}switch(l){case"input":da(s,i);break;case"textarea":gd(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?hn(s,!!i.multiple,y,!1):p!==!!i.multiple&&(i.defaultValue!=null?hn(s,!!i.multiple,i.defaultValue,!0):hn(s,!!i.multiple,i.multiple?[]:"",!1))}s[gs]=i}catch(b){xe(t,t.return,b)}}break;case 6:if(xt(e,t),Nt(t),n&4){if(t.stateNode===null)throw Error(T(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(b){xe(t,t.return,b)}}break;case 3:if(xt(e,t),Nt(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ds(e.containerInfo)}catch(b){xe(t,t.return,b)}break;case 4:xt(e,t),Nt(t);break;case 13:xt(e,t),Nt(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Jl=ve())),n&4&&pu(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(De=(u=De)||d,xt(e,t),De=u):xt(e,t),Nt(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(M=t,d=t.child;d!==null;){for(h=M=d;M!==null;){switch(p=M,y=p.child,p.tag){case 0:case 11:case 14:case 15:es(4,p,p.return);break;case 1:cn(p,p.return);var m=p.stateNode;if(typeof m.componentWillUnmount=="function"){n=p,r=p.return;try{e=n,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(b){xe(n,r,b)}}break;case 5:cn(p,p.return);break;case 22:if(p.memoizedState!==null){xu(h);continue}}y!==null?(y.return=p,M=y):xu(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=yd("display",a))}catch(b){xe(t,t.return,b)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(b){xe(t,t.return,b)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:xt(e,t),Nt(t),n&4&&pu(t);break;case 21:break;default:xt(e,t),Nt(t)}}function Nt(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(Vh(r)){var n=r;break e}r=r.return}throw Error(T(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(as(s,""),n.flags&=-33);var i=mu(t);qa(t,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,l=mu(t);Va(t,l,a);break;default:throw Error(T(161))}}catch(c){xe(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Kp(t,e,r){M=t,Kh(t)}function Kh(t,e,r){for(var n=(t.mode&1)!==0;M!==null;){var s=M,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||Js;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||De;l=Js;var u=De;if(Js=a,(De=c)&&!u)for(M=s;M!==null;)a=M,c=a.child,a.tag===22&&a.memoizedState!==null?vu(s):c!==null?(c.return=a,M=c):vu(s);for(;i!==null;)M=i,Kh(i),i=i.sibling;M=s,Js=l,De=u}gu(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,M=i):gu(t)}}function gu(t){for(;M!==null;){var e=M;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:De||to(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!De)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:yt(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&eu(e,i,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}eu(e,a,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&ds(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(T(163))}De||e.flags&512&&Ha(e)}catch(p){xe(e,e.return,p)}}if(e===t){M=null;break}if(r=e.sibling,r!==null){r.return=e.return,M=r;break}M=e.return}}function xu(t){for(;M!==null;){var e=M;if(e===t){M=null;break}var r=e.sibling;if(r!==null){r.return=e.return,M=r;break}M=e.return}}function vu(t){for(;M!==null;){var e=M;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{to(4,e)}catch(c){xe(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(c){xe(e,s,c)}}var i=e.return;try{Ha(e)}catch(c){xe(e,i,c)}break;case 5:var a=e.return;try{Ha(e)}catch(c){xe(e,a,c)}}}catch(c){xe(e,e.return,c)}if(e===t){M=null;break}var l=e.sibling;if(l!==null){l.return=e.return,M=l;break}M=e.return}}var Xp=Math.ceil,Di=Xt.ReactCurrentDispatcher,Xl=Xt.ReactCurrentOwner,dt=Xt.ReactCurrentBatchConfig,ne=0,Ce=null,_e=null,Oe=0,tt=0,un=xr(0),Ee=0,_s=null,Ir=0,ro=0,Ql=0,ts=null,Ke=null,Jl=0,jn=1/0,Lt=null,Ui=!1,Ga=null,dr=null,Ys=!1,ir=null,Mi=0,rs=0,Ka=null,mi=-1,pi=0;function We(){return ne&6?ve():mi!==-1?mi:mi=ve()}function hr(t){return t.mode&1?ne&2&&Oe!==0?Oe&-Oe:Op.transition!==null?(pi===0&&(pi=Od()),pi):(t=oe,t!==0||(t=window.event,t=t===void 0?16:Md(t.type)),t):1}function jt(t,e,r,n){if(50<rs)throw rs=0,Ka=null,Error(T(185));Ss(t,r,n),(!(ne&2)||t!==Ce)&&(t===Ce&&(!(ne&2)&&(ro|=r),Ee===4&&rr(t,Oe)),Ze(t,n),r===1&&ne===0&&!(e.mode&1)&&(jn=ve()+500,Yi&&vr()))}function Ze(t,e){var r=t.callbackNode;Om(t,e);var n=_i(t,t===Ce?Oe:0);if(n===0)r!==null&&Ec(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Ec(r),e===1)t.tag===0?Rp(yu.bind(null,t)):sh(yu.bind(null,t)),Ep(function(){!(ne&6)&&vr()}),r=null;else{switch($d(n)){case 1:r=kl;break;case 4:r=Td;break;case 16:r=bi;break;case 536870912:r=Rd;break;default:r=bi}r=rf(r,Xh.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Xh(t,e){if(mi=-1,pi=0,ne&6)throw Error(T(327));var r=t.callbackNode;if(xn()&&t.callbackNode!==r)return null;var n=_i(t,t===Ce?Oe:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Fi(t,n);else{e=n;var s=ne;ne|=2;var i=Jh();(Ce!==t||Oe!==e)&&(Lt=null,jn=ve()+500,Tr(t,e));do try{Yp();break}catch(l){Qh(t,l)}while(1);Ll(),Di.current=i,ne=s,_e!==null?e=0:(Ce=null,Oe=0,e=Ee)}if(e!==0){if(e===2&&(s=ba(t),s!==0&&(n=s,e=Xa(t,s))),e===1)throw r=_s,Tr(t,0),rr(t,n),Ze(t,ve()),r;if(e===6)rr(t,n);else{if(s=t.current.alternate,!(n&30)&&!Qp(s)&&(e=Fi(t,n),e===2&&(i=ba(t),i!==0&&(n=i,e=Xa(t,i))),e===1))throw r=_s,Tr(t,0),rr(t,n),Ze(t,ve()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(T(345));case 2:jr(t,Ke,Lt);break;case 3:if(rr(t,n),(n&130023424)===n&&(e=Jl+500-ve(),10<e)){if(_i(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){We(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Ca(jr.bind(null,t,Ke,Lt),e);break}jr(t,Ke,Lt);break;case 4:if(rr(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var a=31-kt(n);i=1<<a,a=e[a],a>s&&(s=a),n&=~i}if(n=s,n=ve()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Xp(n/1960))-n,10<n){t.timeoutHandle=Ca(jr.bind(null,t,Ke,Lt),n);break}jr(t,Ke,Lt);break;case 5:jr(t,Ke,Lt);break;default:throw Error(T(329))}}}return Ze(t,ve()),t.callbackNode===r?Xh.bind(null,t):null}function Xa(t,e){var r=ts;return t.current.memoizedState.isDehydrated&&(Tr(t,e).flags|=256),t=Fi(t,e),t!==2&&(e=Ke,Ke=r,e!==null&&Qa(e)),t}function Qa(t){Ke===null?Ke=t:Ke.push.apply(Ke,t)}function Qp(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!St(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function rr(t,e){for(e&=~Ql,e&=~ro,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-kt(e),n=1<<r;t[r]=-1,e&=~n}}function yu(t){if(ne&6)throw Error(T(327));xn();var e=_i(t,0);if(!(e&1))return Ze(t,ve()),null;var r=Fi(t,e);if(t.tag!==0&&r===2){var n=ba(t);n!==0&&(e=n,r=Xa(t,n))}if(r===1)throw r=_s,Tr(t,0),rr(t,e),Ze(t,ve()),r;if(r===6)throw Error(T(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,jr(t,Ke,Lt),Ze(t,ve()),null}function Yl(t,e){var r=ne;ne|=1;try{return t(e)}finally{ne=r,ne===0&&(jn=ve()+500,Yi&&vr())}}function Lr(t){ir!==null&&ir.tag===0&&!(ne&6)&&xn();var e=ne;ne|=1;var r=dt.transition,n=oe;try{if(dt.transition=null,oe=1,t)return t()}finally{oe=n,dt.transition=r,ne=e,!(ne&6)&&vr()}}function Zl(){tt=un.current,de(un)}function Tr(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Np(r)),_e!==null)for(r=_e.return;r!==null;){var n=r;switch($l(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ei();break;case 3:_n(),de(Je),de(Ue),Wl();break;case 5:zl(n);break;case 4:_n();break;case 13:de(fe);break;case 19:de(fe);break;case 10:Dl(n.type._context);break;case 22:case 23:Zl()}r=r.return}if(Ce=t,_e=t=fr(t.current,null),Oe=tt=e,Ee=0,_s=null,Ql=ro=Ir=0,Ke=ts=null,Pr!==null){for(e=0;e<Pr.length;e++)if(r=Pr[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}Pr=null}return t}function Qh(t,e){do{var r=_e;try{if(Ll(),di.current=Li,Ii){for(var n=me.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Ii=!1}if(Ar=0,Pe=Se=me=null,Zn=!1,ys=0,Xl.current=null,r===null||r.return===null){Ee=1,_s=e,_e=null;break}e:{var i=t,a=r.return,l=r,c=e;if(e=Oe,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=ou(a);if(y!==null){y.flags&=-257,au(y,a,l,i,e),y.mode&1&&iu(i,u,e),e=y,c=u;var m=e.updateQueue;if(m===null){var b=new Set;b.add(c),e.updateQueue=b}else m.add(c);break e}else{if(!(e&1)){iu(i,u,e),ec();break e}c=Error(T(426))}}else if(he&&l.mode&1){var _=ou(a);if(_!==null){!(_.flags&65536)&&(_.flags|=256),au(_,a,l,i,e),Al(kn(c,l));break e}}i=c=kn(c,l),Ee!==4&&(Ee=2),ts===null?ts=[i]:ts.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=$h(i,c,e);Zc(i,g);break e;case 1:l=c;var f=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(dr===null||!dr.has(x)))){i.flags|=65536,e&=-e,i.lanes|=e;var w=Ah(i,l,e);Zc(i,w);break e}}i=i.return}while(i!==null)}Zh(r)}catch(E){e=E,_e===r&&r!==null&&(_e=r=r.return);continue}break}while(1)}function Jh(){var t=Di.current;return Di.current=Li,t===null?Li:t}function ec(){(Ee===0||Ee===3||Ee===2)&&(Ee=4),Ce===null||!(Ir&268435455)&&!(ro&268435455)||rr(Ce,Oe)}function Fi(t,e){var r=ne;ne|=2;var n=Jh();(Ce!==t||Oe!==e)&&(Lt=null,Tr(t,e));do try{Jp();break}catch(s){Qh(t,s)}while(1);if(Ll(),ne=r,Di.current=n,_e!==null)throw Error(T(261));return Ce=null,Oe=0,Ee}function Jp(){for(;_e!==null;)Yh(_e)}function Yp(){for(;_e!==null&&!km();)Yh(_e)}function Yh(t){var e=tf(t.alternate,t,tt);t.memoizedProps=t.pendingProps,e===null?Zh(t):_e=e,Xl.current=null}function Zh(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=Vp(r,e),r!==null){r.flags&=32767,_e=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ee=6,_e=null;return}}else if(r=Hp(r,e,tt),r!==null){_e=r;return}if(e=e.sibling,e!==null){_e=e;return}_e=e=t}while(e!==null);Ee===0&&(Ee=5)}function jr(t,e,r){var n=oe,s=dt.transition;try{dt.transition=null,oe=1,Zp(t,e,r,n)}finally{dt.transition=s,oe=n}return null}function Zp(t,e,r,n){do xn();while(ir!==null);if(ne&6)throw Error(T(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(T(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if($m(t,i),t===Ce&&(_e=Ce=null,Oe=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ys||(Ys=!0,rf(bi,function(){return xn(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=dt.transition,dt.transition=null;var a=oe;oe=1;var l=ne;ne|=4,Xl.current=null,Gp(t,r),Gh(r,t),yp(Ea),ki=!!Na,Ea=Na=null,t.current=r,Kp(r),jm(),ne=l,oe=a,dt.transition=i}else t.current=r;if(Ys&&(Ys=!1,ir=t,Mi=s),i=t.pendingLanes,i===0&&(dr=null),Em(r.stateNode),Ze(t,ve()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Ui)throw Ui=!1,t=Ga,Ga=null,t;return Mi&1&&t.tag!==0&&xn(),i=t.pendingLanes,i&1?t===Ka?rs++:(rs=0,Ka=t):rs=0,vr(),null}function xn(){if(ir!==null){var t=$d(Mi),e=dt.transition,r=oe;try{if(dt.transition=null,oe=16>t?16:t,ir===null)var n=!1;else{if(t=ir,ir=null,Mi=0,ne&6)throw Error(T(331));var s=ne;for(ne|=4,M=t.current;M!==null;){var i=M,a=i.child;if(M.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(M=u;M!==null;){var d=M;switch(d.tag){case 0:case 11:case 15:es(8,d,i)}var h=d.child;if(h!==null)h.return=d,M=h;else for(;M!==null;){d=M;var p=d.sibling,y=d.return;if(Hh(d),d===u){M=null;break}if(p!==null){p.return=y,M=p;break}M=y}}}var m=i.alternate;if(m!==null){var b=m.child;if(b!==null){m.child=null;do{var _=b.sibling;b.sibling=null,b=_}while(b!==null)}}M=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,M=a;else e:for(;M!==null;){if(i=M,i.flags&2048)switch(i.tag){case 0:case 11:case 15:es(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,M=g;break e}M=i.return}}var f=t.current;for(M=f;M!==null;){a=M;var x=a.child;if(a.subtreeFlags&2064&&x!==null)x.return=a,M=x;else e:for(a=f;M!==null;){if(l=M,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:to(9,l)}}catch(E){xe(l,l.return,E)}if(l===a){M=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,M=w;break e}M=l.return}}if(ne=s,vr(),Rt&&typeof Rt.onPostCommitFiberRoot=="function")try{Rt.onPostCommitFiberRoot(Gi,t)}catch{}n=!0}return n}finally{oe=r,dt.transition=e}}return!1}function wu(t,e,r){e=kn(r,e),e=$h(t,e,1),t=ur(t,e,1),e=We(),t!==null&&(Ss(t,1,e),Ze(t,e))}function xe(t,e,r){if(t.tag===3)wu(t,t,r);else for(;e!==null;){if(e.tag===3){wu(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(dr===null||!dr.has(n))){t=kn(r,t),t=Ah(e,t,1),e=ur(e,t,1),t=We(),e!==null&&(Ss(e,1,t),Ze(e,t));break}}e=e.return}}function eg(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=We(),t.pingedLanes|=t.suspendedLanes&r,Ce===t&&(Oe&r)===r&&(Ee===4||Ee===3&&(Oe&130023424)===Oe&&500>ve()-Jl?Tr(t,0):Ql|=r),Ze(t,e)}function ef(t,e){e===0&&(t.mode&1?(e=Ws,Ws<<=1,!(Ws&130023424)&&(Ws=4194304)):e=1);var r=We();t=Gt(t,e),t!==null&&(Ss(t,e,r),Ze(t,r))}function tg(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),ef(t,r)}function rg(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(T(314))}n!==null&&n.delete(e),ef(t,r)}var tf;tf=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Je.current)Qe=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Qe=!1,Bp(t,e,r);Qe=!!(t.flags&131072)}else Qe=!1,he&&e.flags&1048576&&ih(e,Ti,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;fi(t,e),t=e.pendingProps;var s=yn(e,Ue.current);gn(e,r),s=Hl(null,e,n,t,s,r);var i=Vl();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ye(n)?(i=!0,Pi(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ml(e),s.updater=eo,e.stateNode=s,s._reactInternals=e,La(e,n,t,r),e=Ma(null,e,n,!0,i,r)):(e.tag=0,he&&i&&Ol(e),ze(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(fi(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=sg(n),t=yt(n,t),s){case 0:e=Ua(null,e,n,t,r);break e;case 1:e=uu(null,e,n,t,r);break e;case 11:e=lu(null,e,n,t,r);break e;case 14:e=cu(null,e,n,yt(n.type,t),r);break e}throw Error(T(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:yt(n,s),Ua(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:yt(n,s),uu(t,e,n,s,r);case 3:e:{if(Uh(e),t===null)throw Error(T(387));n=e.pendingProps,i=e.memoizedState,s=i.element,dh(t,e),$i(e,n,null,r);var a=e.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=kn(Error(T(423)),e),e=du(t,e,n,r,s);break e}else if(n!==s){s=kn(Error(T(424)),e),e=du(t,e,n,r,s);break e}else for(rt=cr(e.stateNode.containerInfo.firstChild),nt=e,he=!0,_t=null,r=ch(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(wn(),n===s){e=Kt(t,e,r);break e}ze(t,e,n,r)}e=e.child}return e;case 5:return hh(e),t===null&&$a(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,Pa(n,s)?a=null:i!==null&&Pa(n,i)&&(e.flags|=32),Dh(t,e),ze(t,e,a,r),e.child;case 6:return t===null&&$a(e),null;case 13:return Mh(t,e,r);case 4:return Fl(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=bn(e,null,n,r):ze(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:yt(n,s),lu(t,e,n,s,r);case 7:return ze(t,e,e.pendingProps,r),e.child;case 8:return ze(t,e,e.pendingProps.children,r),e.child;case 12:return ze(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,ce(Ri,n._currentValue),n._currentValue=a,i!==null)if(St(i.value,a)){if(i.children===s.children&&!Je.current){e=Kt(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=zt(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Aa(i.return,r,e),l.lanes|=r;break}c=c.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(T(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),Aa(a,r,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}ze(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,gn(e,r),s=mt(s),n=n(s),e.flags|=1,ze(t,e,n,r),e.child;case 14:return n=e.type,s=yt(n,e.pendingProps),s=yt(n.type,s),cu(t,e,n,s,r);case 15:return Ih(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:yt(n,s),fi(t,e),e.tag=1,Ye(n)?(t=!0,Pi(e)):t=!1,gn(e,r),Oh(e,n,s),La(e,n,s,r),Ma(null,e,n,!0,t,r);case 19:return Fh(t,e,r);case 22:return Lh(t,e,r)}throw Error(T(156,e.tag))};function rf(t,e){return Cd(t,e)}function ng(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ut(t,e,r,n){return new ng(t,e,r,n)}function tc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function sg(t){if(typeof t=="function")return tc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===wl)return 11;if(t===bl)return 14}return 2}function fr(t,e){var r=t.alternate;return r===null?(r=ut(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function gi(t,e,r,n,s,i){var a=2;if(n=t,typeof t=="function")tc(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Zr:return Rr(r.children,s,i,e);case yl:a=8,s|=8;break;case oa:return t=ut(12,r,e,s|2),t.elementType=oa,t.lanes=i,t;case aa:return t=ut(13,r,e,s),t.elementType=aa,t.lanes=i,t;case la:return t=ut(19,r,e,s),t.elementType=la,t.lanes=i,t;case hd:return no(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ud:a=10;break e;case dd:a=9;break e;case wl:a=11;break e;case bl:a=14;break e;case Zt:a=16,n=null;break e}throw Error(T(130,t==null?t:typeof t,""))}return e=ut(a,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function Rr(t,e,r,n){return t=ut(7,t,n,e),t.lanes=r,t}function no(t,e,r,n){return t=ut(22,t,n,e),t.elementType=hd,t.lanes=r,t.stateNode={isHidden:!1},t}function Vo(t,e,r){return t=ut(6,t,null,e),t.lanes=r,t}function qo(t,e,r){return e=ut(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function ig(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=No(0),this.expirationTimes=No(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=No(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function rc(t,e,r,n,s,i,a,l,c){return t=new ig(t,e,r,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=ut(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ml(i),t}function og(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Yr,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function nf(t){if(!t)return pr;t=t._reactInternals;e:{if(Mr(t)!==t||t.tag!==1)throw Error(T(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ye(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(T(171))}if(t.tag===1){var r=t.type;if(Ye(r))return nh(t,r,e)}return e}function sf(t,e,r,n,s,i,a,l,c){return t=rc(r,n,!0,t,s,i,a,l,c),t.context=nf(null),r=t.current,n=We(),s=hr(r),i=zt(n,s),i.callback=e??null,ur(r,i,s),t.current.lanes=s,Ss(t,s,n),Ze(t,n),t}function so(t,e,r,n){var s=e.current,i=We(),a=hr(s);return r=nf(r),e.context===null?e.context=r:e.pendingContext=r,e=zt(i,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=ur(s,e,a),t!==null&&(jt(t,s,a,i),ui(t,s,a)),a}function zi(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function bu(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function nc(t,e){bu(t,e),(t=t.alternate)&&bu(t,e)}function ag(){return null}var of=typeof reportError=="function"?reportError:function(t){console.error(t)};function sc(t){this._internalRoot=t}io.prototype.render=sc.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(T(409));so(t,e,null,null)};io.prototype.unmount=sc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Lr(function(){so(null,t,null,null)}),e[qt]=null}};function io(t){this._internalRoot=t}io.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ld();t={blockedOn:null,target:t,priority:e};for(var r=0;r<tr.length&&e!==0&&e<tr[r].priority;r++);tr.splice(r,0,t),r===0&&Ud(t)}};function ic(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function oo(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function _u(){}function lg(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=zi(a);i.call(u)}}var a=sf(e,n,t,0,null,!1,!1,"",_u);return t._reactRootContainer=a,t[qt]=a.current,ms(t.nodeType===8?t.parentNode:t),Lr(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=zi(c);l.call(u)}}var c=rc(t,0,!1,null,null,!1,!1,"",_u);return t._reactRootContainer=c,t[qt]=c.current,ms(t.nodeType===8?t.parentNode:t),Lr(function(){so(e,c,r,n)}),c}function ao(t,e,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=zi(a);l.call(c)}}so(e,a,t,s)}else a=lg(r,e,t,s,n);return zi(a)}Ad=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Hn(e.pendingLanes);r!==0&&(jl(e,r|1),Ze(e,ve()),!(ne&6)&&(jn=ve()+500,vr()))}break;case 13:Lr(function(){var n=Gt(t,1);if(n!==null){var s=We();jt(n,t,1,s)}}),nc(t,1)}};Sl=function(t){if(t.tag===13){var e=Gt(t,134217728);if(e!==null){var r=We();jt(e,t,134217728,r)}nc(t,134217728)}};Id=function(t){if(t.tag===13){var e=hr(t),r=Gt(t,e);if(r!==null){var n=We();jt(r,t,e,n)}nc(t,e)}};Ld=function(){return oe};Dd=function(t,e){var r=oe;try{return oe=t,e()}finally{oe=r}};va=function(t,e,r){switch(e){case"input":if(da(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=Ji(n);if(!s)throw Error(T(90));md(n),da(n,s)}}}break;case"textarea":gd(t,r);break;case"select":e=r.value,e!=null&&hn(t,!!r.multiple,e,!1)}};kd=Yl;jd=Lr;var cg={usingClientEntryPoint:!1,Events:[Es,nn,Ji,bd,_d,Yl]},Fn={findFiberByHostInstance:Er,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ug={bundleType:Fn.bundleType,version:Fn.version,rendererPackageName:Fn.rendererPackageName,rendererConfig:Fn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ed(t),t===null?null:t.stateNode},findFiberByHostInstance:Fn.findFiberByHostInstance||ag,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zs.isDisabled&&Zs.supportsFiber)try{Gi=Zs.inject(ug),Rt=Zs}catch{}}it.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cg;it.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ic(e))throw Error(T(200));return og(t,e,null,r)};it.createRoot=function(t,e){if(!ic(t))throw Error(T(299));var r=!1,n="",s=of;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=rc(t,1,!1,null,null,r,!1,n,s),t[qt]=e.current,ms(t.nodeType===8?t.parentNode:t),new sc(e)};it.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(T(188)):(t=Object.keys(t).join(","),Error(T(268,t)));return t=Ed(e),t=t===null?null:t.stateNode,t};it.flushSync=function(t){return Lr(t)};it.hydrate=function(t,e,r){if(!oo(e))throw Error(T(200));return ao(null,t,e,!0,r)};it.hydrateRoot=function(t,e,r){if(!ic(t))throw Error(T(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=of;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=sf(e,null,t,1,r??null,s,!1,i,a),t[qt]=e.current,ms(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new io(e)};it.render=function(t,e,r){if(!oo(e))throw Error(T(200));return ao(null,t,e,!1,r)};it.unmountComponentAtNode=function(t){if(!oo(t))throw Error(T(40));return t._reactRootContainer?(Lr(function(){ao(null,null,t,!1,function(){t._reactRootContainer=null,t[qt]=null})}),!0):!1};it.unstable_batchedUpdates=Yl;it.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!oo(r))throw Error(T(200));if(t==null||t._reactInternals===void 0)throw Error(T(38));return ao(t,e,r,!1,n)};it.version="18.3.1-next-f1338f8080-20240426";function af(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(af)}catch(t){console.error(t)}}af(),od.exports=it;var dg=od.exports,Ja,ku=dg;Ja=sa.createRoot=ku.createRoot,sa.hydrateRoot=ku.hydrateRoot;var hg={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const fg=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mg=(t,e)=>{const r=S.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,children:l,...c},u)=>S.createElement("svg",{ref:u,...hg,width:s,height:s,stroke:n,strokeWidth:a?Number(i)*24/Number(s):i,className:`lucide lucide-${fg(t)}`,...c},[...e.map(([d,h])=>S.createElement(d,h)),...(Array.isArray(l)?l:[l])||[]]));return r.displayName=`${t}`,r};var X=mg;const pg=X("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),ju=X("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),lf=X("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),cf=X("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),gg=X("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),ct=X("CheckCircle2",[["path",{d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z",key:"14v8dr"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Su=X("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),Nu=X("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),xg=X("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),vg=X("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),qn=X("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),lo=X("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),xi=X("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),yg=X("Dumbbell",[["path",{d:"m6.5 6.5 11 11",key:"f7oqzb"}],["path",{d:"m21 21-1-1",key:"cpc6if"}],["path",{d:"m3 3 1 1",key:"d3rpuf"}],["path",{d:"m18 22 4-4",key:"1e32o6"}],["path",{d:"m2 6 4-4",key:"189tqz"}],["path",{d:"m3 10 7-7",key:"1bxui2"}],["path",{d:"m14 21 7-7",key:"16x78n"}]]),Ya=X("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),Eu=X("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]),Go=X("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),Pu=X("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),wg=X("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]),bg=X("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]),co=X("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),Za=X("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]),Dr=X("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),uo=X("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),uf=X("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),_g=X("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),kg=X("SkipBack",[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]]),jg=X("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]),Sg=X("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),Wt=X("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),$t=X("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),Wi=X("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]),Ng=X("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]),Eg=X("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]),Sn=X("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),ht=X("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),Pg=X("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Cg=X("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]),Tg=X("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]),Cs=X("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Bt=X("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Rg="modulepreload",Og=function(t){return"/"+t},Cu={},Ts=function(e,r,n){if(!r||r.length===0)return e();const s=document.getElementsByTagName("link");return Promise.all(r.map(i=>{if(i=Og(i),i in Cu)return;Cu[i]=!0;const a=i.endsWith(".css"),l=a?'[rel="stylesheet"]':"";if(!!n)for(let d=s.length-1;d>=0;d--){const h=s[d];if(h.href===i&&(!a||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${l}`))return;const u=document.createElement("link");if(u.rel=a?"stylesheet":Rg,a||(u.as="script",u.crossOrigin=""),u.href=i,document.head.appendChild(u),a)return new Promise((d,h)=>{u.addEventListener("load",d),u.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e()).catch(i=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i})},$g=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Ts(()=>Promise.resolve().then(()=>Tn),void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class oc extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class Ag extends oc{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Tu extends oc{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Ru extends oc{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var el;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(el||(el={}));var Ig=globalThis&&globalThis.__awaiter||function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class Lg{constructor(e,{headers:r={},customFetch:n,region:s=el.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=$g(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return Ig(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:a}=r;let l={},{region:c}=r;c||(c=this.region);const u=new URL(`${this.url}/${e}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=a):typeof a=="string"?(l["Content-Type"]="text/plain",d=a):typeof FormData<"u"&&a instanceof FormData?d=a:(l["Content-Type"]="application/json",d=JSON.stringify(a)));const h=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:d}).catch(b=>{throw new Ag(b)}),p=h.headers.get("x-relay-error");if(p&&p==="true")throw new Tu(h);if(!h.ok)throw new Ru(h);let y=((n=h.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),m;return y==="application/json"?m=yield h.json():y==="application/octet-stream"?m=yield h.blob():y==="text/event-stream"?m=h:y==="multipart/form-data"?m=yield h.formData():m=yield h.text(),{data:m,error:null,response:h}}catch(s){return{data:null,error:s,response:s instanceof Ru||s instanceof Tu?s.context:void 0}}})}}var Xe={},ac={},ho={},Rs={},fo={},mo={},Dg=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Nn=Dg();const Ug=Nn.fetch,df=Nn.fetch.bind(Nn),hf=Nn.Headers,Mg=Nn.Request,Fg=Nn.Response,Tn=Object.freeze(Object.defineProperty({__proto__:null,Headers:hf,Request:Mg,Response:Fg,default:df,fetch:Ug},Symbol.toStringTag,{value:"Module"})),zg=Mf(Tn);var po={};Object.defineProperty(po,"__esModule",{value:!0});let Wg=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};po.default=Wg;var ff=ft&&ft.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(mo,"__esModule",{value:!0});const Bg=ff(zg),Hg=ff(po);let Vg=class{constructor(e){var r,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(r=e.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Bg.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=new Headers(this.headers),this.headers.set(e,r),this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var a,l,c,u;let d=null,h=null,p=null,y=i.status,m=i.statusText;if(i.ok){if(this.method!=="HEAD"){const f=await i.text();f===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((a=this.headers.get("Accept"))===null||a===void 0)&&a.includes("application/vnd.pgrst.plan+text"))?h=f:h=JSON.parse(f))}const _=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),g=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");_&&g&&g.length>1&&(p=parseInt(g[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(d={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,p=null,y=406,m="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const _=await i.text();try{d=JSON.parse(_),Array.isArray(d)&&i.status===404&&(h=[],d=null,y=200,m="OK")}catch{i.status===404&&_===""?(y=204,m="No Content"):d={message:_}}if(d&&this.isMaybeSingle&&(!((u=d==null?void 0:d.details)===null||u===void 0)&&u.includes("0 rows"))&&(d=null,y=200,m="OK"),d&&this.shouldThrowOnError)throw new Hg.default(d)}return{error:d,data:h,count:p,status:y,statusText:m}});return this.shouldThrowOnError||(s=s.catch(i=>{var a,l,c;return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,r)}returns(){return this}overrideTypes(){return this}};mo.default=Vg;var qg=ft&&ft.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(fo,"__esModule",{value:!0});const Gg=qg(mo);let Kg=class extends Gg.default{select(e){let r=!1;const n=(e??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const a=i?`${i}.order`:"order",l=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${l?`${l},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(a,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:a="text"}={}){var l;const c=[e?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${u}"; options=${c};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};fo.default=Kg;var Xg=ft&&ft.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Rs,"__esModule",{value:!0});const Qg=Xg(fo);let Jg=class extends Qg.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${a}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};Rs.default=Jg;var Yg=ft&&ft.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ho,"__esModule",{value:!0});const zn=Yg(Rs);let Zg=class{constructor(e,{headers:r={},schema:n,fetch:s}){this.url=e,this.headers=new Headers(r),this.schema=n,this.fetch=s}select(e,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const a=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",a),n&&this.headers.append("Prefer",`count=${n}`),new zn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:r,defaultToNull:n=!0}={}){var s;const i="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const a=e.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(a.length>0){const l=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new zn.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){var a;const l="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const c=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new zn.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(e,{count:r}={}){var n;const s="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new zn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var r;const n="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new zn.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};ho.default=Zg;var mf=ft&&ft.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ac,"__esModule",{value:!0});const e0=mf(ho),t0=mf(Rs);let r0=class pf{constructor(e,{headers:r={},schema:n,fetch:s}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(e){const r=new URL(`${this.url}/${e}`);return new e0.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new pf(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:s=!1,count:i}={}){var a;let l;const c=new URL(`${this.url}/rpc/${e}`);let u;n||s?(l=n?"HEAD":"GET",Object.entries(r).filter(([h,p])=>p!==void 0).map(([h,p])=>[h,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([h,p])=>{c.searchParams.append(h,p)})):(l="POST",u=r);const d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new t0.default({method:l,url:c,headers:d,schema:this.schemaName,body:u,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};ac.default=r0;var Rn=ft&&ft.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Xe,"__esModule",{value:!0});Xe.PostgrestError=Xe.PostgrestBuilder=Xe.PostgrestTransformBuilder=Xe.PostgrestFilterBuilder=Xe.PostgrestQueryBuilder=Xe.PostgrestClient=void 0;const gf=Rn(ac);Xe.PostgrestClient=gf.default;const xf=Rn(ho);Xe.PostgrestQueryBuilder=xf.default;const vf=Rn(Rs);Xe.PostgrestFilterBuilder=vf.default;const yf=Rn(fo);Xe.PostgrestTransformBuilder=yf.default;const wf=Rn(mo);Xe.PostgrestBuilder=wf.default;const bf=Rn(po);Xe.PostgrestError=bf.default;var n0=Xe.default={PostgrestClient:gf.default,PostgrestQueryBuilder:xf.default,PostgrestFilterBuilder:vf.default,PostgrestTransformBuilder:yf.default,PostgrestBuilder:wf.default,PostgrestError:bf.default};const{PostgrestClient:s0,PostgrestQueryBuilder:Ev,PostgrestFilterBuilder:Pv,PostgrestTransformBuilder:Cv,PostgrestBuilder:Tv,PostgrestError:Rv}=n0;class i0{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const o0="2.15.5",a0=`realtime-js/${o0}`,l0="1.0.0",tl=1e4,c0=1e3,u0=100;var ns;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(ns||(ns={}));var ke;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ke||(ke={}));var bt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(bt||(bt={}));var rl;(function(t){t.websocket="websocket"})(rl||(rl={}));var Nr;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Nr||(Nr={}));class d0{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2);let a=this.HEADER_LENGTH+2;const l=n.decode(e.slice(a,a+s));a=a+s;const c=n.decode(e.slice(a,a+i));a=a+i;const u=JSON.parse(n.decode(e.slice(a,e.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class _f{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var le;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(le||(le={}));const Ou=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,a)=>(i[a]=h0(a,t,e,s),i),{})},h0=(t,e,r,n)=>{const s=e.find(l=>l.name===t),i=s==null?void 0:s.type,a=r[t];return i&&!n.includes(i)?kf(i,a):nl(a)},kf=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return g0(e,r)}switch(t){case le.bool:return f0(e);case le.float4:case le.float8:case le.int2:case le.int4:case le.int8:case le.numeric:case le.oid:return m0(e);case le.json:case le.jsonb:return p0(e);case le.timestamp:return x0(e);case le.abstime:case le.date:case le.daterange:case le.int4range:case le.int8range:case le.money:case le.reltime:case le.text:case le.time:case le.timestamptz:case le.timetz:case le.tsrange:case le.tstzrange:return nl(e);default:return nl(e)}},nl=t=>t,f0=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},m0=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},p0=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},g0=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const a=t.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(l=>kf(e,l))}return t},x0=t=>typeof t=="string"?t.replace(" ","T"):t,jf=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Ko{constructor(e,r,n={},s=tl){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var $u;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})($u||($u={}));class ss{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ss.syncState(this.state,s,i,a),this.pendingDiffs.forEach(c=>{this.state=ss.syncDiff(this.state,c,i,a)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=ss.syncDiff(this.state,s,i,a),l())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),a=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{a[u]||(c[u]=d)}),this.map(a,(u,d)=>{const h=i[u];if(h){const p=d.map(_=>_.presence_ref),y=h.map(_=>_.presence_ref),m=d.filter(_=>y.indexOf(_.presence_ref)<0),b=h.filter(_=>p.indexOf(_.presence_ref)<0);m.length>0&&(l[u]=m),b.length>0&&(c[u]=b)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(c),d.length>0){const h=e[l].map(y=>y.presence_ref),p=d.filter(y=>h.indexOf(y.presence_ref)<0);e[l].unshift(...p)}n(l,d,c)}),this.map(a,(l,c)=>{let u=e[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),e[l]=u,s(l,u,c),u.length===0&&delete e[l]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Au;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Au||(Au={}));var is;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(is||(is={}));var Dt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Dt||(Dt={}));class lc{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=ke.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Ko(this,bt.join,this.params,this.timeout),this.rejoinTimer=new _f(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ke.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ke.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ke.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ke.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ke.errored,this.rejoinTimer.scheduleTimeout())}),this._on(bt.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new ss(this),this.broadcastEndpointURL=jf(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ke.closed){const{config:{broadcast:a,presence:l,private:c}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(y=>y.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[is.PRESENCE]&&this.bindings[is.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},p={broadcast:a,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(y=>e==null?void 0:e(Dt.CHANNEL_ERROR,y)),this._onClose(()=>e==null?void 0:e(Dt.CLOSED)),this.updateJoinPayload(Object.assign({config:p},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:y})=>{var m;if(this.socket.setAuth(),y===void 0){e==null||e(Dt.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,_=(m=b==null?void 0:b.length)!==null&&m!==void 0?m:0,g=[];for(let f=0;f<_;f++){const x=b[f],{filter:{event:w,schema:E,table:v,filter:k}}=x,j=y&&y[f];if(j&&j.event===w&&j.schema===E&&j.table===v&&j.filter===k)g.push(Object.assign(Object.assign({},x),{id:j.id}));else{this.unsubscribe(),this.state=ke.errored,e==null||e(Dt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e(Dt.SUBSCRIBED);return}}).receive("error",y=>{this.state=ke.errored,e==null||e(Dt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Dt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===ke.joined&&e===is.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:a}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,l,c;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ke.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(bt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Ko(this,bt.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ke.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),a}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Ko(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>u0){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const a=e.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=bt;if(n&&[l,c,u,d].indexOf(a)>=0&&n!==this._joinRef())return;let p=this._onMessage(a,r,n);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(y=>{var m,b,_;return((m=y.filter)===null||m===void 0?void 0:m.event)==="*"||((_=(b=y.filter)===null||b===void 0?void 0:b.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===a}).map(y=>y.callback(p,n)):(i=this.bindings[a])===null||i===void 0||i.filter(y=>{var m,b,_,g,f,x;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in y){const w=y.id,E=(m=y.filter)===null||m===void 0?void 0:m.event;return w&&((b=r.ids)===null||b===void 0?void 0:b.includes(w))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((_=r.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const w=(f=(g=y==null?void 0:y.filter)===null||g===void 0?void 0:g.event)===null||f===void 0?void 0:f.toLocaleLowerCase();return w==="*"||w===((x=r==null?void 0:r.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===a}).map(y=>{if(typeof p=="object"&&"ids"in p){const m=p.data,{schema:b,table:_,commit_timestamp:g,type:f,errors:x}=m;p=Object.assign(Object.assign({},{schema:b,table:_,commit_timestamp:g,eventType:f,new:{},old:{},errors:x}),this._getPayloadRecords(m))}y.callback(p,n)})}_isClosed(){return this.state===ke.closed}_isJoined(){return this.state===ke.joined}_isJoining(){return this.state===ke.joining}_isLeaving(){return this.state===ke.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&lc.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(bt.close,{},e)}_onError(e){this._on(bt.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ke.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Ou(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Ou(e.columns,e.old_record)),r}}const Xo=()=>{},ei={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},v0=[1e3,2e3,5e3,1e4],y0=1e4,w0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class b0{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=tl,this.transport=null,this.heartbeatIntervalMs=ei.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Xo,this.ref=0,this.reconnectTimer=null,this.logger=Xo,this.conn=null,this.sendBuffer=[],this.serializer=new d0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...a)=>Ts(()=>Promise.resolve().then(()=>Tn),void 0).then(({default:l})=>l(...a)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...a)=>i(...a)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${rl.websocket}`,this.httpEndpoint=jf(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=i0.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:l0}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case ns.connecting:return Nr.Connecting;case ns.open:return Nr.Open;case ns.closing:return Nr.Closing;default:return Nr.Closed}}isConnected(){return this.connectionState()===Nr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new lc(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,a=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(c0,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},ei.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:a}=r,l=a?`(${a})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(bt.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([w0],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:a0};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(bt.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new _f(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ei.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,i,a,l,c,u,d;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:tl,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:ei.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(l=e==null?void 0:e.heartbeatCallback)!==null&&l!==void 0?l:Xo,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:h=>v0[h-1]||y0,this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:(h,p)=>p(JSON.stringify(h)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class cc extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function je(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class _0 extends cc{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class sl extends cc{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var k0=globalThis&&globalThis.__awaiter||function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const Sf=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Ts(()=>Promise.resolve().then(()=>Tn),void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},j0=()=>k0(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ts(()=>Promise.resolve().then(()=>Tn),void 0)).Response:Response}),il=t=>{if(Array.isArray(t))return t.map(r=>il(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=il(n)}),e},S0=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var Fr=globalThis&&globalThis.__awaiter||function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const Qo=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),N0=(t,e,r)=>Fr(void 0,void 0,void 0,function*(){const n=yield j0();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{const i=t.status||500,a=(s==null?void 0:s.statusCode)||i+"";e(new _0(Qo(s),i,a))}).catch(s=>{e(new sl(Qo(s),s))}):e(new sl(Qo(t),t))}),E0=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(S0(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),r))};function Os(t,e,r,n,s,i){return Fr(this,void 0,void 0,function*(){return new Promise((a,l)=>{t(r,E0(e,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>N0(c,l,n))})})}function Bi(t,e,r,n){return Fr(this,void 0,void 0,function*(){return Os(t,"GET",e,r,n)})}function Pt(t,e,r,n,s){return Fr(this,void 0,void 0,function*(){return Os(t,"POST",e,n,s,r)})}function ol(t,e,r,n,s){return Fr(this,void 0,void 0,function*(){return Os(t,"PUT",e,n,s,r)})}function P0(t,e,r,n){return Fr(this,void 0,void 0,function*(){return Os(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Nf(t,e,r,n,s){return Fr(this,void 0,void 0,function*(){return Os(t,"DELETE",e,n,s,r)})}var Fe=globalThis&&globalThis.__awaiter||function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const C0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Iu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class T0{constructor(e,r={},n,s){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=Sf(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,s){return Fe(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},Iu),s);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield(e=="PUT"?ol:Pt)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(je(i))return{data:null,error:i};throw i}})}upload(e,r,n){return Fe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return Fe(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),a=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:Iu.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield ol(this.fetch,l.toString(),c,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(je(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,r){return Fe(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield Pt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(this.url+i.url),l=a.searchParams.get("token");if(!l)throw new cc("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(je(n))return{data:null,error:n};throw n}})}update(e,r,n){return Fe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return Fe(this,void 0,void 0,function*(){try{return{data:yield Pt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(je(s))return{data:null,error:s};throw s}})}copy(e,r,n){return Fe(this,void 0,void 0,function*(){try{return{data:{path:(yield Pt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(je(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return Fe(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Pt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(je(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return Fe(this,void 0,void 0,function*(){try{const s=yield Pt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(je(s))return{data:null,error:s};throw s}})}download(e,r){return Fe(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=i?`?${i}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield Bi(this.fetch,`${this.url}/${s}/${l}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(je(l))return{data:null,error:l};throw l}})}info(e){return Fe(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Bi(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:il(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(je(n))return{data:null,error:n};throw n}})}exists(e){return Fe(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield P0(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(je(n)&&n instanceof sl){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(e){return Fe(this,void 0,void 0,function*(){try{return{data:yield Nf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(je(r))return{data:null,error:r};throw r}})}list(e,r,n){return Fe(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},C0),r),{prefix:e||""});return{data:yield Pt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(je(s))return{data:null,error:s};throw s}})}listV2(e,r){return Fe(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield Pt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(je(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const R0="2.12.1",O0={"X-Client-Info":`storage-js/${R0}`};var Vr=globalThis&&globalThis.__awaiter||function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class $0{constructor(e,r={},n,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},O0),r),this.fetch=Sf(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Vr(this,void 0,void 0,function*(){try{return{data:yield Bi(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(je(e))return{data:null,error:e};throw e}})}getBucket(e){return Vr(this,void 0,void 0,function*(){try{return{data:yield Bi(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(je(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return Vr(this,void 0,void 0,function*(){try{return{data:yield Pt(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(je(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return Vr(this,void 0,void 0,function*(){try{return{data:yield ol(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(je(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Vr(this,void 0,void 0,function*(){try{return{data:yield Pt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(je(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Vr(this,void 0,void 0,function*(){try{return{data:yield Nf(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(je(r))return{data:null,error:r};throw r}})}}class A0 extends $0{constructor(e,r={},n,s){super(e,r,n,s)}from(e){return new T0(this.url,this.headers,e,this.fetch)}}const I0="2.57.4";let Gn="";typeof Deno<"u"?Gn="deno":typeof document<"u"?Gn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Gn="react-native":Gn="node";const L0={"X-Client-Info":`supabase-js-${Gn}/${I0}`},D0={headers:L0},U0={schema:"public"},M0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},F0={};var z0=globalThis&&globalThis.__awaiter||function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const W0=t=>{let e;return t?e=t:typeof fetch>"u"?e=df:e=fetch,(...r)=>e(...r)},B0=()=>typeof Headers>"u"?hf:Headers,H0=(t,e,r)=>{const n=W0(r),s=B0();return(i,a)=>z0(void 0,void 0,void 0,function*(){var l;const c=(l=yield e())!==null&&l!==void 0?l:t;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},a),{headers:u}))})};var V0=globalThis&&globalThis.__awaiter||function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};function q0(t){return t.endsWith("/")?t:t+"/"}function G0(t,e){var r,n;const{db:s,auth:i,realtime:a,global:l}=t,{db:c,auth:u,realtime:d,global:h}=e,p={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),a),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>V0(this,void 0,void 0,function*(){return""})};return t.accessToken?p.accessToken=t.accessToken:delete p.accessToken,p}function K0(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(q0(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Ef="2.71.1",Qr=30*1e3,al=3,Jo=al*Qr,X0="http://localhost:9999",Q0="supabase.auth.token",J0={"X-Client-Info":`gotrue-js/${Ef}`},ll="X-Supabase-Api-Version",Pf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Y0=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Z0=10*60*1e3;class uc extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function K(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class ex extends uc{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function tx(t){return K(t)&&t.name==="AuthApiError"}class Cf extends uc{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class yr extends uc{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class Yt extends yr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function rx(t){return K(t)&&t.name==="AuthSessionMissingError"}class ti extends yr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ri extends yr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ni extends yr{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function nx(t){return K(t)&&t.name==="AuthImplicitGrantRedirectError"}class Lu extends yr{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class cl extends yr{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Yo(t){return K(t)&&t.name==="AuthRetryableFetchError"}class Du extends yr{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class ul extends yr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Hi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Uu=` 	
\r=`.split(""),sx=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Uu.length;e+=1)t[Uu[e].charCodeAt(0)]=-2;for(let e=0;e<Hi.length;e+=1)t[Hi[e].charCodeAt(0)]=e;return t})();function Mu(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Hi[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Hi[n]),e.queuedBits-=6}}function Tf(t,e,r){const n=sx[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Fu(t){const e=[],r=a=>{e.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{ax(a,n,r)};for(let a=0;a<t.length;a+=1)Tf(t.charCodeAt(a),s,i);return e.join("")}function ix(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function ox(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}ix(n,e)}}function ax(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function lx(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Tf(t.charCodeAt(s),r,n);return new Uint8Array(e)}function cx(t){const e=[];return ox(t,r=>e.push(r)),new Uint8Array(e)}function ux(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>Mu(s,r,n)),Mu(null,r,n),e.join("")}function dx(t){return Math.round(Date.now()/1e3)+t}function hx(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const vt=()=>typeof window<"u"&&typeof document<"u",br={tested:!1,writable:!1},Rf=()=>{if(!vt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(br.tested)return br.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),br.tested=!0,br.writable=!0}catch{br.tested=!0,br.writable=!1}return br.writable};function fx(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const Of=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Ts(()=>Promise.resolve().then(()=>Tn),void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},mx=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Jr=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},_r=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Jt=async(t,e)=>{await t.removeItem(e)};class go{constructor(){this.promise=new go.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}go.promiseConstructor=Promise;function Zo(t){const e=t.split(".");if(e.length!==3)throw new ul("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!Y0.test(e[n]))throw new ul("JWT not in base64url format");return{header:JSON.parse(Fu(e[0])),payload:JSON.parse(Fu(e[1])),signature:lx(e[2]),raw:{header:e[0],payload:e[1]}}}async function px(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function gx(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await t(i);if(!e(i,null,a)){n(a);return}}catch(a){if(!e(i,a)){s(a);return}}})()})}function xx(t){return("0"+t.toString(16)).substr(-2)}function vx(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,xx).join("")}async function yx(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function wx(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await yx(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function qr(t,e,r=!1){const n=vx();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Jr(t,`${e}-code-verifier`,s);const i=await wx(n);return[i,n===i?"plain":"s256"]}const bx=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function _x(t){const e=t.headers.get(ll);if(!e||!e.match(bx))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function kx(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function jx(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Sx=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Gr(t){if(!Sx.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ea(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function zu(t){return JSON.parse(JSON.stringify(t))}var Nx=globalThis&&globalThis.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};const Sr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Ex=[502,503,504];async function Wu(t){var e;if(!mx(t))throw new cl(Sr(t),0);if(Ex.includes(t.status))throw new cl(Sr(t),t.status);let r;try{r=await t.json()}catch(i){throw new Cf(Sr(i),i)}let n;const s=_x(t);if(s&&s.getTime()>=Pf["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Du(Sr(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Yt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new Du(Sr(r),t.status,r.weak_password.reasons);throw new ex(Sr(r),t.status||500,n)}const Px=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function Y(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[ll]||(i[ll]=Pf["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await Cx(t,e,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function Cx(t,e,r,n,s,i){const a=Px(e,n,s,i);let l;try{l=await t(r,Object.assign({},a))}catch(c){throw console.error(c),new cl(Sr(c),0)}if(l.ok||await Wu(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await Wu(c)}}function It(t){var e;let r=null;$x(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=dx(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function Bu(t){const e=It(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function nr(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Tx(t){return{data:t,error:null}}function Rx(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,a=Nx(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},a);return{data:{properties:l,user:c},error:null}}function Ox(t){return t}function $x(t){return t.access_token&&t.refresh_token&&t.expires_in}const ta=["global","local","others"];var Ax=globalThis&&globalThis.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};class Ix{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=Of(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=ta[0]){if(ta.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ta.join(", ")}`);try{return await Y(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(K(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await Y(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:nr})}catch(n){if(K(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=Ax(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await Y(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Rx,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(K(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Y(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:nr})}catch(r){if(K(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Y(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Ox});if(d.error)throw d.error;const h=await d.json(),p=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,y=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return y.length>0&&(y.forEach(m=>{const b=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(m.split(";")[1].split("=")[1]);u[`${_}Page`]=b}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(K(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Gr(e);try{return await Y(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:nr})}catch(r){if(K(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Gr(e);try{return await Y(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:nr})}catch(n){if(K(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Gr(e);try{return await Y(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:nr})}catch(n){if(K(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Gr(e.userId);try{const{data:r,error:n}=await Y(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(K(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Gr(e.userId),Gr(e.id);try{return{data:await Y(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(K(r))return{data:null,error:r};throw r}}}function Hu(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function Lx(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Kr={debug:!!(globalThis&&Rf()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class $f extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Dx extends $f{}async function Ux(t,e,r){Kr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Kr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Kr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{Kr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Kr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Dx(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Kr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}Lx();const Mx={url:X0,storageKey:Q0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:J0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Vu(t,e,r){return await r()}const Xr={};class ks{constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ks.nextInstanceID,ks.nextInstanceID+=1,this.instanceID>0&&vt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Mx),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Ix({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Of(s.fetch),this.lock=s.lock||Vu,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:vt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Ux:this.lock=Vu,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Rf()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Hu(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Hu(this.memoryStorage)),vt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,r;return(r=(e=Xr[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Xr[this.storageKey]=Object.assign(Object.assign({},Xr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Xr[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Xr[this.storageKey]=Object.assign(Object.assign({},Xr[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ef}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=fx(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),vt()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),nx(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return K(r)?{error:r}:{error:new Cf("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await Y(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:It}),{data:a,error:l}=i;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(K(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:d,password:h,options:p}=e;let y=null,m=null;this.flowType==="pkce"&&([y,m]=await qr(this.storage,this.storageKey)),i=await Y(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:d,password:h,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:y,code_challenge_method:m},xform:It})}else if("phone"in e){const{phone:d,password:h,options:p}=e;i=await Y(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},channel:(s=p==null?void 0:p.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:It})}else throw new ri("You must provide either an email or phone number and a password");const{data:a,error:l}=i;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(K(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:a,options:l}=e;r=await Y(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Bu})}else if("phone"in e){const{phone:i,password:a,options:l}=e;r=await Y(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Bu})}else throw new ri("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new ti}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(K(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,n,s,i,a,l,c,u,d,h,p,y;let m,b;if("message"in e)m=e.message,b=e.signature;else{const{chain:_,wallet:g,statement:f,options:x}=e;let w;if(vt())if(typeof g=="object")w=g;else{const v=window;if("solana"in v&&typeof v.solana=="object"&&("signIn"in v.solana&&typeof v.solana.signIn=="function"||"signMessage"in v.solana&&typeof v.solana.signMessage=="function"))w=v.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=g}const E=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in w&&w.signIn){const v=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),f?{statement:f}:null));let k;if(Array.isArray(v)&&v[0]&&typeof v[0]=="object")k=v[0];else if(v&&typeof v=="object"&&"signedMessage"in v&&"signature"in v)k=v;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)m=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),b=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${E.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...f?["",f,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(s=(n=x==null?void 0:x.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=x==null?void 0:x.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((a=x==null?void 0:x.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((l=x==null?void 0:x.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((c=x==null?void 0:x.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((u=x==null?void 0:x.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((h=(d=x==null?void 0:x.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...x.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const v=await w.signMessage(new TextEncoder().encode(m),"utf8");if(!v||!(v instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=v}}try{const{data:_,error:g}=await Y(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:ux(b)},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:It});if(g)throw g;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new ti}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:g})}catch(_){if(K(_))return{data:{user:null,session:null},error:_};throw _}}async _exchangeCodeForSession(e){const r=await _r(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:a}=await Y(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:It});if(await Jt(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new ti}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(K(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:a}=e,l=await Y(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:It}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new ti}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(K(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,s,i,a;try{if("email"in e){const{email:l,options:c}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await qr(this.storage,this.storageKey));const{error:h}=await Y(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:l,options:c}=e,{data:u,error:d}=await Y(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new ri("You must provide either an email or phone number.")}catch(l){if(K(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:l}=await Y(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:It});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(K(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var r,n,s;try{let i=null,a=null;return this.flowType==="pkce"&&([i,a]=await qr(this.storage,this.storageKey)),await Y(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:Tx})}catch(i){if(K(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Yt;const{error:s}=await Y(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(K(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:a}=await Y(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:a,error:l}=await Y(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l}}throw new ri("You must provide either an email or phone number and a type")}catch(r){if(K(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await _r(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Jo:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const a=await _r(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=ea()}if(this.storage.isServer&&e.user){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,u,d)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Y(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:nr}):await this._useSession(async r=>{var n,s,i;const{data:a,error:l}=r;if(l)throw l;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Yt}:await Y(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:nr})})}catch(r){if(K(r))return rx(r)&&(await this._removeSession(),await Jt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Yt;const a=s.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await qr(this.storage,this.storageKey));const{data:u,error:d}=await Y(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:nr});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(K(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Yt;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:a}=Zo(e.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{session:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(K(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:a,error:l}=r;if(l)throw l;e=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Yt;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(K(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!vt())throw new ni("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ni(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Lu("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ni("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Lu("No code detected.");const{data:f,error:x}=await this._exchangeCodeForSession(e.code);if(x)throw x;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:f.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=e;if(!i||!l||!a||!u)throw new ni("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let p=d+h;c&&(p=parseInt(c));const y=p-d;y*1e3<=Qr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${h}s`);const m=p-h;d-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,p,d):d-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,p,d);const{data:b,error:_}=await this._getUser(i);if(_)throw _;const g={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:p,refresh_token:a,token_type:u,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(n){if(K(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await _r(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:l}=await this.admin.signOut(a,e);if(l&&!(tx(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await Jt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=hx(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await qr(this.storage,this.storageKey,!0));try{return await Y(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(K(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(K(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var a,l,c,u,d;const{data:h,error:p}=i;if(p)throw p;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Y(this.fetch,"GET",y,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return vt()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(K(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)throw a;return await Y(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(K(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await gx(async s=>(s>0&&await px(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await Y(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:It})),(s,i)=>{const a=200*Math.pow(2,s);return i&&Yo(i)&&Date.now()+a-n<Qr})}catch(n){if(this._debug(r,"error",n),K(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),vt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await _r(this.storage,this.storageKey);if(s&&this.userStorage){let a=await _r(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await Jr(this.userStorage,this.storageKey+"-user",a)),s.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:ea()}else if(s&&!s.user&&!s.user){const a=await _r(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await Jt(this.storage,this.storageKey+"-user"),await Jr(this.storage,this.storageKey,s)):s.user=ea()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Jo;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Jo}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),Yo(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:l}=await this._getUser(s.access_token);!l&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Yt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new go;const{data:i,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!i.session)throw new Yt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),K(i)){const a={session:null,error:i};return Yo(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,r)}catch(c){i.push(c)}});if(await Promise.all(a),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Jr(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=zu(s);await Jr(this.storage,this.storageKey,i)}else{const s=zu(r);await Jr(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Jt(this.storage,this.storageKey),await Jt(this.storage,this.storageKey+"-code-verifier"),await Jt(this.storage,this.storageKey+"-user"),this.userStorage&&await Jt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&vt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Qr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/Qr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Qr}ms, refresh threshold is ${al} ticks`),s<=al&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof $f)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!vt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await qr(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await Y(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(K(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)return{data:null,error:a};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:u}=await Y(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(K(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:a,error:l}=await Y(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(r){if(K(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await Y(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(K(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],s=n.filter(a=>a.factor_type==="totp"&&a.status==="verified"),i=n.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Zo(s.access_token);let l=null;a.aal&&(l=a.aal);let c=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=a.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(l=>l.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===e),n&&this.jwks_cached_at+Z0>s)return n;const{data:i,error:a}=await Y(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(l=>l.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:y,error:m}=await this.getSession();if(m||!y.session)return{data:null,error:m};n=y.session.access_token}const{header:s,payload:i,signature:a,raw:{header:l,payload:c}}=Zo(n);r!=null&&r.allowExpired||kx(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:y}=await this.getUser(n);if(y)throw y;return{data:{claims:i,header:s,signature:a},error:null}}const d=jx(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,a,cx(`${l}.${c}`)))throw new ul("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(n){if(K(n))return{data:null,error:n};throw n}}}ks.nextInstanceID=0;const Fx=ks;class zx extends Fx{constructor(e){super(e)}}var Wx=globalThis&&globalThis.__awaiter||function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class Bx{constructor(e,r,n){var s,i,a;this.supabaseUrl=e,this.supabaseKey=r;const l=K0(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:U0,realtime:F0,auth:Object.assign(Object.assign({},M0),{storageKey:c}),global:D0},d=G0(n??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=d.auth)!==null&&a!==void 0?a:{},this.headers,d.global.fetch),this.fetch=H0(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new s0(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new A0(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new Lg(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return Wx(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,storageKey:a,flowType:l,lock:c,debug:u},d,h){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new zx({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),d),storageKey:a,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,flowType:l,lock:c,debug:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new b0(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Hx=(t,e,r)=>new Bx(t,e,r);function Vx(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Vx()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const dn={autoStartTimer:!0,autoAdvanceOnComplete:!1,showRestReminders:!0,trackRPE:!1,trackActualReps:!0,defaultRestTime:90,soundNotifications:!0,vibrationNotifications:!0,guidedWorkoutMode:!1,showProgressAnalytics:!0},qx={1:"Very Easy - Could do many more reps",2:"Easy - Could do several more reps",3:"Moderate - Could do a few more reps",4:"Moderate+ - Could do 2-3 more reps",5:"Hard - Could do 1-2 more reps",6:"Hard+ - Could do 1 more rep",7:"Very Hard - Could maybe do 1 more rep",8:"Very Hard+ - Questionable if 1 more rep possible",9:"Extremely Hard - Definitely no more reps",10:"Failure - Could not complete the rep"},Re={SET_COMPLETION:5,EXERCISE_COMPLETION:15,PERSONAL_BEST:25,PERFECT_REST_TIMING:3,SESSION_COMPLETION:50,GUIDED_WORKOUT_BONUS:10};var Gu;const dc=((Gu={}.VITE_SUPABASE_URL)==null?void 0:Gu.trim())||"https://nxrwlczrwkludybkknrk.supabase.co";var Ku;const Ht=((Ku={}.VITE_SUPABASE_ANON_KEY)==null?void 0:Ku.trim())||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im54cndsY3pyd2tsdWR5YmtrbnJrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTgwOTczODAsImV4cCI6MjA3MzY3MzM4MH0.8O_6sNy8fJpipVBo51E0YhxFHh4O7Kwvld1tH6bVPbg";console.log("Supabase URL:",dc);console.log("Supabase Key length:",Ht==null?void 0:Ht.length);console.log("Supabase Key preview:",(Ht==null?void 0:Ht.substring(0,20))+"...");if(!dc||!Ht)throw new Error("Missing Supabase environment variables");if(Ht.split(".").length!==3)throw new Error("Invalid Supabase API key format");const be=Hx(dc,Ht);class G{static async saveSession(e){const{data:r,error:n}=await be.from("completed_sessions").insert({user_id:this.userId,...e}).select().single();if(n)throw n;return r}static async getSessions(){const{data:e,error:r}=await be.from("completed_sessions").select("*").eq("user_id",this.userId).order("created_at",{ascending:!1});if(r)throw r;return e||[]}static async savePreferences(e){const{data:r,error:n}=await be.from("user_preferences").update({...e,updated_at:new Date().toISOString()}).eq("user_id",this.userId).select().single();if(r&&!n)return r;if(n&&n.code==="PGRST116"){const{data:s,error:i}=await be.from("user_preferences").insert({user_id:this.userId,...e}).select().single();if(i)throw i;return s}if(n)throw n;return r}static async getPreferences(){const{data:e,error:r}=await be.from("user_preferences").select("*").eq("user_id",this.userId).single();if(r){if(r.code==="PGRST116")return{current_week:1,completed_exercises:{},exercise_weights:{},nutrition_goals:{}};throw r}return e}static async deleteSession(e){const{error:r}=await be.from("completed_sessions").delete().eq("id",e).eq("user_id",this.userId);if(r)throw r}static async saveEnhancedSession(e){const{data:r,error:n}=await be.from("enhanced_sessions").insert({user_id:this.userId,...e}).select().single();return n?(console.warn("Enhanced sessions table not available, using regular sessions:",n),this.saveSession(e)):r}static async getEnhancedSessions(){try{const{data:e,error:r}=await be.from("enhanced_sessions").select("*").eq("user_id",this.userId).order("created_at",{ascending:!1});return r?(console.warn("Enhanced sessions not available, falling back to regular sessions:",r),this.getSessions()):e||[]}catch(e){return console.warn("Enhanced sessions error, using fallback:",e),this.getSessions()}}static async saveEnhancedPreferences(e){try{const{data:r,error:n}=await be.from("enhanced_user_preferences").update({...e,updated_at:new Date().toISOString()}).eq("user_id",this.userId).select().single();if(r&&!n)return r;if(n&&n.code==="PGRST116"){const{data:s,error:i}=await be.from("enhanced_user_preferences").insert({user_id:this.userId,...e}).select().single();if(i)throw i;return s}if(n)throw n;return r}catch(r){return console.warn("Enhanced preferences not available, using regular preferences:",r),this.savePreferences({current_week:e.current_week,completed_exercises:e.completed_exercises,exercise_weights:e.exercise_weights,nutrition_goals:e.nutrition_goals,current_program_id:e.current_program_id})}}static async getEnhancedPreferences(){try{const{data:e,error:r}=await be.from("enhanced_user_preferences").select("*").eq("user_id",this.userId).single();if(r){if(r.code==="PGRST116")return{current_week:1,current_program_id:"foundation-builder",completed_exercises:{},exercise_weights:{},nutrition_goals:{},exercise_set_data:{},workout_sessions:{},set_tracking_preferences:dn};console.warn("Enhanced preferences not available, using regular preferences:",r);const n=await this.getPreferences();return n?{...n,exercise_set_data:{},workout_sessions:{},set_tracking_preferences:dn}:null}return e}catch(e){console.warn("Enhanced preferences error, using fallback:",e);const r=await this.getPreferences();return r?{...r,exercise_set_data:{},workout_sessions:{},set_tracking_preferences:dn}:null}}static async saveSetData(e,r){var i;const n=await this.getEnhancedPreferences();if(!n)return;const s={...n.exercise_set_data,[e]:{...n.exercise_set_data[e],sets:((i=n.exercise_set_data[e])==null?void 0:i.sets.map(a=>a.id===r.id?r:a))||[r]}};return this.saveEnhancedPreferences({...n,exercise_set_data:s})}static async saveExerciseSetTracking(e){const r=await this.getEnhancedPreferences();if(!r)return;const n={...r.exercise_set_data,[e.exerciseId]:e};return this.saveEnhancedPreferences({...r,exercise_set_data:n})}static async getExerciseSetTracking(e){const r=await this.getEnhancedPreferences();return(r==null?void 0:r.exercise_set_data[e])||null}static async saveWorkoutSession(e){const r=await this.getEnhancedPreferences();if(!r)return;const n={...r.workout_sessions,[e.id]:e};return this.saveEnhancedPreferences({...r,workout_sessions:n})}static async getWorkoutSession(e){const r=await this.getEnhancedPreferences();return(r==null?void 0:r.workout_sessions[e])||null}static async saveSetTrackingPreferences(e){const r=await this.getEnhancedPreferences();if(r)return this.saveEnhancedPreferences({...r,set_tracking_preferences:e})}static async getSetTrackingPreferences(){const e=await this.getEnhancedPreferences();return(e==null?void 0:e.set_tracking_preferences)||dn}static async initializeExerciseSetTracking(e,r,n,s){var y;const i=`${e}-${r}-week${s}`,a=await this.getExerciseSetTracking(i);if(a)return a;const l=parseInt(n.sets.split("x")[0].trim())||4,c=((y=n.sets.match(/x\s*(\d+(?:-\d+)?)/))==null?void 0:y[1])||"8-10",d=(m=>{if(m==="N/A")return 0;const b=m.match(/(\d+(?:\.\d+)?)\s*(min|sec)/i);if(!b)return 90;const _=parseFloat(b[1]);return b[2].toLowerCase()==="min"?_*60:_})(n.rest),h=Array.from({length:l},(m,b)=>({id:`${i}-set${b+1}`,setNumber:b+1,weight:0,targetReps:c,completed:!1})),p={exerciseId:i,exerciseName:n.name,totalSets:l,targetRestTime:d,sets:h,currentSet:1,completed:!1};return await this.saveExerciseSetTracking(p),p}static async ensureUserMigration(){try{const e=await this.getPreferences(),r=await this.getUserProgress();e&&!e.current_program_id&&await this.savePreferences({...e,current_program_id:"foundation-builder"}),(!r||!r.current_program_id)&&await this.saveUserProgress({current_level:1,total_xp:0,current_program_id:"foundation-builder",current_week:(e==null?void 0:e.current_week)||1,programs_completed:[],achievements_unlocked:[]}),await this.getUserGameification()||await this.saveUserGameification({current_streak:0,longest_streak:0,total_workouts:0,total_nutrition_goals:0,badges_earned:[],current_challenges:[],weekly_stats:{workouts_completed:0,nutrition_goals_hit:0,consistency_percentage:0,xp_earned:0}})}catch(e){console.warn("Migration check failed:",e)}}static async getAvailablePrograms(){try{const{data:e,error:r}=await be.from("training_programs").select("*").order("difficulty_level",{ascending:!0});return r?(console.warn("Could not fetch programs from database, using fallback:",r),this.getFallbackPrograms()):e||this.getFallbackPrograms()}catch(e){return console.warn("Database error, using fallback programs:",e),this.getFallbackPrograms()}}static getFallbackPrograms(){return[{id:"foundation-builder",name:"Foundation Builder",description:"12-week beginner program focusing on building proper form and movement patterns",duration_weeks:12,difficulty_level:"beginner",tags:["beginner","strength","form"],is_premium:!1,workout_structure:{phases:{foundation:{name:"Foundation Phase",description:"Building movement patterns and base strength",color:"#3B82F6",weeks:[1,2,3,4]},growth:{name:"Growth Phase",description:"Increasing volume for muscle development",color:"#10B981",weeks:[5,6,7,8]},intensity:{name:"Intensity Phase",description:"Advanced techniques and peak strength",color:"#F59E0B",weeks:[9,10,11,12]}},workouts:{},nutrition_goals:[]}},{id:"power-surge-pro",name:"Power Surge Pro",description:"12-week intermediate program for explosive power and strength gains",duration_weeks:12,difficulty_level:"intermediate",tags:["intermediate","power","strength"],is_premium:!0,workout_structure:{phases:{build:{name:"Power Build Phase",description:"Building explosive power foundation",color:"#8B5CF6",weeks:[1,2,3,4]},surge:{name:"Power Surge Phase",description:"Peak power development",color:"#EF4444",weeks:[5,6,7,8]},peak:{name:"Peak Performance Phase",description:"Maximum power output",color:"#F97316",weeks:[9,10,11,12]}},workouts:{},nutrition_goals:[]}},{id:"beast-mode-elite",name:"Beast Mode Elite",description:"12-week advanced program for elite athletes seeking maximum gains",duration_weeks:12,difficulty_level:"advanced",tags:["advanced","elite","maximum"],is_premium:!0,workout_structure:{phases:{preparation:{name:"Beast Preparation Phase",description:"Preparing for extreme training intensity",color:"#7C2D12",weeks:[1,2,3,4]},unleashed:{name:"Beast Unleashed Phase",description:"Maximum intensity training",color:"#991B1B",weeks:[5,6,7,8]},legendary:{name:"Legendary Phase",description:"Elite performance mastery",color:"#1F2937",weeks:[9,10,11,12]}},workouts:{},nutrition_goals:[]}}]}static async getProgram(e){const{data:r,error:n}=await be.from("training_programs").select("*").eq("id",e).single();if(n){if(n.code==="PGRST116")return null;throw n}return r}static async getUserProgress(){const{data:e,error:r}=await be.from("user_progress").select("*").eq("user_id",this.userId).single();if(r){if(r.code==="PGRST116")return{current_level:1,total_xp:0,current_program_id:"",current_week:1,programs_completed:[],achievements_unlocked:[]};throw r}return e}static async saveUserProgress(e){const{data:r,error:n}=await be.from("user_progress").update({...e,updated_at:new Date().toISOString()}).eq("user_id",this.userId).select().single();if(r&&!n)return r;if(n&&n.code==="PGRST116"){const{data:s,error:i}=await be.from("user_progress").insert({user_id:this.userId,...e}).select().single();if(i)throw i;return s}if(n)throw n;return r}static async getUserGameification(){const{data:e,error:r}=await be.from("user_gamification").select("*").eq("user_id",this.userId).single();if(r){if(r.code==="PGRST116")return{current_streak:0,longest_streak:0,total_workouts:0,total_nutrition_goals:0,badges_earned:[],current_challenges:[],weekly_stats:{workouts_completed:0,nutrition_goals_hit:0,consistency_percentage:0,xp_earned:0}};throw r}return e}static async saveUserGameification(e){const{data:r,error:n}=await be.from("user_gamification").update({...e,updated_at:new Date().toISOString()}).eq("user_id",this.userId).select().single();if(r&&!n)return r;if(n&&n.code==="PGRST116"){const{data:s,error:i}=await be.from("user_gamification").insert({user_id:this.userId,...e}).select().single();if(i)throw i;return s}if(n)throw n;return r}static async getAvailableAchievements(){try{const{data:e,error:r}=await be.from("achievements").select("*").order("rarity",{ascending:!0});return r?(console.warn("Could not fetch achievements from database, using fallback:",r),this.getFallbackAchievements()):e||this.getFallbackAchievements()}catch(e){return console.warn("Database error, using fallback achievements:",e),this.getFallbackAchievements()}}static getFallbackAchievements(){return[{id:"first-workout",name:"First Steps",description:"Complete your first workout",icon:"💪",badge_icon:"🏆",xp_reward:50,unlock_criteria:{type:"workouts",target:1,timeframe:"all_time"},rarity:"common"},{id:"workout-warrior",name:"Workout Warrior",description:"Complete 50 workouts",icon:"⚔️",badge_icon:"🏆",xp_reward:200,unlock_criteria:{type:"workouts",target:50,timeframe:"all_time"},rarity:"rare"},{id:"fitness-legend",name:"Fitness Legend",description:"Complete 200 workouts",icon:"🌟",badge_icon:"🏆",xp_reward:500,unlock_criteria:{type:"workouts",target:200,timeframe:"all_time"},rarity:"legendary"},{id:"streak-starter",name:"Streak Starter",description:"Maintain a 3-day workout streak",icon:"🔥",badge_icon:"🏆",xp_reward:75,unlock_criteria:{type:"streak",target:3,timeframe:"daily"},rarity:"common"},{id:"streak-master",name:"Streak Master",description:"Maintain a 30-day workout streak",icon:"🔥",badge_icon:"🏆",xp_reward:300,unlock_criteria:{type:"streak",target:30,timeframe:"daily"},rarity:"epic"},{id:"foundation-graduate",name:"Foundation Graduate",description:"Complete the Foundation Builder program",icon:"🎓",badge_icon:"🏆",xp_reward:500,unlock_criteria:{type:"program_completion",target:1,timeframe:"all_time"},rarity:"rare"},{id:"nutrition-novice",name:"Nutrition Novice",description:"Complete 100 nutrition goals",icon:"🥗",badge_icon:"🏆",xp_reward:150,unlock_criteria:{type:"nutrition",target:100,timeframe:"all_time"},rarity:"common"},{id:"consistent-performer",name:"Consistent Performer",description:"Maintain 90% consistency for a week",icon:"📈",badge_icon:"🏆",xp_reward:100,unlock_criteria:{type:"consistency",target:90,timeframe:"weekly"},rarity:"common"},{id:"perfect-week",name:"Perfect Week",description:"Achieve 100% consistency for a week",icon:"✨",badge_icon:"🏆",xp_reward:200,unlock_criteria:{type:"consistency",target:100,timeframe:"weekly"},rarity:"rare"}]}static async addXP(e,r){const n=await this.getUserProgress();if(!n)throw new Error("No user progress found");const s=n.total_xp+e,i=this.calculateLevel(s),a={...n,total_xp:s,current_level:i},l=await this.getUserGameification();if(l){const c={...l,weekly_stats:{...l.weekly_stats,xp_earned:l.weekly_stats.xp_earned+e}};await this.saveUserGameification(c)}return await this.saveUserProgress(a)}static calculateLevel(e){return Math.floor(Math.sqrt(e/100))+1}static getXPForNextLevel(e){return Math.pow(e,2)*100}static getCurrentLevelProgress(e){const r=this.calculateLevel(e),n=Math.pow(r-1,2)*100,s=this.getXPForNextLevel(r),i=e-n,a=s-n,l=Math.min(100,i/a*100);return{currentLevelXP:i,nextLevelXP:a,progress:l}}static async switchProgram(e){const r=await this.getUserProgress();if(!r)throw new Error("No user progress found");const n={...r,current_program_id:e,current_week:1};return await this.saveUserProgress(n)}static async completeProgram(e){const r=await this.getUserProgress();if(!r)throw new Error("No user progress found");const n=[...r.programs_completed];n.includes(e)||n.push(e);const s=1e3,i=r.total_xp+s,a=this.calculateLevel(i),l={...r,total_xp:i,current_level:a,programs_completed:n};return await this.checkAchievements("program_completion",n.length),await this.saveUserProgress(l)}static async logWorkoutCompletion(e,r,n,s){try{const[i,a]=await Promise.all([this.getUserProgress(),this.getUserGameification()]);if(!i||!a){console.warn("Could not find progress or gamification data");return}const l=e/r,c=n/s,u=Math.floor(l*50),d=Math.floor(c*30),h=u+d,p={...a,total_workouts:a.total_workouts+1,total_nutrition_goals:a.total_nutrition_goals+n,weekly_stats:{...a.weekly_stats,workouts_completed:a.weekly_stats.workouts_completed+1,nutrition_goals_hit:a.weekly_stats.nutrition_goals_hit+n,xp_earned:a.weekly_stats.xp_earned+h}},y=new Date,m=await this.getLastWorkoutDate();let b=a.current_streak;if(m){const _=Math.floor((y.getTime()-m.getTime())/864e5);_===1?b+=1:_>1&&(b=1)}else b=1;p.current_streak=b,p.longest_streak=Math.max(p.longest_streak,b),await this.saveUserGameification(p),await this.addXP(h,"workout_completion"),await Promise.all([this.checkAchievements("workouts",p.total_workouts),this.checkAchievements("streak",b),this.checkAchievements("nutrition",p.total_nutrition_goals)])}catch(i){console.error("Error logging workout completion:",i)}}static async getLastWorkoutDate(){try{const e=await this.getSessions();if(e.length===0)return null;const r=e[0];return r.created_at?new Date(r.created_at):null}catch(e){return console.error("Error getting last workout date:",e),null}}static async checkAchievements(e,r){try{const[n,s]=await Promise.all([this.getAvailableAchievements(),this.getUserProgress()]);if(!s)return[];const i=n.filter(u=>u.unlock_criteria.type===e&&u.unlock_criteria.target<=r&&!s.achievements_unlocked.includes(u.id));if(i.length===0)return[];const a=i.map(u=>u.id),l=i.reduce((u,d)=>u+d.xp_reward,0),c={...s,achievements_unlocked:[...s.achievements_unlocked,...a],total_xp:s.total_xp+l,current_level:this.calculateLevel(s.total_xp+l)};return await this.saveUserProgress(c),a}catch(n){return console.error("Error checking achievements:",n),[]}}static async resetWeeklyStats(){try{const e=await this.getUserGameification();if(!e)return;const r={...e,weekly_stats:{workouts_completed:0,nutrition_goals_hit:0,consistency_percentage:0,xp_earned:0}};await this.saveUserGameification(r)}catch(e){console.error("Error resetting weekly stats:",e)}}static async calculateWeeklyConsistency(){try{const e=new Date;e.setDate(e.getDate()-e.getDay()),e.setHours(0,0,0,0);const n=(await this.getSessions()).filter(c=>new Date(c.created_at||"")>=e),s=3,i=n.length,a=Math.min(100,i/s*100),l=await this.getUserGameification();if(l){const c={...l,weekly_stats:{...l.weekly_stats,consistency_percentage:Math.round(a)}};await this.saveUserGameification(c),await this.checkAchievements("consistency",Math.round(a))}return a}catch(e){return console.error("Error calculating weekly consistency:",e),0}}static async getCurrentChallenges(){try{const e=await this.getUserGameification();return(e==null?void 0:e.current_challenges)||[]}catch(e){return console.error("Error getting current challenges:",e),[]}}static async updateChallengeProgress(e,r){try{const n=await this.getUserGameification();if(!n)return;const s=n.current_challenges.map(a=>a.id===e?{...a,current_value:r}:a),i={...n,current_challenges:s};await this.saveUserGameification(i)}catch(n){console.error("Error updating challenge progress:",n)}}}On(G,"userId","anonymous");const Gx=({onProgramSelect:t,currentProgramId:e})=>{const[r,n]=S.useState([]),[s,i]=S.useState(null),[a,l]=S.useState(!0);S.useEffect(()=>{c()},[]);const c=async()=>{try{const[_,g]=await Promise.all([G.getAvailablePrograms(),G.getUserProgress()]);n(_),i(g)}catch(_){console.error("Error loading program data:",_),i({id:"fallback-user",user_id:"fallback-user",current_program_id:"foundation-builder",current_week:1,completed_exercises:{},exercise_weights:{},nutrition_goals:{},created_at:new Date().toISOString(),updated_at:new Date().toISOString()}),n([{id:"foundation-builder",name:"Foundation Builder",description:"12-week beginner program focusing on building proper form and movement patterns with ARM specialization",duration_weeks:12,difficulty_level:"beginner",tags:["beginner","strength","form","arms"],is_premium:!1,workout_structure:{phases:{foundation:{name:"Foundation Phase",description:"Building movement patterns and base strength",color:"#3B82F6",weeks:[1,2,3,4]},growth:{name:"Growth Phase",description:"Increasing volume for muscle development",color:"#10B981",weeks:[5,6,7,8]},intensity:{name:"Intensity Phase",description:"Advanced techniques and peak strength",color:"#F59E0B",weeks:[9,10,11,12]}},workouts:{},nutrition_goals:[]}},{id:"power-surge-pro",name:"Power Surge Pro",description:"16-week intermediate program for explosive power and strength gains with advanced techniques",duration_weeks:16,difficulty_level:"intermediate",tags:["intermediate","power","strength","explosive"],is_premium:!0,workout_structure:{phases:{build:{name:"Power Build Phase",description:"Building explosive power foundation",color:"#8B5CF6",weeks:[1,2,3,4]},surge:{name:"Strength Surge Phase",description:"Increasing load capacity and raw strength",color:"#EF4444",weeks:[5,6,7,8]},peak:{name:"Power Peak Phase",description:"Maximum power output with plyometrics",color:"#F97316",weeks:[9,10,11,12]},elite:{name:"Elite Conditioning Phase",description:"Peak performance with advanced techniques",color:"#DC2626",weeks:[13,14,15,16]}},workouts:{},nutrition_goals:[]}},{id:"beast-mode-elite",name:"Beast Mode Elite",description:"20-week advanced program for elite athletes seeking maximum performance and competition-prep training",duration_weeks:20,difficulty_level:"advanced",tags:["advanced","elite","competition","maximum"],is_premium:!0,workout_structure:{phases:{foundation:{name:"Beast Foundation Phase",description:"Advanced movement preparation",color:"#7C2D12",weeks:[1,2,3,4]},dominance:{name:"Power Dominance Phase",description:"Olympic lifts and maximum power",color:"#991B1B",weeks:[5,6,7,8]},supremacy:{name:"Strength Supremacy Phase",description:"Powerlifting methodology",color:"#1F2937",weeks:[9,10,11,12]},warfare:{name:"Hypertrophy Warfare Phase",description:"Advanced muscle building techniques",color:"#0F172A",weeks:[13,14,15,16]},mastery:{name:"Elite Mastery Phase",description:"Peak performance integration",color:"#000000",weeks:[17,18,19,20]}},workouts:{},nutrition_goals:[]}}]),i({current_level:1,total_xp:0,current_program_id:"foundation-builder",current_week:1,programs_completed:[],achievements_unlocked:[]})}finally{l(!1)}},u=_=>_.is_premium?s?_.id==="power-surge-pro"?s.programs_completed.includes("foundation-builder"):_.id==="beast-mode-elite"?s.programs_completed.includes("power-surge-pro"):!0:!1:!0,d=_=>s?_.id!==e?s.programs_completed.includes(_.id)?100:0:Math.round(s.current_week/_.duration_weeks*100):0,h=_=>(s==null?void 0:s.programs_completed.includes(_.id))||!1,p=_=>{switch(_){case"beginner":return"bg-green-100 text-green-800";case"intermediate":return"bg-yellow-100 text-yellow-800";case"advanced":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},y=_=>{switch(_){case"beginner":return o.jsx(Wt,{className:"w-4 h-4"});case"intermediate":return o.jsx(Sn,{className:"w-4 h-4"});case"advanced":return o.jsx(ht,{className:"w-4 h-4"});default:return o.jsx(Wt,{className:"w-4 h-4"})}},m=_=>{if(_.id===e)return"bg-gradient-to-br from-blue-500 via-blue-600 to-blue-700";switch(_.difficulty_level){case"beginner":return"bg-gradient-to-br from-green-500 via-green-600 to-emerald-700";case"intermediate":return"bg-gradient-to-br from-purple-500 via-purple-600 to-purple-700";case"advanced":return"bg-gradient-to-br from-red-500 via-red-600 to-red-700";default:return"bg-gradient-to-br from-gray-500 via-gray-600 to-gray-700"}},b=_=>{switch(_.id){case"foundation-builder":return["Perfect form development","Progressive overload basics","ARM specialization focus","Nutrition guidance included"];case"power-surge-pro":return["Explosive power training","Advanced compound movements","Olympic lift variations","Peak performance protocols"];case"beast-mode-elite":return["Elite athlete protocols","Maximum intensity training","Advanced periodization","Competition preparation"];default:return[]}};return a?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-blue-900 to-purple-900 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),o.jsx("p",{className:"text-white text-lg",children:"Loading training programs..."})]})}):o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:[o.jsx("div",{className:"bg-white shadow-sm border-b sticky top-0 z-10",children:o.jsx("div",{className:"max-w-4xl mx-auto px-4 py-6",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Choose Your Training Program"}),o.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Select the perfect training program for your fitness level and goals. Each program is designed to challenge you and deliver real results."})]})})}),o.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[o.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:r.map(_=>{const g=u(_),f=_.id===e,x=h(_),w=d(_),E=b(_);return o.jsxs("div",{className:`relative overflow-hidden rounded-2xl shadow-lg transition-all duration-300 hover:shadow-xl transform hover:scale-105 ${g?"cursor-pointer":"cursor-not-allowed opacity-75"} ${x?"ring-2 ring-green-400 ring-opacity-50":""}`,onClick:()=>g&&t(_.id),children:[o.jsxs("div",{className:"relative h-52 overflow-hidden",children:[o.jsx("div",{className:`absolute inset-0 ${m(_)} opacity-90`}),o.jsxs("div",{className:"absolute inset-0 p-6 text-white flex flex-col justify-between",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{className:"space-y-2",children:[f&&o.jsxs("div",{className:"bg-white bg-opacity-20 backdrop-blur-sm text-white text-xs font-medium px-3 py-1.5 rounded-full flex items-center gap-1 shadow-lg",children:[o.jsx(Su,{className:"w-3 h-3"}),"Current Program"]}),x&&!f&&o.jsxs("div",{className:"bg-green-500 bg-opacity-90 backdrop-blur-sm text-white text-xs font-medium px-3 py-1.5 rounded-full flex items-center gap-1 shadow-lg",children:[o.jsx(ht,{className:"w-3 h-3"}),"Completed"]})]}),o.jsxs("div",{className:"space-y-2",children:[_.is_premium&&o.jsx("div",{className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white p-2 rounded-full shadow-lg",children:o.jsx(xi,{className:"w-5 h-5"})}),!g&&o.jsx("div",{className:"bg-black bg-opacity-40 backdrop-blur-sm text-white p-2 rounded-full shadow-lg",children:o.jsx(Pu,{className:"w-5 h-5"})})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("h3",{className:"text-2xl font-bold drop-shadow-lg leading-tight",children:_.name}),o.jsx("p",{className:"text-sm opacity-95 leading-relaxed drop-shadow-md bg-black bg-opacity-30 backdrop-blur-sm rounded-lg p-3 overflow-hidden",style:{display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical",maxHeight:"4.5rem"},children:_.description})]}),(f||x)&&w>0&&o.jsxs("div",{className:"space-y-2 bg-black bg-opacity-20 backdrop-blur-sm rounded-lg p-3",children:[o.jsxs("div",{className:"flex justify-between text-xs font-medium",children:[x?o.jsxs("span",{className:"flex items-center gap-1",children:["Program Completed! ",o.jsx("span",{className:"text-yellow-300",children:"✨"})]}):o.jsxs("span",{children:["Week ",s==null?void 0:s.current_week," of ",_.duration_weeks]}),o.jsxs("span",{className:"bg-white bg-opacity-20 px-2 py-0.5 rounded-full",children:[w,"%"]})]}),o.jsx("div",{className:"bg-white bg-opacity-20 rounded-full h-2.5 shadow-inner",children:o.jsx("div",{className:`${x?"bg-gradient-to-r from-green-300 to-green-100":"bg-gradient-to-r from-white to-blue-100"} rounded-full h-2.5 transition-all duration-300 shadow-sm`,style:{width:`${w}%`}})})]})]})]})]}),o.jsxs("div",{className:"p-6 bg-white",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:`inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-medium ${p(_.difficulty_level)}`,children:[y(_.difficulty_level),_.difficulty_level]}),o.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(lo,{className:"w-4 h-4"}),_.duration_weeks,"w"]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Pg,{className:"w-4 h-4"}),"3x/week"]})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("h4",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[o.jsx($t,{className:"w-4 h-4 text-blue-600"}),"Key Features"]}),o.jsx("ul",{className:"space-y-2",children:E.map((v,k)=>o.jsxs("li",{className:"flex items-start gap-2 text-sm text-gray-600",children:[o.jsx(Su,{className:"w-4 h-4 text-green-500 mt-0.5 flex-shrink-0"}),v]},k))})]}),o.jsx("div",{className:"mt-6",children:g?f?o.jsxs("button",{onClick:v=>{v.stopPropagation(),t(_.id)},className:"w-full bg-blue-600 text-white py-3 rounded-lg font-medium text-sm hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:["Continue Training",o.jsx(ju,{className:"w-4 h-4"})]}):x?o.jsxs("button",{onClick:v=>{v.stopPropagation(),t(_.id)},className:"w-full bg-gradient-to-r from-green-600 to-emerald-600 text-white py-3 rounded-lg font-medium text-sm hover:from-green-700 hover:to-emerald-700 transition-all flex items-center justify-center gap-2",children:[o.jsx(ht,{className:"w-4 h-4"}),"Restart Program"]}):_.is_premium?o.jsxs("button",{className:"w-full bg-gradient-to-r from-yellow-500 to-orange-500 text-white py-3 rounded-lg font-medium text-sm hover:from-yellow-600 hover:to-orange-600 transition-all flex items-center justify-center gap-2",children:[o.jsx(xi,{className:"w-4 h-4"}),"Start Program"]}):o.jsxs("button",{className:"w-full bg-green-600 text-white py-3 rounded-lg font-medium text-sm hover:bg-green-700 transition-colors flex items-center justify-center gap-2",children:["Start Free Program",o.jsx(ju,{className:"w-4 h-4"})]}):o.jsxs("button",{disabled:!0,className:"w-full bg-gray-300 text-gray-500 py-3 rounded-lg font-medium text-sm flex items-center justify-center gap-2 cursor-not-allowed",children:[o.jsx(Pu,{className:"w-4 h-4"}),"Locked"]})})]}),o.jsxs("div",{className:"absolute top-0 right-0",children:[o.jsx("div",{className:`w-0 h-0 border-l-[30px] border-l-transparent border-t-[30px] ${_.is_premium?"border-t-yellow-400":"border-t-green-400"}`}),o.jsx("div",{className:"absolute top-1 right-1",children:_.is_premium?o.jsx(xi,{className:"w-4 h-4 text-white"}):o.jsx(Wt,{className:"w-4 h-4 text-white"})})]})]},_.id)})}),o.jsx("div",{className:"mt-12 text-center",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6 max-w-2xl mx-auto",children:[o.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Need Help Choosing?"}),o.jsxs("div",{className:"text-sm text-gray-600 space-y-2",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Foundation Builder:"})," Perfect for beginners or anyone returning to fitness. Focus on form and fundamentals."]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Power Surge Pro:"})," For experienced lifters ready to take their strength to the next level with advanced techniques."]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Beast Mode Elite:"})," Elite-level programming for serious athletes pursuing maximum performance gains."]})]})]})})]})]})},Kx=()=>{const[t,e]=S.useState(null),[r,n]=S.useState(!0);S.useEffect(()=>{s()},[]);const s=async()=>{try{await G.ensureUserMigration();const u=await G.getUserProgress();e(u)}catch(u){console.error("Error loading user progress:",u)}finally{n(!1)}};if(r||!t)return o.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white p-4 rounded-xl shadow-lg animate-pulse",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-12 h-12 bg-white bg-opacity-20 rounded-full"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"h-4 bg-white bg-opacity-20 rounded mb-2"}),o.jsx("div",{className:"h-3 bg-white bg-opacity-20 rounded w-2/3"})]})]})});const i=G.getCurrentLevelProgress(t.total_xp);G.getXPForNextLevel(t.current_level);const a=u=>u>=50?o.jsx(ht,{className:"w-6 h-6 text-yellow-300"}):u>=25?o.jsx(Bt,{className:"w-6 h-6 text-purple-300"}):u>=10?o.jsx(Sn,{className:"w-6 h-6 text-blue-300"}):o.jsx(Wt,{className:"w-6 h-6 text-green-300"}),l=u=>u>=50?"Fitness Legend":u>=25?"Training Master":u>=10?"Dedicated Athlete":u>=5?"Rising Star":"Fitness Beginner",c=u=>u>=50?"from-yellow-500 to-orange-500":u>=25?"from-purple-500 to-pink-500":u>=10?"from-blue-500 to-indigo-500":u>=5?"from-green-500 to-emerald-500":"from-gray-500 to-slate-500";return o.jsxs("div",{className:`bg-gradient-to-r ${c(t.current_level)} text-white p-4 rounded-xl shadow-lg border border-white border-opacity-20`,children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"w-16 h-16 bg-white bg-opacity-20 rounded-full flex items-center justify-center backdrop-blur-sm",children:a(t.current_level)}),o.jsx("div",{className:"absolute -bottom-1 -right-1 bg-white text-gray-900 text-xs font-bold px-2 py-1 rounded-full shadow-lg min-w-[24px] text-center",children:t.current_level})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"flex items-center gap-2 mb-1",children:o.jsx("h3",{className:"font-bold text-lg",children:l(t.current_level)})}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsxs("span",{className:"opacity-90",children:["Level ",t.current_level]}),o.jsxs("span",{className:"opacity-90",children:[t.total_xp.toLocaleString()," XP"]})]}),o.jsx("div",{className:"bg-white bg-opacity-20 rounded-full h-2 overflow-hidden",children:o.jsx("div",{className:"bg-white rounded-full h-2 transition-all duration-500 ease-out",style:{width:`${i.progress}%`}})}),o.jsxs("div",{className:"flex justify-between text-xs opacity-80",children:[o.jsxs("span",{children:[Math.round(i.currentLevelXP).toLocaleString()," / ",i.nextLevelXP.toLocaleString()]}),o.jsxs("span",{children:[Math.round(i.nextLevelXP-i.currentLevelXP).toLocaleString()," XP to next level"]})]})]})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-lg font-bold",children:t.programs_completed.length}),o.jsx("div",{className:"text-xs opacity-80",children:"Programs"}),o.jsx("div",{className:"text-xs opacity-80",children:"Completed"})]})]}),t.current_level>=5&&o.jsx("div",{className:"mt-3 pt-3 border-t border-white border-opacity-20",children:o.jsxs("div",{className:"flex items-center justify-center gap-4 text-xs",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Wt,{className:"w-3 h-3"}),o.jsx("span",{children:"Premium Access"})]}),t.current_level>=10&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(ht,{className:"w-3 h-3"}),o.jsx("span",{children:"Elite Programs"})]})]})})]})},Xx={fitness:"483251",gym:"1154337",workout:"1538281",strength:"317099",motivation:"1065396",nutrition:"1114804"},Ne={programs:{foundation:{url:"https://images.unsplash.com/photo-1534438327276-14e5300c3a48?w=800&q=80",alt:"Foundation Phase - Gym Equipment Setup",credit:"John Arano on Unsplash"},growth:{url:"https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?w=800&q=80",alt:"Growth Phase - Heavy Weights",credit:"Victor Freitas on Unsplash"},intensity:{url:"https://images.unsplash.com/photo-1594737626072-90dc274bc2dd?w=800&q=80",alt:"Intensity Phase - Advanced Training",credit:"Anastase Maragos on Unsplash"}},workouts:{push:{url:"https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?w=800&q=80",alt:"Push Day - Chest and Shoulders Workout",credit:"Victor Freitas on Unsplash"},pull:{url:"https://images.unsplash.com/photo-1583454110551-21f2fa2afe61?w=800&q=80",alt:"Pull Day - Back and Arms Training",credit:"Anastase Maragos on Unsplash"},legs:{url:"https://images.unsplash.com/photo-1566241134710-42b6b6e7bdf4?w=800&q=80",alt:"Leg Day - Lower Body Training",credit:"Danielle Cerullo on Unsplash"}},achievements:{first_workout:{url:"https://images.unsplash.com/photo-1549060279-7e168fcee0c2?w=600&q=80",alt:"First Workout Achievement",credit:"John Arano on Unsplash"},streak_7:{url:"https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?w=600&q=80",alt:"7 Day Streak Achievement",credit:"Victor Freitas on Unsplash"},strength_master:{url:"https://images.unsplash.com/photo-1594737626072-90dc274bc2dd?w=600&q=80",alt:"Strength Master Achievement",credit:"Anastase Maragos on Unsplash"},nutrition_king:{url:"https://images.unsplash.com/photo-1490645935967-10de6ba17061?w=600&q=80",alt:"Nutrition Achievement",credit:"Brooke Lark on Unsplash"}},loading:{general:{url:"https://images.unsplash.com/photo-1534438327276-14e5300c3a48?w=800&q=80",alt:"Loading - Gym Equipment",credit:"John Arano on Unsplash"},splash:{url:"https://images.unsplash.com/photo-1571019614242-c5c5dee9f50b?w=1200&q=80",alt:"Fitness App Splash Screen",credit:"Victor Freitas on Unsplash"}},exercises:{chest:{url:"https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?w=600&q=80",alt:"Chest Exercises",credit:"Victor Freitas on Unsplash"},back:{url:"https://images.unsplash.com/photo-1583454110551-21f2fa2afe61?w=600&q=80",alt:"Back Exercises",credit:"Anastase Maragos on Unsplash"},arms:{url:"https://images.unsplash.com/photo-1581009146145-b5ef050c2e1e?w=600&q=80",alt:"Arm Exercises",credit:"Hayley Kim Design on Unsplash"},legs:{url:"https://images.unsplash.com/photo-1566241134710-42b6b6e7bdf4?w=600&q=80",alt:"Leg Exercises",credit:"Danielle Cerullo on Unsplash"}},nutrition:{protein:{url:"https://images.unsplash.com/photo-1532550907401-a500c9a57435?w=600&q=80",alt:"High Protein Foods",credit:"Sebastian Coman Photography on Unsplash"},healthy_meal:{url:"https://images.unsplash.com/photo-1490645935967-10de6ba17061?w=600&q=80",alt:"Healthy Nutrition",credit:"Brooke Lark on Unsplash"},supplements:{url:"https://images.unsplash.com/photo-1559181567-c3190ca9959b?w=600&q=80",alt:"Fitness Supplements",credit:"Supplement Bottle on Unsplash"}}},xo={thumbnail:{w:300,h:200,q:70},card:{w:600,h:400,q:80},header:{w:800,h:300,q:85},splash:{w:1200,h:800,q:90},achievement:{w:400,h:400,q:80}},ra=new Map;function zr(t,e="card"){const r=xo[e],n=`${t}_${e}`;if(ra.has(n))return ra.get(n);const s=t.includes("unsplash.com")?`${t}&w=${r.w}&h=${r.h}&q=${r.q}&fit=crop&auto=format`:t;return ra.set(n,s),s}function Qx(t="fitness",e="card"){const r=Xx[t],n=xo[e];return`https://source.unsplash.com/collection/${r}/${n.w}x${n.h}`}function Jx(t,e="header"){const r=Ne.programs[t];return zr(r.url,e)}function Yx(t,e="header"){const r=Ne.workouts[t];return zr(r.url,e)}function Zx(t,e="achievement"){const r=Ne.achievements[t];return zr(r.url,e)}function ev(t="general",e="splash"){const r=Ne.loading[t];return zr(r.url,e)}function Af(){[Ne.programs.foundation.url,Ne.programs.growth.url,Ne.programs.intensity.url,Ne.workouts.push.url,Ne.workouts.pull.url,Ne.workouts.legs.url,Ne.loading.general.url].forEach(e=>{const r=new Image;r.src=zr(e,"card")})}function dl(){if("IntersectionObserver"in window){const t=new IntersectionObserver((e,r)=>{e.forEach(n=>{if(n.isIntersecting){const s=n.target;s.dataset.src&&(s.src=s.dataset.src,s.classList.remove("lazy"),r.unobserve(s))}})});document.querySelectorAll("img[data-src]").forEach(e=>{t.observe(e)})}}function tv(t,e,r="",n="card"){const s={...xo[n],q:10};return{lowQualitySrc:t.includes("unsplash.com")?`${t}&w=${s.w}&h=${s.h}&q=${s.q}&blur=10`:t,highQualitySrc:zr(t,n),alt:e,className:`${r} transition-all duration-500`}}function rv(t){const e=(n,s)=>{for(const[i,a]of Object.entries(n)){if(i===s&&typeof a=="object"&&"credit"in a)return a;if(typeof a=="object"){const l=e(a,s);if(l)return l}}return null},r=e(Ne,t);return(r==null?void 0:r.credit)||"Photo by Unsplash"}function nv(t=600,e=400,r="Fitness"){const n=document.createElement("canvas");n.width=t,n.height=e;const s=n.getContext("2d");if(s){const i=s.createLinearGradient(0,0,t,e);i.addColorStop(0,"#1e40af"),i.addColorStop(1,"#3b82f6"),s.fillStyle=i,s.fillRect(0,0,t,e),s.fillStyle="white",s.font=`${Math.min(t,e)/10}px Arial`,s.textAlign="center",s.textBaseline="middle",s.fillText(r,t/2,e/2)}return n.toDataURL()}async function sv(t){try{return(await fetch(t,{method:"HEAD"})).ok}catch{return!1}}function iv(){Af(),document.readyState==="loading"?document.addEventListener("DOMContentLoaded",dl):dl()}const Ct={getOptimizedImageUrl:zr,getRandomFitnessImage:Qx,getProgramImage:Jx,getWorkoutImage:Yx,getAchievementImage:Zx,getLoadingImage:ev,preloadCriticalImages:Af,setupLazyLoading:dl,createProgressiveImage:tv,getImageAttribution:rv,getPlaceholderImage:nv,validateImageUrl:sv,initializeImageService:iv,SIZES:xo,IMAGES:Ne},Vi=({src:t,alt:e,className:r="",size:n="card",fallbackText:s,showAttribution:i=!1,lazy:a=!0,overlay:l,onLoad:c,onError:u})=>{const[d,h]=S.useState(!1),[p,y]=S.useState(!1),[m,b]=S.useState(!a),_=S.useRef(null),[g,f]=S.useState(!1),x=Ct.getOptimizedImageUrl(t,n),w=Ct.createProgressiveImage(t,e,r,n);S.useEffect(()=>{if(!a||!_.current)return;const C=new IntersectionObserver(O=>{const[I]=O;I.isIntersecting&&(b(!0),C.disconnect())},{threshold:.1});return C.observe(_.current),()=>C.disconnect()},[a]);const E=()=>{h(!0),c==null||c()},v=()=>{y(!0),u==null||u()},k=()=>{f(!0)},j=p?Ct.getPlaceholderImage(400,300,s||"Fitness"):null;return o.jsxs("div",{className:`relative overflow-hidden ${r}`,ref:_,children:[m&&!p&&o.jsx("img",{src:w.lowQualitySrc,alt:e,className:`absolute inset-0 w-full h-full object-cover transition-opacity duration-300 ${g&&!d?"opacity-100":"opacity-0"}`,onLoad:k,loading:"eager"}),m&&!p&&o.jsx("img",{src:x,alt:e,className:`absolute inset-0 w-full h-full object-cover transition-opacity duration-500 ${d?"opacity-100":"opacity-0"}`,onLoad:E,onError:v,loading:a?"lazy":"eager"}),p&&j&&o.jsx("img",{src:j,alt:e,className:"absolute inset-0 w-full h-full object-cover"}),!m||!d&&!p&&!g&&o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-200 to-gray-300 animate-pulse",children:o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsxs("div",{className:"text-gray-500 text-center",children:[o.jsx("div",{className:"w-8 h-8 mx-auto mb-2 bg-gray-400 rounded animate-pulse"}),o.jsx("div",{className:"text-sm",children:"Loading..."})]})})}),l&&d&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",style:{backgroundColor:l.color||"rgba(0, 0, 0, 0.4)",opacity:l.opacity||.6},children:l.content}),i&&d&&!p&&o.jsx("div",{className:"absolute bottom-1 right-1 bg-black bg-opacity-60 text-white text-xs px-2 py-1 rounded",children:Ct.getImageAttribution(t)})]})};function hc(){const[t,e]=S.useState(new Set),[r,n]=S.useState(new Set),[s,i]=S.useState(!1);S.useEffect(()=>{Ct.initializeImageService(),i(!0)},[]);const a=(b,_="card")=>{let g;return["foundation","growth","intensity"].includes(b)?g=Ne.programs[b]:["push","pull","legs"].includes(b)?g=Ne.workouts[b]:["first_workout","streak_7","strength_master","nutrition_king"].includes(b)?g=Ne.achievements[b]:["general","splash"].includes(b)?g=Ne.loading[b]:["chest","back","arms","legs"].includes(b)?g=Ne.exercises[b]:["protein","healthy_meal","supplements"].includes(b)&&(g=Ne.nutrition[b]),g?{url:g.url,alt:g.alt,credit:g.credit,optimizedUrl:Ct.getOptimizedImageUrl(g.url,_),isLoaded:t.has(g.url),hasError:r.has(g.url)}:null},l=(b,_="header")=>a(b,_),c=(b,_="header")=>a(b,_),u=(b,_="achievement")=>a(b,_),d=(b="fitness",_="card")=>Ct.getRandomFitnessImage(b,_),h=b=>{b.forEach(_=>{const g=a(_);if(g){const f=new Image;f.onload=()=>{e(x=>new Set(x).add(g.url))},f.onerror=()=>{n(x=>new Set(x).add(g.url))},f.src=g.optimizedUrl}})};return{isInitialized:s,loadedImages:t,errorImages:r,getImage:a,getProgramImage:l,getWorkoutImage:c,getAchievementImage:u,getRandomImage:d,getImageWithOverlay:(b,_="rgba(0, 0, 0, 0.4)",g="card")=>{const f=a(b,g);return f?{...f,style:{backgroundImage:`linear-gradient(${_}, ${_}), url(${f.optimizedUrl})`,backgroundSize:"cover",backgroundPosition:"center"}}:null},createProgressiveImage:(b,_="card")=>{const g=a(b,_);return g?Ct.createProgressiveImage(g.url,g.alt,"",_):null},preloadImages:h,preloadCriticalImages:()=>{h(["foundation","growth","intensity","push","pull","legs","general"])},validateImage:Ct.validateImageUrl,getPlaceholder:Ct.getPlaceholderImage}}function ov(){const t=hc();return S.useEffect(()=>{t.preloadImages(["push","pull","legs"])},[t]),{pushImage:t.getWorkoutImage("push"),pullImage:t.getWorkoutImage("pull"),legsImage:t.getWorkoutImage("legs"),getWorkoutImage:t.getWorkoutImage}}const av=()=>{const[t,e]=S.useState([]),[r,n]=S.useState(null),[s,i]=S.useState(null),[a,l]=S.useState([]),[c,u]=S.useState(!1),[d,h]=S.useState(!0),p=hc();S.useEffect(()=>{y()},[]);const y=async()=>{try{const[v,k,j]=await Promise.all([G.getAvailableAchievements(),G.getUserProgress(),G.getUserGameification()]);if(e(v),n(k),i(j),k!=null&&k.achievements_unlocked.length){const C=v.filter(O=>k.achievements_unlocked.includes(O.id)).slice(0,3);l(C)}}catch(v){console.error("Error loading achievement data:",v)}finally{h(!1)}},m=v=>{switch(v){case"common":return"from-gray-400 to-gray-600";case"rare":return"from-blue-400 to-blue-600";case"epic":return"from-purple-400 to-purple-600";case"legendary":return"from-yellow-400 to-orange-600";default:return"from-gray-400 to-gray-600"}},b=v=>{switch(v){case"common":return"border-gray-300";case"rare":return"border-blue-300";case"epic":return"border-purple-300";case"legendary":return"border-yellow-300";default:return"border-gray-300"}},_=v=>{if(v.icon)return v.icon;switch(v.unlock_criteria.type){case"workouts":return"💪";case"streak":return"🔥";case"program_completion":return"🎓";case"nutrition":return"🥗";case"consistency":return"📈";default:return"🏆"}},g=v=>(r==null?void 0:r.achievements_unlocked.includes(v))||!1,f=v=>{if(!s)return 0;switch(v.unlock_criteria.type){case"workouts":return s.total_workouts;case"streak":return s.current_streak;case"program_completion":return(r==null?void 0:r.programs_completed.length)||0;case"nutrition":return s.total_nutrition_goals;case"consistency":return s.weekly_stats.consistency_percentage;default:return 0}},x=v=>{const k=f(v);return Math.min(100,k/v.unlock_criteria.target*100)},w=v=>{var k,j,C,O,I;switch(v.unlock_criteria.type){case"workouts":return((k=p.getAchievementImage("first_workout"))==null?void 0:k.url)||"";case"streak":return((j=p.getAchievementImage("streak_7"))==null?void 0:j.url)||"";case"program_completion":return((C=p.getAchievementImage("strength_master"))==null?void 0:C.url)||"";case"nutrition":return((O=p.getAchievementImage("nutrition_king"))==null?void 0:O.url)||"";default:return((I=p.getAchievementImage("first_workout"))==null?void 0:I.url)||""}};if(d)return o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6 animate-pulse",children:[o.jsx("div",{className:"h-6 bg-gray-200 rounded mb-4 w-1/3"}),o.jsx("div",{className:"flex gap-3",children:[1,2,3].map(v=>o.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-full"},v))})]});const E=t.filter(v=>!g(v.id)).filter(v=>x(v)>0).sort((v,k)=>x(k)-x(v)).slice(0,3);return o.jsxs("div",{className:"space-y-6",children:[a.length>0&&o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-4 sm:p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[o.jsx(ht,{className:"w-5 h-5 text-yellow-500"}),"Recent Achievements"]}),o.jsx("button",{onClick:()=>u(!0),className:"text-sm text-blue-600 hover:text-blue-700 transition-colors",children:"View All"})]}),o.jsx("div",{className:"flex gap-4 overflow-x-auto pb-2",children:a.map(v=>o.jsxs("div",{className:"flex-shrink-0 relative group cursor-pointer",title:v.description,children:[o.jsxs("div",{className:"relative w-16 h-16 rounded-full overflow-hidden shadow-lg border-2 group-hover:scale-110 transition-transform duration-200",children:[o.jsx(Vi,{src:w(v),alt:`${v.name} background`,className:"absolute inset-0 w-full h-full",size:"achievement",lazy:!1}),o.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${m(v.rarity)} opacity-80`}),o.jsx("div",{className:`absolute inset-0 border-2 ${b(v.rarity)} rounded-full`}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-2xl text-white drop-shadow-lg",children:_(v)})]}),o.jsx("div",{className:"absolute -top-1 -right-1 bg-green-500 text-white rounded-full p-1 shadow-lg",children:o.jsx(Nu,{className:"w-3 h-3"})}),o.jsxs("div",{className:"text-center mt-2",children:[o.jsx("div",{className:"text-xs font-medium text-gray-900 truncate max-w-[64px]",children:v.name}),o.jsxs("div",{className:"text-xs font-bold bg-gradient-to-r from-yellow-500 to-orange-500 bg-clip-text text-transparent",children:["+",v.xp_reward," XP"]})]})]},v.id))})]}),E.length>0&&o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-4 sm:p-6",children:[o.jsx("div",{className:"flex items-center justify-between mb-4",children:o.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[o.jsx($t,{className:"w-5 h-5 text-blue-500"}),"Progress Tracker"]})}),o.jsx("div",{className:"space-y-4",children:E.map(v=>{const k=f(v),j=x(v);return o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"relative w-12 h-12 rounded-full overflow-hidden shadow-lg border-2 flex-shrink-0",children:[o.jsx(Vi,{src:w(v),alt:`${v.name} background`,className:"absolute inset-0 w-full h-full",size:"achievement",lazy:!1}),o.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${m(v.rarity)} opacity-75`}),o.jsx("div",{className:`absolute inset-0 border-2 ${b(v.rarity)} rounded-full`}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-lg text-white drop-shadow-lg",children:_(v)})]}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("span",{className:"font-medium text-gray-900 text-sm",children:v.name}),o.jsxs("span",{className:"text-xs text-gray-600",children:[k,"/",v.unlock_criteria.target]})]}),o.jsx("p",{className:"text-xs text-gray-600 mb-2",children:v.description}),o.jsx("div",{className:"bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:`bg-gradient-to-r ${m(v.rarity)} rounded-full h-2 transition-all duration-300`,style:{width:`${j}%`}})})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"text-xs font-medium text-blue-600",children:["+",v.xp_reward," XP"]}),o.jsx("div",{className:`text-xs font-medium ${b(v.rarity).replace("border-","text-")}`,children:v.rarity})]})]},v.id)})})]}),c&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[o.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white p-6 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(ht,{className:"w-6 h-6"}),o.jsx("h2",{className:"text-xl font-bold",children:"All Achievements"}),o.jsxs("span",{className:"bg-white bg-opacity-20 px-2 py-1 rounded-full text-sm",children:[(r==null?void 0:r.achievements_unlocked.length)||0,"/",t.length]})]}),o.jsx("button",{onClick:()=>u(!1),className:"p-2 hover:bg-white hover:bg-opacity-10 rounded-lg transition-colors",children:o.jsx(Cs,{className:"w-5 h-5"})})]}),o.jsx("div",{className:"overflow-y-auto max-h-[70vh] p-6",children:o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(v=>{const k=g(v.id),j=f(v),C=x(v);return o.jsxs("div",{className:`relative p-4 rounded-lg border-2 transition-all ${k?`${b(v.rarity)} bg-gradient-to-br from-white to-gray-50`:"border-gray-200 bg-white opacity-75"}`,children:[k&&o.jsx("div",{className:"absolute -top-2 -right-2 bg-green-500 text-white rounded-full p-1",children:o.jsx(Nu,{className:"w-4 h-4"})}),o.jsx("div",{className:"text-center mb-3",children:o.jsx("div",{className:`w-16 h-16 mx-auto rounded-full bg-gradient-to-br ${m(v.rarity)} flex items-center justify-center text-2xl border-2 ${b(v.rarity)} ${k?"shadow-lg":"opacity-75"}`,children:_(v)})}),o.jsxs("div",{className:"text-center space-y-2",children:[o.jsx("h3",{className:"font-semibold text-gray-900",children:v.name}),o.jsx("p",{className:"text-sm text-gray-600",children:v.description}),o.jsx("div",{className:`text-xs font-medium ${b(v.rarity).replace("border-","text-")}`,children:v.rarity.toUpperCase()}),!k&&C>0&&o.jsxs("div",{className:"mt-3",children:[o.jsx("div",{className:"bg-gray-200 rounded-full h-2 mb-1",children:o.jsx("div",{className:`bg-gradient-to-r ${m(v.rarity)} rounded-full h-2 transition-all duration-300`,style:{width:`${C}%`}})}),o.jsxs("div",{className:"text-xs text-gray-600",children:[j,"/",v.unlock_criteria.target]})]}),o.jsxs("div",{className:"text-sm font-medium text-blue-600",children:["+",v.xp_reward," XP"]})]})]},v.id)})})})]})})]})},lv=({compact:t=!1,showDetails:e=!0})=>{const[r,n]=S.useState(null),[s,i]=S.useState(!0),[a,l]=S.useState(0);S.useEffect(()=>{c()},[]);const c=async()=>{try{const[m,b]=await Promise.all([G.getUserGameification(),G.calculateWeeklyConsistency()]);n(m),l(b)}catch(m){console.error("Error loading streak data:",m)}finally{i(!1)}};if(s)return o.jsx("div",{className:`bg-white rounded-xl shadow-sm border ${t?"p-3":"p-4"} animate-pulse`,children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),o.jsx("div",{className:"h-3 bg-gray-200 rounded w-2/3"})]})]})});if(!r)return null;const u=m=>m>=30?"from-red-500 to-orange-500":m>=14?"from-orange-500 to-yellow-500":m>=7?"from-yellow-500 to-amber-500":m>=3?"from-blue-500 to-purple-500":"from-gray-400 to-gray-500",d=m=>m>=30?"Legendary Streak!":m>=14?"Epic Streak!":m>=7?"Great Streak!":m>=3?"Good Streak!":m>=1?"Keep Going!":"Start Your Streak!",h=m=>m>=30?"👑":m>=14?"🔥":m>=7?"⭐":m>=3?"💪":"🌱",p=m=>m>=90?"text-green-600 bg-green-100":m>=70?"text-blue-600 bg-blue-100":m>=50?"text-yellow-600 bg-yellow-100":"text-red-600 bg-red-100",y=u(r.current_streak);return t?o.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-3",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`w-10 h-10 rounded-full bg-gradient-to-r ${y} flex items-center justify-center text-lg shadow-lg`,children:h(r.current_streak)}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Eu,{className:"w-4 h-4 text-orange-500"}),o.jsxs("span",{className:"font-bold text-gray-900",children:[r.current_streak," Day",r.current_streak!==1?"s":""]})]}),o.jsxs("div",{className:"text-xs text-gray-600",children:["Best: ",r.longest_streak," days"]})]}),o.jsxs("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${p(a)}`,children:[Math.round(a),"%"]})]})}):o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-4 sm:p-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-4 sm:mb-6 gap-2 sm:gap-0",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[o.jsx(Eu,{className:"w-5 h-5 text-orange-500"}),"Workout Streak"]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx($t,{className:"w-4 h-4 text-blue-500"}),o.jsx("span",{className:"text-sm text-gray-600",children:"Weekly Goal: 3 workouts"})]})]}),o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("div",{className:`w-24 h-24 mx-auto rounded-full bg-gradient-to-r ${y} flex items-center justify-center text-4xl shadow-xl mb-4 animate-pulse-slow`,children:h(r.current_streak)}),o.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:r.current_streak}),o.jsxs("p",{className:"text-lg text-gray-600 mb-1",children:["Day",r.current_streak!==1?"s":""," in a row"]}),o.jsx("p",{className:"text-sm font-medium text-orange-600",children:d(r.current_streak)})]}),e&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[o.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-blue-600",children:r.longest_streak}),o.jsx("div",{className:"text-xs text-gray-600",children:"Best Streak"})]}),o.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-green-600",children:r.total_workouts}),o.jsx("div",{className:"text-xs text-gray-600",children:"Total Workouts"})]}),o.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[o.jsxs("div",{className:`text-2xl font-bold ${p(a).split(" ")[0]}`,children:[Math.round(a),"%"]}),o.jsx("div",{className:"text-xs text-gray-600",children:"This Week"})]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Weekly Progress"}),o.jsxs("span",{className:"text-sm text-gray-600",children:[r.weekly_stats.workouts_completed,"/3 workouts"]})]}),o.jsx("div",{className:"bg-gray-200 rounded-full h-3 overflow-hidden",children:o.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 h-3 rounded-full transition-all duration-500",style:{width:`${Math.min(100,r.weekly_stats.workouts_completed/3*100)}%`}})})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("h4",{className:"text-sm font-semibold text-gray-700 flex items-center gap-2",children:[o.jsx(lf,{className:"w-4 h-4"}),"Streak Milestones"]}),[{days:3,title:"Getting Started",icon:"🌱",achieved:r.current_streak>=3},{days:7,title:"One Week Strong",icon:"⭐",achieved:r.current_streak>=7},{days:14,title:"Two Week Warrior",icon:"🔥",achieved:r.current_streak>=14},{days:30,title:"Monthly Master",icon:"👑",achieved:r.current_streak>=30}].map(m=>o.jsxs("div",{className:`flex items-center gap-3 p-2 rounded-lg ${m.achieved?"bg-green-50":"bg-gray-50"}`,children:[o.jsx("span",{className:"text-xl",children:m.icon}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:`font-medium ${m.achieved?"text-green-800":"text-gray-600"}`,children:m.title}),o.jsxs("div",{className:"text-xs text-gray-500",children:[m.days," day",m.days!==1?"s":""," streak"]})]}),m.achieved&&o.jsx("div",{className:"w-6 h-6 bg-green-500 text-white rounded-full flex items-center justify-center text-xs",children:"✓"})]},m.days))]}),o.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(Sn,{className:"w-4 h-4 text-blue-600"}),o.jsx("span",{className:"font-medium text-blue-800",children:"Keep It Up!"})]}),o.jsx("p",{className:"text-sm text-blue-700",children:r.current_streak===0?"Start your fitness journey today! Every expert was once a beginner.":r.current_streak<3?"You're building momentum! Consistency is key to reaching your goals.":r.current_streak<7?"Great job! You're developing a healthy habit that will transform your life.":r.current_streak<14?"Amazing consistency! You're proving that dedication pays off.":r.current_streak<30?"Incredible streak! You're an inspiration to others on their fitness journey.":"Legendary dedication! You've mastered the art of consistency."})]})]}),o.jsx("style",{children:`
        @keyframes pulse-slow {
          0%, 100% {
            transform: scale(1);
          }
          50% {
            transform: scale(1.05);
          }
        }

        .animate-pulse-slow {
          animation: pulse-slow 3s ease-in-out infinite;
        }
      `})]})},cv=({xpGained:t,source:e,onComplete:r,show:n})=>{const[s,i]=S.useState(!1),[a,l]=S.useState("");if(S.useEffect(()=>{if(n&&t>0){i(!0),l("animate-slide-up");const d=setTimeout(()=>{l("animate-fade-out"),setTimeout(()=>{i(!1),r==null||r()},300)},3e3);return()=>clearTimeout(d)}},[n,t,r]),!s||t<=0)return null;const c=()=>{switch(e){case"workout_completion":case"exercise_completion":return"💪";case"nutrition_goals":return"🥗";case"streak_bonus":return"🔥";case"achievement_unlock":return"🏆";case"timer_completion":return"⏱️";default:return"⭐"}},u=()=>{switch(e){case"workout_completion":return"Workout Completed";case"exercise_completion":return"Exercise Completed";case"nutrition_goals":return"Nutrition Goals";case"streak_bonus":return"Streak Bonus";case"achievement_unlock":return"Achievement Unlocked";case"timer_completion":return"Timer Completed";default:return"XP Gained"}};return o.jsxs("div",{className:"fixed top-20 right-4 z-50 pointer-events-none",children:[o.jsxs("div",{className:`bg-gradient-to-r from-yellow-400 to-orange-500 text-white px-6 py-4 rounded-xl shadow-2xl border-2 border-yellow-300 ${a}`,children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"w-12 h-12 bg-white bg-opacity-20 rounded-full flex items-center justify-center text-2xl animate-bounce",children:c()}),o.jsx("div",{className:"absolute -top-1 -right-1 bg-yellow-300 text-yellow-900 rounded-full p-1",children:o.jsx(Bt,{className:"w-3 h-3"})})]}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx(Wt,{className:"w-4 h-4 text-yellow-200"}),o.jsxs("span",{className:"font-bold text-lg",children:["+",t," XP"]})]}),o.jsx("div",{className:"text-sm text-yellow-100 opacity-90",children:u()})]}),o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("div",{className:"w-2 h-2 bg-yellow-200 rounded-full animate-ping"}),o.jsx("div",{className:"w-1 h-1 bg-white rounded-full animate-pulse"}),o.jsx("div",{className:"w-2 h-2 bg-yellow-200 rounded-full animate-ping animation-delay-200"})]})]}),o.jsx("div",{className:"mt-2 h-1 bg-white bg-opacity-20 rounded-full overflow-hidden",children:o.jsx("div",{className:"h-full bg-white rounded-full animate-expand-width"})})]}),o.jsx("style",{children:`
        @keyframes slide-up {
          from {
            transform: translateY(100px);
            opacity: 0;
          }
          to {
            transform: translateY(0);
            opacity: 1;
          }
        }

        @keyframes fade-out {
          from {
            opacity: 1;
            transform: translateY(0);
          }
          to {
            opacity: 0;
            transform: translateY(-20px);
          }
        }

        @keyframes expand-width {
          from {
            width: 0%;
          }
          to {
            width: 100%;
          }
        }

        .animate-slide-up {
          animation: slide-up 0.5s ease-out;
        }

        .animate-fade-out {
          animation: fade-out 0.3s ease-in;
        }

        .animate-expand-width {
          animation: expand-width 2.5s ease-out;
        }

        .animation-delay-200 {
          animation-delay: 200ms;
        }
      `})]})},uv=({achievement:t,show:e,onClose:r})=>{const[n,s]=S.useState(!1),[i,a]=S.useState("enter");S.useEffect(()=>{if(e&&t){s(!0),a("enter");const p=setTimeout(()=>{a("celebration")},500),y=setTimeout(()=>{l()},5e3);return()=>{clearTimeout(p),clearTimeout(y)}}},[e,t]);const l=()=>{a("exit"),setTimeout(()=>{s(!1),r()},300)};if(!n||!t)return null;const u=(p=>{switch(p){case"common":return{gradient:"from-gray-400 via-gray-500 to-gray-600",borderColor:"border-gray-300",glowColor:"shadow-gray-400/30",textColor:"text-gray-700",bgPattern:"bg-gray-50"};case"rare":return{gradient:"from-blue-400 via-blue-500 to-blue-600",borderColor:"border-blue-300",glowColor:"shadow-blue-400/40",textColor:"text-blue-700",bgPattern:"bg-blue-50"};case"epic":return{gradient:"from-purple-400 via-purple-500 to-purple-600",borderColor:"border-purple-300",glowColor:"shadow-purple-400/50",textColor:"text-purple-700",bgPattern:"bg-purple-50"};case"legendary":return{gradient:"from-yellow-400 via-orange-500 to-red-500",borderColor:"border-yellow-300",glowColor:"shadow-yellow-400/60",textColor:"text-orange-700",bgPattern:"bg-gradient-to-br from-yellow-50 to-orange-50"};default:return{gradient:"from-gray-400 via-gray-500 to-gray-600",borderColor:"border-gray-300",glowColor:"shadow-gray-400/30",textColor:"text-gray-700",bgPattern:"bg-gray-50"}}})(t.rarity),d=()=>{switch(i){case"enter":return"animate-achievement-enter";case"celebration":return"animate-achievement-celebrate";case"exit":return"animate-achievement-exit";default:return""}},h=()=>t.icon||"🏆";return o.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex items-center justify-center p-4",children:[o.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(20)].map((p,y)=>o.jsx("div",{className:"absolute animate-confetti-fall text-2xl",style:{left:`${Math.random()*100}%`,animationDelay:`${Math.random()*3}s`,animationDuration:`${3+Math.random()*2}s`},children:["✨","🌟","⭐","💫"][Math.floor(Math.random()*4)]},y))}),o.jsxs("div",{className:`relative ${u.bgPattern} rounded-2xl shadow-2xl border-4 ${u.borderColor} ${u.glowColor} max-w-md w-full ${d()}`,children:[o.jsx("button",{onClick:l,className:"absolute top-4 right-4 p-2 hover:bg-white hover:bg-opacity-20 rounded-full transition-colors z-10",children:o.jsx(Cs,{className:"w-5 h-5 text-gray-600"})}),o.jsxs("div",{className:`bg-gradient-to-r ${u.gradient} text-white p-6 rounded-t-xl relative overflow-hidden`,children:[o.jsx("div",{className:"absolute inset-0 opacity-20",children:o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent animate-shimmer"})}),o.jsxs("div",{className:"relative text-center",children:[o.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[o.jsx(ht,{className:"w-6 h-6"}),o.jsx("h2",{className:"text-xl font-bold",children:"Achievement Unlocked!"}),o.jsx(ht,{className:"w-6 h-6"})]}),o.jsxs("div",{className:"text-sm opacity-90 uppercase tracking-wider font-semibold",children:[t.rarity," Achievement"]})]})]}),o.jsxs("div",{className:"flex justify-center -mt-8 mb-4 relative z-10",children:[o.jsx("div",{className:`w-24 h-24 rounded-full bg-gradient-to-br ${u.gradient} flex items-center justify-center text-4xl shadow-xl border-4 border-white animate-icon-pulse`,children:h()}),o.jsx("div",{className:"absolute inset-0 animate-spin-slow",children:[...Array(8)].map((p,y)=>o.jsx("div",{className:"absolute w-2 h-2 bg-yellow-400 rounded-full animate-ping",style:{top:"50%",left:"50%",transform:`rotate(${y*45}deg) translateY(-40px)`,animationDelay:`${y*.2}s`}},y))})]}),o.jsxs("div",{className:"px-6 pb-6 text-center",children:[o.jsx("h3",{className:`text-2xl font-bold ${u.textColor} mb-2`,children:t.name}),o.jsx("p",{className:"text-gray-600 mb-4 text-sm leading-relaxed",children:t.description}),o.jsxs("div",{className:`inline-flex items-center gap-2 bg-gradient-to-r ${u.gradient} text-white px-4 py-2 rounded-full shadow-lg`,children:[o.jsx(Wt,{className:"w-4 h-4"}),o.jsxs("span",{className:"font-bold",children:["+",t.xp_reward," XP"]}),o.jsx(Sg,{className:"w-4 h-4"})]}),o.jsx("div",{className:"mt-4",children:o.jsxs("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-semibold ${u.textColor} ${u.bgPattern} border ${u.borderColor}`,children:[t.rarity.toUpperCase()," RARITY"]})})]}),o.jsx("div",{className:`absolute inset-0 rounded-2xl border-4 ${u.borderColor} animate-glow-pulse pointer-events-none`})]}),o.jsx("style",{children:`
        @keyframes achievement-enter {
          0% {
            transform: scale(0.3) rotate(-180deg);
            opacity: 0;
          }
          70% {
            transform: scale(1.1) rotate(10deg);
            opacity: 1;
          }
          100% {
            transform: scale(1) rotate(0deg);
            opacity: 1;
          }
        }

        @keyframes achievement-celebrate {
          0%, 100% {
            transform: scale(1);
          }
          25% {
            transform: scale(1.05) rotate(2deg);
          }
          50% {
            transform: scale(1.02) rotate(-1deg);
          }
          75% {
            transform: scale(1.05) rotate(1deg);
          }
        }

        @keyframes achievement-exit {
          from {
            transform: scale(1);
            opacity: 1;
          }
          to {
            transform: scale(0.8);
            opacity: 0;
          }
        }

        @keyframes confetti-fall {
          0% {
            transform: translateY(-100vh) rotate(0deg);
            opacity: 1;
          }
          100% {
            transform: translateY(100vh) rotate(360deg);
            opacity: 0;
          }
        }

        @keyframes shimmer {
          0% {
            transform: translateX(-100%);
          }
          100% {
            transform: translateX(100%);
          }
        }

        @keyframes icon-pulse {
          0%, 100% {
            transform: scale(1);
          }
          50% {
            transform: scale(1.1);
          }
        }

        @keyframes glow-pulse {
          0%, 100% {
            box-shadow: 0 0 20px currentColor;
          }
          50% {
            box-shadow: 0 0 30px currentColor, 0 0 40px currentColor;
          }
        }

        @keyframes spin-slow {
          from {
            transform: rotate(0deg);
          }
          to {
            transform: rotate(360deg);
          }
        }

        .animate-achievement-enter {
          animation: achievement-enter 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        .animate-achievement-celebrate {
          animation: achievement-celebrate 2s ease-in-out infinite;
        }

        .animate-achievement-exit {
          animation: achievement-exit 0.3s ease-in;
        }

        .animate-confetti-fall {
          animation: confetti-fall linear infinite;
        }

        .animate-shimmer {
          animation: shimmer 2s infinite;
        }

        .animate-icon-pulse {
          animation: icon-pulse 2s ease-in-out infinite;
        }

        .animate-glow-pulse {
          animation: glow-pulse 2s ease-in-out infinite;
        }

        .animate-spin-slow {
          animation: spin-slow 8s linear infinite;
        }
      `})]})},dv=({newLevel:t,oldLevel:e,show:r,onComplete:n})=>{const[s,i]=S.useState(!1),[a,l]=S.useState("enter");if(S.useEffect(()=>{if(r&&t>e){i(!0),l("enter");const y=setTimeout(()=>{l("celebration")},800),m=setTimeout(()=>{l("exit"),setTimeout(()=>{i(!1),n==null||n()},500)},4e3);return()=>{clearTimeout(y),clearTimeout(m)}}},[r,t,e,n]),!s||t<=e)return null;const c=y=>y>=50?xi:y>=25?ht:y>=10?Sn:Wt,u=y=>y>=50?"Fitness Legend":y>=25?"Training Master":y>=10?"Dedicated Athlete":y>=5?"Rising Star":"Fitness Beginner",d=y=>y>=50?"from-yellow-400 via-orange-500 to-red-500":y>=25?"from-purple-400 via-purple-500 to-pink-500":y>=10?"from-blue-400 via-blue-500 to-indigo-500":y>=5?"from-green-400 via-green-500 to-emerald-500":"from-gray-400 via-gray-500 to-slate-500",h=c(t),p=()=>{switch(a){case"enter":return"animate-level-up-enter";case"celebration":return"animate-level-up-celebrate";case"exit":return"animate-level-up-exit";default:return""}};return o.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4 pointer-events-none",children:[o.jsx("div",{className:"absolute inset-0 overflow-hidden",children:[...Array(30)].map((y,m)=>o.jsx("div",{className:"absolute animate-firework text-3xl",style:{left:`${10+Math.random()*80}%`,top:`${10+Math.random()*80}%`,animationDelay:`${Math.random()*2}s`,animationDuration:`${2+Math.random()*1}s`},children:["🎆","🎉","✨","🌟","💫","⭐"][Math.floor(Math.random()*6)]},m))}),o.jsxs("div",{className:`relative max-w-lg w-full ${p()}`,children:[o.jsxs("div",{className:`bg-gradient-to-br ${d(t)} text-white rounded-2xl shadow-2xl border-4 border-white overflow-hidden relative`,children:[o.jsx("div",{className:"absolute inset-0 opacity-30",children:[...Array(12)].map((y,m)=>o.jsx("div",{className:"absolute top-1/2 left-1/2 w-1 bg-white animate-ray-expand",style:{height:"200px",transformOrigin:"center top",transform:`translate(-50%, -50%) rotate(${m*30}deg)`,animationDelay:`${m*.1}s`}},m))}),o.jsxs("div",{className:"relative z-10 p-8 text-center",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h1",{className:"text-4xl font-bold mb-2 animate-text-glow",children:"LEVEL UP!"}),o.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[o.jsx("div",{className:"text-6xl font-bold animate-number-flip",children:e}),o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx(Sn,{className:"w-8 h-8 mb-1 animate-bounce"}),o.jsx("div",{className:"text-sm opacity-90",children:"TO"})]}),o.jsx("div",{className:"text-6xl font-bold animate-number-flip-delayed",children:t})]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("div",{className:"w-24 h-24 mx-auto bg-white bg-opacity-20 rounded-full flex items-center justify-center mb-4 animate-icon-bounce",children:o.jsx(h,{className:"w-12 h-12 text-white"})}),o.jsx("h2",{className:"text-2xl font-bold mb-2",children:u(t)}),o.jsxs("p",{className:"text-lg opacity-90",children:["You've reached Level ",t,"!"]})]}),o.jsxs("div",{className:"flex justify-center gap-4",children:[o.jsx("div",{className:"bg-white bg-opacity-20 rounded-lg px-4 py-2",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Bt,{className:"w-5 h-5"}),o.jsx("span",{className:"font-semibold",children:"More XP Rewards"})]})}),t>=5&&o.jsx("div",{className:"bg-white bg-opacity-20 rounded-lg px-4 py-2",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Wt,{className:"w-5 h-5"}),o.jsx("span",{className:"font-semibold",children:"Premium Access"})]})})]})]}),o.jsx("div",{className:"absolute inset-0 border-4 border-white rounded-2xl animate-border-glow"})]}),o.jsx("div",{className:"absolute inset-0 pointer-events-none",children:[...Array(20)].map((y,m)=>o.jsx("div",{className:"absolute w-3 h-3 bg-yellow-400 rounded-full animate-float-particle",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*3}s`,animationDuration:`${3+Math.random()*2}s`}},m))})]}),o.jsx("style",{children:`
        @keyframes level-up-enter {
          0% {
            transform: scale(0.1) rotate(-180deg);
            opacity: 0;
          }
          50% {
            transform: scale(1.2) rotate(0deg);
            opacity: 1;
          }
          100% {
            transform: scale(1) rotate(0deg);
            opacity: 1;
          }
        }

        @keyframes level-up-celebrate {
          0%, 100% {
            transform: scale(1);
          }
          50% {
            transform: scale(1.05);
          }
        }

        @keyframes level-up-exit {
          0% {
            transform: scale(1);
            opacity: 1;
          }
          100% {
            transform: scale(0.8);
            opacity: 0;
          }
        }

        @keyframes firework {
          0% {
            transform: scale(0) rotate(0deg);
            opacity: 1;
          }
          50% {
            transform: scale(1.5) rotate(180deg);
            opacity: 1;
          }
          100% {
            transform: scale(0.5) rotate(360deg);
            opacity: 0;
          }
        }

        @keyframes ray-expand {
          0% {
            height: 0px;
            opacity: 0;
          }
          50% {
            height: 200px;
            opacity: 1;
          }
          100% {
            height: 300px;
            opacity: 0;
          }
        }

        @keyframes text-glow {
          0%, 100% {
            text-shadow: 0 0 20px rgba(255, 255, 255, 0.8);
          }
          50% {
            text-shadow: 0 0 30px rgba(255, 255, 255, 1), 0 0 40px rgba(255, 255, 255, 0.8);
          }
        }

        @keyframes number-flip {
          0% {
            transform: rotateY(0deg) scale(1);
          }
          25% {
            transform: rotateY(90deg) scale(0.8);
          }
          75% {
            transform: rotateY(-90deg) scale(1.2);
          }
          100% {
            transform: rotateY(0deg) scale(1);
          }
        }

        @keyframes icon-bounce {
          0%, 20%, 50%, 80%, 100% {
            transform: translateY(0);
          }
          40% {
            transform: translateY(-20px);
          }
          60% {
            transform: translateY(-10px);
          }
        }

        @keyframes border-glow {
          0%, 100% {
            box-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
          }
          50% {
            box-shadow: 0 0 40px rgba(255, 255, 255, 0.8), 0 0 60px rgba(255, 255, 255, 0.4);
          }
        }

        @keyframes float-particle {
          0% {
            transform: translateY(0px) rotate(0deg);
            opacity: 1;
          }
          100% {
            transform: translateY(-200px) rotate(360deg);
            opacity: 0;
          }
        }

        .animate-level-up-enter {
          animation: level-up-enter 1s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        .animate-level-up-celebrate {
          animation: level-up-celebrate 1.5s ease-in-out infinite;
        }

        .animate-level-up-exit {
          animation: level-up-exit 0.5s ease-in;
        }

        .animate-firework {
          animation: firework ease-out infinite;
        }

        .animate-ray-expand {
          animation: ray-expand 2s ease-out infinite;
        }

        .animate-text-glow {
          animation: text-glow 2s ease-in-out infinite;
        }

        .animate-number-flip {
          animation: number-flip 0.8s ease-in-out;
        }

        .animate-number-flip-delayed {
          animation: number-flip 0.8s ease-in-out 0.2s;
        }

        .animate-icon-bounce {
          animation: icon-bounce 2s infinite;
        }

        .animate-border-glow {
          animation: border-glow 2s ease-in-out infinite;
        }

        .animate-float-particle {
          animation: float-particle ease-out infinite;
        }
      `})]})},hv=({message:t="Loading your training data...",type:e="general",showProgress:r=!1,progress:n=0})=>{const s=hc(),i=e==="splash"?s.getImage("splash","splash"):s.getImage("general","splash");return o.jsxs("div",{className:"min-h-screen relative overflow-hidden",children:[o.jsx(Vi,{src:(i==null?void 0:i.url)||"",alt:"Fitness loading background",className:"absolute inset-0 w-full h-full",size:"splash",lazy:!1,overlay:{color:"rgba(0, 0, 0, 0.6)",opacity:.8}}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-900/80 via-purple-900/80 to-indigo-900/80"}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsxs("div",{className:"text-center space-y-6 sm:space-y-8 px-4 max-w-md",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"w-20 h-20 sm:w-24 sm:h-24 mx-auto bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center shadow-2xl animate-pulse",children:o.jsx(ht,{className:"w-10 h-10 sm:w-12 sm:h-12 text-white"})}),o.jsx("div",{className:"absolute -top-3 -right-3 sm:-top-4 sm:-right-4 w-6 h-6 sm:w-8 sm:h-8 bg-gradient-to-br from-orange-400 to-red-500 rounded-full flex items-center justify-center animate-bounce shadow-lg",children:o.jsx(yg,{className:"w-3 h-3 sm:w-4 sm:h-4 text-white"})}),o.jsx("div",{className:"absolute -bottom-3 -left-3 sm:-bottom-4 sm:-left-4 w-6 h-6 sm:w-8 sm:h-8 bg-gradient-to-br from-green-400 to-emerald-500 rounded-full flex items-center justify-center animate-pulse shadow-lg",children:o.jsx($t,{className:"w-3 h-3 sm:w-4 sm:h-4 text-white"})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("h1",{className:"text-2xl sm:text-4xl font-bold text-white drop-shadow-lg",children:"3x/Week Aesthetic"}),o.jsx("p",{className:"text-blue-200 text-base sm:text-lg font-medium drop-shadow-md",children:"Build Your Best Physique"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"flex justify-center",children:o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"w-16 h-16 border-4 border-white/20 border-t-white rounded-full animate-spin"}),o.jsx("div",{className:"absolute inset-0 w-16 h-16 border-4 border-transparent border-r-blue-400 rounded-full animate-spin",style:{animationDirection:"reverse",animationDuration:"2s"}})]})}),o.jsx("p",{className:"text-white/90 text-lg font-medium drop-shadow-md",children:t}),r&&o.jsxs("div",{className:"w-full max-w-xs mx-auto",children:[o.jsx("div",{className:"bg-white/20 rounded-full h-2 shadow-inner",children:o.jsx("div",{className:"bg-gradient-to-r from-blue-400 to-purple-500 h-2 rounded-full transition-all duration-300 shadow-sm",style:{width:`${Math.min(100,Math.max(0,n))}%`}})}),o.jsxs("div",{className:"text-white/80 text-sm mt-2 font-medium",children:[Math.round(n),"%"]})]}),o.jsxs("div",{className:"flex justify-center space-x-2",children:[o.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-bounce",style:{animationDelay:"0ms"}}),o.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-bounce",style:{animationDelay:"150ms"}}),o.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})]}),o.jsxs("div",{className:"space-y-2 text-center",children:[o.jsx("p",{className:"text-blue-200/80 text-sm font-medium drop-shadow-md",children:`"Your body can do it. It's your mind you need to convince."`}),o.jsx("p",{className:"text-white/60 text-xs drop-shadow-md",children:"Preparing your personalized training experience..."})]})]})}),o.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-32 bg-gradient-to-t from-black/40 to-transparent"}),o.jsx("div",{className:"absolute top-10 left-10 w-20 h-20 bg-gradient-to-br from-blue-400/20 to-purple-500/20 rounded-full blur-xl animate-pulse"}),o.jsx("div",{className:"absolute bottom-20 right-20 w-32 h-32 bg-gradient-to-br from-orange-400/20 to-red-500/20 rounded-full blur-xl animate-pulse",style:{animationDelay:"1s"}}),o.jsx("div",{className:"absolute top-1/3 right-10 w-16 h-16 bg-gradient-to-br from-green-400/20 to-emerald-500/20 rounded-full blur-xl animate-pulse",style:{animationDelay:"2s"}})]})},qu=({exercise:t,dayName:e,exerciseIndex:r,onComplete:n,onWeightChange:s,onSetComplete:i,onSetUpdate:a,onClose:l,isPopup:c=!1,enhancedMode:u=!1})=>{const d=R=>{const z=R.match(/^(\d+)/);return z?parseInt(z[1]):1},h=R=>{if(R==="N/A")return 0;const z=R.match(/(\d+(?:\.\d+)?)\s*(min|sec)/i);if(!z)return 90;const se=parseFloat(z[1]);return z[2].toLowerCase()==="min"?se*60:se},p=d(t.sets),y=h(t.rest),[m,b]=S.useState({currentSet:1,totalSets:p,restTime:y,setTime:0,isResting:!1,isRunning:!1,timeRemaining:0,setStartTime:0}),[_,g]=S.useState(t.currentWeight||0),[f,x]=S.useState(!0),[w,E]=S.useState(!1),[v,k]=S.useState(new Array(p).fill(!1)),[j,C]=S.useState(null),[O,I]=S.useState(null),[B,U]=S.useState(null),[ae,Ve]=S.useState(0),[F,Q]=S.useState(!1);S.useEffect(()=>{if(u&&t.exerciseSetTracking){const R=t.exerciseSetTracking.sets[m.currentSet-1];R&&(C(R),g(R.weight))}},[u,t.exerciseSetTracking,m.currentSet]);const P=S.useRef(null),$=S.useRef(null);S.useEffect(()=>{if(f)try{$.current=new Audio}catch{console.warn("Audio not supported")}},[f]);const D=S.useCallback((R=800,z=200)=>{if(!(!f||!$.current))try{const se=new(window.AudioContext||window.webkitAudioContext),qe=se.createOscillator(),Ge=se.createGain();qe.connect(Ge),Ge.connect(se.destination),qe.frequency.value=R,qe.type="sine",Ge.gain.setValueAtTime(.3,se.currentTime),Ge.gain.exponentialRampToValueAtTime(.01,se.currentTime+z/1e3),qe.start(se.currentTime),qe.stop(se.currentTime+z/1e3)}catch(se){console.warn("Could not play audio:",se)}},[f]);S.useEffect(()=>(m.isRunning?P.current=setInterval(()=>{b(R=>{if(R.isResting){const z=R.timeRemaining-1;return z<=0?(D(1e3,300),{...R,isResting:!1,isRunning:!1,timeRemaining:0,setStartTime:Date.now()}):(z===10&&D(600,100),z===5&&D(600,100),z===3&&D(800,100),z===2&&D(800,100),z===1&&D(800,100),{...R,timeRemaining:z})}else{const z=Math.floor((Date.now()-R.setStartTime)/1e3);return{...R,setTime:z}}})},1e3):P.current&&(clearInterval(P.current),P.current=null),()=>{P.current&&(clearInterval(P.current),P.current=null)}),[m.isRunning,m.isResting,D]);const W=()=>{b(R=>({...R,isRunning:!0,isResting:!1,setStartTime:Date.now(),setTime:0}))},J=()=>{const R=[...v];if(R[m.currentSet-1]=!0,k(R),u&&j&&i){const z={...j,weight:_,reps:O||void 0,rpe:B||void 0,duration:m.setTime,restDuration:m.isResting?m.restTime-m.timeRemaining:void 0,completed:!0,timestamp:new Date().toISOString()};let se=Re.SET_COMPLETION;if(O&&j.targetReps){const[qe,Ge]=j.targetReps.split("-").map(ye=>parseInt(ye));O>=qe&&(!Ge||O<=Ge)&&(se+=2),Ge&&O>Ge&&(se+=5)}m.isResting&&Math.abs(m.timeRemaining)<=10&&(se+=Re.PERFECT_REST_TIMING),B&&B>=7&&B<=8&&(se+=3),_>(t.currentWeight||0)&&(se+=Re.PERSONAL_BEST,Q(!0),setTimeout(()=>Q(!1),3e3)),Ve(se),i(z),I(null),U(null)}m.currentSet<m.totalSets?(b(z=>({...z,currentSet:z.currentSet+1,isResting:!0,isRunning:!0,timeRemaining:z.restTime})),D(600,500)):(b(z=>({...z,isRunning:!1})),D(1200,800),n(r,_))},et=()=>{m.currentSet<m.totalSets&&b(R=>({...R,currentSet:R.currentSet+1,isResting:!1,isRunning:!1,timeRemaining:0,setTime:0}))},Ae=()=>{if(m.currentSet>1){b(z=>({...z,currentSet:z.currentSet-1,isResting:!1,isRunning:!1,timeRemaining:0,setTime:0}));const R=[...v];R[m.currentSet-2]=!1,k(R)}},At=()=>{b(R=>({...R,isResting:!1,isRunning:!1,timeRemaining:0,setTime:0}))},L=R=>{const z=Math.max(0,_+R);if(g(z),s(r,z),u&&j&&a){const se={...j,weight:z};C(se),a(se)}},H=R=>{const z=Math.floor(R/60),se=R%60;return`${z}:${se.toString().padStart(2,"0")}`},re=()=>m.isResting&&m.restTime>0?(m.restTime-m.timeRemaining)/m.restTime*100:v.filter(Boolean).length/m.totalSets*100;return(()=>o.jsxs("div",{className:`bg-white rounded-xl shadow-2xl ${c?"w-80":"w-full max-w-md mx-auto"} overflow-hidden`,children:[o.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(lo,{className:"w-5 h-5"}),o.jsx("span",{className:"font-bold text-sm",children:"Workout Timer"})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("button",{onClick:()=>x(!f),className:"p-1 hover:bg-white hover:bg-opacity-20 rounded transition-colors",title:f?"Mute sounds":"Enable sounds",children:f?o.jsx(Cg,{className:"w-4 h-4"}):o.jsx(Tg,{className:"w-4 h-4"})}),c&&o.jsx("button",{onClick:()=>E(!w),className:"p-1 hover:bg-white hover:bg-opacity-20 rounded transition-colors",title:w?"Maximize":"Minimize",children:w?o.jsx(wg,{className:"w-4 h-4"}):o.jsx(bg,{className:"w-4 h-4"})}),o.jsx("button",{onClick:l,className:"p-1 hover:bg-white hover:bg-opacity-20 rounded transition-colors",title:"Close timer",children:o.jsx(Cs,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("h3",{className:"font-bold text-lg leading-tight",children:t.name}),o.jsx("p",{className:"text-sm opacity-90",children:e})]})]}),!w&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"p-4 bg-gray-50 border-b",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Set ",m.currentSet," of ",m.totalSets]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:t.sets}),u&&j&&o.jsxs("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded-full flex items-center gap-1",children:[o.jsx($t,{className:"w-3 h-3"}),j.targetReps," reps"]}),u&&o.jsxs("span",{className:"text-xs bg-purple-100 text-purple-800 px-2 py-1 rounded-full flex items-center gap-1",children:[o.jsx(Bt,{className:"w-3 h-3"}),"+",Re.SET_COMPLETION,"+ XP"]})]})]}),o.jsx("div",{className:"flex gap-1 mb-3",children:Array.from({length:m.totalSets},(R,z)=>o.jsx("div",{className:`flex-1 h-2 rounded-full transition-colors ${v[z]?"bg-green-500":z===m.currentSet-1?m.isRunning?"bg-blue-500 animate-pulse":"bg-blue-300":"bg-gray-200"}`},z))}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${m.isResting?"bg-orange-500":"bg-blue-500"}`,style:{width:`${re()}%`}})}),u&&o.jsxs("div",{className:"flex items-center justify-between mt-2",children:[ae>0&&o.jsxs("div",{className:"flex items-center gap-1 text-xs text-yellow-600",children:[o.jsx(Bt,{className:"w-3 h-3"}),"+",ae," XP"]}),F&&o.jsxs("div",{className:"flex items-center gap-1 text-xs text-purple-600 animate-bounce",children:[o.jsx(lf,{className:"w-3 h-3"}),"Personal Best!"]})]})]}),o.jsx("div",{className:"p-6 text-center",children:m.isResting?o.jsxs("div",{children:[o.jsx("div",{className:"text-3xl font-mono font-bold text-orange-600 mb-2",children:H(m.timeRemaining)}),o.jsx("p",{className:"text-sm text-orange-700 mb-4",children:"Rest Time Remaining"}),o.jsxs("div",{className:"text-xs text-gray-600",children:["Next: Set ",m.currentSet+1," of ",m.totalSets]})]}):o.jsxs("div",{children:[o.jsx("div",{className:"text-3xl font-mono font-bold text-blue-600 mb-2",children:H(m.setTime)}),o.jsx("p",{className:"text-sm text-blue-700 mb-4",children:m.isRunning?"Set in Progress":"Ready to Start Set"}),o.jsxs("div",{className:"text-xs text-gray-600",children:["Rest: ",t.rest," after this set"]})]})}),o.jsx("div",{className:"px-4 py-3 bg-gray-50 border-y",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Weight:"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>L(-2.5),className:"w-8 h-8 bg-red-500 text-white rounded-lg flex items-center justify-center hover:bg-red-600 transition-colors",children:o.jsx(co,{className:"w-4 h-4"})}),o.jsxs("span",{className:"w-16 text-center font-mono text-sm bg-white py-2 px-1 rounded-lg border",children:[_,"kg"]}),o.jsx("button",{onClick:()=>L(2.5),className:"w-8 h-8 bg-green-500 text-white rounded-lg flex items-center justify-center hover:bg-green-600 transition-colors",children:o.jsx(uo,{className:"w-4 h-4"})})]})]})}),o.jsx("div",{className:"px-4 py-3 bg-yellow-50 border-b",children:o.jsxs("p",{className:"text-xs text-yellow-800 leading-relaxed",children:[o.jsx("strong",{children:"Technique:"})," ",t.notes]})}),u&&o.jsxs("div",{className:"px-4 py-3 bg-blue-50 border-b",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Actual Reps"}),o.jsx("input",{type:"number",value:O||"",onChange:R=>I(R.target.value?parseInt(R.target.value):null),placeholder:(j==null?void 0:j.targetReps)||"Target reps",className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:m.isResting})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"RPE (1-10)"}),o.jsxs("select",{value:B||"",onChange:R=>U(R.target.value?parseInt(R.target.value):null),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:m.isResting,children:[o.jsx("option",{value:"",children:"-"}),Array.from({length:10},(R,z)=>z+1).map(R=>o.jsx("option",{value:R,children:R},R))]})]})]}),o.jsxs("div",{className:"mt-3 p-2 bg-yellow-100 rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-2 text-yellow-800 text-xs font-medium mb-1",children:[o.jsx(Bt,{className:"w-3 h-3"}),"XP Opportunities"]}),o.jsxs("div",{className:"text-xs text-yellow-700 space-y-1",children:[o.jsxs("div",{children:["• Set completion: +",Re.SET_COMPLETION," XP"]}),o.jsxs("div",{children:["• Perfect rest timing: +",Re.PERFECT_REST_TIMING," XP"]}),o.jsxs("div",{children:["• Personal best: +",Re.PERSONAL_BEST," XP"]}),m.currentSet===m.totalSets&&o.jsxs("div",{children:["• Exercise completion: +",Re.EXERCISE_COMPLETION," XP"]})]})]})]}),o.jsxs("div",{className:"p-4",children:[o.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[o.jsx("button",{onClick:Ae,disabled:m.currentSet===1,className:"p-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Previous set",children:o.jsx(kg,{className:"w-4 h-4"})}),m.isResting?o.jsx("button",{onClick:()=>b(R=>({...R,isRunning:!R.isRunning})),className:`p-3 rounded-lg text-white transition-colors ${m.isRunning?"bg-orange-500 hover:bg-orange-600":"bg-green-500 hover:bg-green-600"}`,title:m.isRunning?"Pause rest":"Resume rest",children:m.isRunning?o.jsx(Za,{className:"w-5 h-5"}):o.jsx(Dr,{className:"w-5 h-5"})}):o.jsx(o.Fragment,{children:m.isRunning?o.jsx("button",{onClick:()=>b(R=>({...R,isRunning:!1})),className:"p-3 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",title:"Pause set",children:o.jsx(Za,{className:"w-5 h-5"})}):o.jsx("button",{onClick:W,className:"p-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",title:"Start set",children:o.jsx(Dr,{className:"w-5 h-5"})})}),o.jsx("button",{onClick:At,className:"p-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",title:"Reset current set",children:o.jsx(uf,{className:"w-4 h-4"})}),o.jsx("button",{onClick:et,disabled:m.currentSet===m.totalSets,className:"p-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Next set",children:o.jsx(jg,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"flex gap-2",children:[!m.isResting&&o.jsxs("button",{onClick:J,disabled:!m.isRunning&&m.setTime===0,className:"flex-1 flex items-center justify-center gap-2 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:[o.jsx(ct,{className:"w-4 h-4"}),"Complete Set",u&&o.jsxs("span",{className:"text-xs",children:["+",Re.SET_COMPLETION,"+ XP"]})]}),m.currentSet===m.totalSets&&v.every(Boolean)&&o.jsxs("button",{onClick:()=>n(r,_),className:"flex-1 flex items-center justify-center gap-2 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors font-medium",children:[o.jsx(ct,{className:"w-4 h-4"}),"Finish Exercise",u&&o.jsxs("span",{className:"text-xs",children:["+",Re.EXERCISE_COMPLETION," XP"]})]})]})]})]})]}))()};class fv{constructor(){On(this,"popupWindow",null);On(this,"popupRoot",null);On(this,"currentProps",null)}openPopup(e){this.closePopup();const r=400,n=700,s=Math.max(0,(window.screen.width-r)/2),i=Math.max(0,(window.screen.height-n)/2);if(this.popupWindow=window.open("","workout-timer",`width=${r},height=${n},left=${s},top=${i},resizable=yes,scrollbars=no,status=no,menubar=no,toolbar=no,location=no`),!this.popupWindow){this.showModalFallback(e);return}this.setupPopupWindow(e),this.currentProps=e,this.popupWindow.addEventListener("beforeunload",()=>{this.cleanup(),e.onClose()});const a=setInterval(()=>{this.popupWindow&&!this.popupWindow.closed?this.popupWindow.focus():clearInterval(a)},5e3)}setupPopupWindow(e){this.popupWindow&&(this.popupWindow.document.write(`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Workout Timer - ${e.exercise.name}</title>
          <meta charset="utf-8">
          <meta name="viewport" content="width=device-width, initial-scale=1">
          <style>
            * {
              margin: 0;
              padding: 0;
              box-sizing: border-box;
            }
            body {
              font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
              background: #f8fafc;
              overflow: hidden;
            }
            #timer-root {
              height: 100vh;
              display: flex;
              align-items: flex-start;
              justify-content: center;
              padding: 0;
            }
          </style>
          <script src="https://cdn.tailwindcss.com"><\/script>
        </head>
        <body>
          <div id="timer-root"></div>
        </body>
      </html>
    `),this.popupWindow.document.close(),setTimeout(()=>{const r=this.popupWindow.document.getElementById("timer-root");r&&(this.popupRoot=Ja(r),this.renderTimer(e))},100))}renderTimer(e){this.popupRoot&&this.popupRoot.render(na.createElement(qu,{...e,isPopup:!0,onClose:()=>{this.closePopup(),e.onClose()},onComplete:(r,n)=>{e.onComplete(r,n)},onWeightChange:(r,n)=>{e.onWeightChange(r,n)}}))}showModalFallback(e){const r=document.createElement("div");r.style.cssText=`
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.8);
      z-index: 9999;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 20px;
    `;const n=document.createElement("div");n.id="timer-modal-root",r.appendChild(n),document.body.appendChild(r);const s=Ja(n);s.render(na.createElement(qu,{...e,isPopup:!0,onClose:()=>{s.unmount(),document.body.removeChild(r),e.onClose()}})),this.popupRoot={unmount:()=>{s.unmount(),document.body.contains(r)&&document.body.removeChild(r)}}}closePopup(){this.popupWindow&&!this.popupWindow.closed&&this.popupWindow.close(),this.cleanup()}cleanup(){if(this.popupRoot){try{this.popupRoot.unmount()}catch(e){console.warn("Error unmounting popup root:",e)}this.popupRoot=null}this.popupWindow=null,this.currentProps=null}get isOpen(){return this.popupWindow!==null&&!this.popupWindow.closed}updateProps(e){this.currentProps&&this.popupRoot&&(this.currentProps={...this.currentProps,...e},this.renderTimer(this.currentProps))}}const si=new fv,mv=()=>{const[t,e]=S.useState(!1);return S.useEffect(()=>{e(si.isOpen);const r=setInterval(()=>{e(si.isOpen)},1e3);return()=>clearInterval(r)},[]),{openPopup:r=>{const n={...r,onClose:()=>{e(!1),r.onClose()}};si.openPopup(n),e(!0)},closePopup:()=>{si.closePopup(),e(!1)},isOpen:t}},pv=()=>{var m,b,_,g,f,x;const[t,e]=S.useState({userProgress:null,gamificationData:null,achievements:[],loading:!0,error:null}),[r,n]=S.useState({xpGained:{amount:0,source:"",show:!1},levelUp:{newLevel:0,oldLevel:0,show:!1},achievementUnlocked:{achievement:null,show:!1}});S.useEffect(()=>{s()},[]);const s=async()=>{try{e(k=>({...k,loading:!0,error:null})),await G.ensureUserMigration();const[w,E,v]=await Promise.all([G.getUserProgress(),G.getUserGameification(),G.getAvailableAchievements()]);e({userProgress:w,gamificationData:E,achievements:v,loading:!1,error:null})}catch(w){console.error("Error loading gamification data:",w),e(E=>({...E,loading:!1,error:w instanceof Error?w.message:"Failed to load gamification data"}))}},i=S.useCallback(async()=>{try{const[w,E]=await Promise.all([G.getUserProgress(),G.getUserGameification()]);e(v=>({...v,userProgress:w,gamificationData:E}))}catch(w){console.error("Error refreshing gamification data:",w)}},[]),a=S.useCallback(async(w,E)=>{if(!(!t.userProgress||w<=0))try{const v=t.userProgress.current_level,k=await G.addXP(w,E),j=k.current_level;e(C=>({...C,userProgress:k})),n(C=>({...C,xpGained:{amount:w,source:E,show:!0}})),j>v&&setTimeout(()=>{n(C=>({...C,levelUp:{newLevel:j,oldLevel:v,show:!0}}))},1e3),await i()}catch(v){console.error("Error awarding XP:",v)}},[t.userProgress,i]),l=S.useCallback(async(w,E)=>{try{const v=await G.checkAchievements(w,E);if(v.length>0){await i();for(let k=0;k<v.length;k++){const j=v[k],C=t.achievements.find(O=>O.id===j);C&&setTimeout(()=>{n(O=>({...O,achievementUnlocked:{achievement:C,show:!0}}))},(k+1)*2e3)}}return v}catch(v){return console.error("Error checking achievements:",v),[]}},[t.achievements,i]),c=S.useCallback(async(w,E,v,k)=>{try{await G.logWorkoutCompletion(w,E,v,k);const j=w/E,C=v/k,O=Math.floor(j*50),I=Math.floor(C*30),B=O+I;if(await i(),B>0&&n(U=>({...U,xpGained:{amount:B,source:"workout_completion",show:!0}})),t.gamificationData){const U=await G.getUserGameification();U&&await Promise.all([l("workouts",U.total_workouts),l("streak",U.current_streak),l("nutrition",U.total_nutrition_goals)])}}catch(j){console.error("Error logging workout completion:",j)}},[t.gamificationData,i,l]),u=S.useCallback(()=>{n(w=>({...w,xpGained:{...w.xpGained,show:!1}}))},[]),d=S.useCallback(()=>{n(w=>({...w,levelUp:{...w.levelUp,show:!1}}))},[]),h=S.useCallback(()=>{n(w=>({...w,achievementUnlocked:{...w.achievementUnlocked,show:!1}}))},[]),p=S.useCallback(()=>t.userProgress?G.getCurrentLevelProgress(t.userProgress.total_xp):{currentLevelXP:0,nextLevelXP:100,progress:0},[t.userProgress]),y=S.useCallback(w=>{const E=t.achievements.find(k=>k.id===w);if(!E||!t.gamificationData||!t.userProgress)return 0;let v=0;switch(E.unlock_criteria.type){case"workouts":v=t.gamificationData.total_workouts;break;case"streak":v=t.gamificationData.current_streak;break;case"program_completion":v=t.userProgress.programs_completed.length;break;case"nutrition":v=t.gamificationData.total_nutrition_goals;break;case"consistency":v=t.gamificationData.weekly_stats.consistency_percentage;break}return Math.min(100,v/E.unlock_criteria.target*100)},[t.achievements,t.gamificationData,t.userProgress]);return{...t,events:r,awardXP:a,checkAchievements:l,logWorkoutCompletion:c,refreshData:i,loadGamificationData:s,closeXPNotification:u,closeLevelUpNotification:d,closeAchievementNotification:h,getLevelProgress:p,getAchievementProgress:y,isUnlocked:w=>{var E;return((E=t.userProgress)==null?void 0:E.achievements_unlocked.includes(w))||!1},currentLevel:((m=t.userProgress)==null?void 0:m.current_level)||1,totalXP:((b=t.userProgress)==null?void 0:b.total_xp)||0,currentStreak:((_=t.gamificationData)==null?void 0:_.current_streak)||0,longestStreak:((g=t.gamificationData)==null?void 0:g.longest_streak)||0,totalWorkouts:((f=t.gamificationData)==null?void 0:f.total_workouts)||0,weeklyStats:((x=t.gamificationData)==null?void 0:x.weekly_stats)||{workouts_completed:0,nutrition_goals_hit:0,consistency_percentage:0,xp_earned:0}}},gv=()=>{const[t,e]=S.useState({}),[r,n]=S.useState(dn),[s,i]=S.useState(!1),[a,l]=S.useState(!0),[c,u]=S.useState(!1);S.useEffect(()=>{d()},[]);const d=async()=>{var k;try{l(!0);const j=await G.getEnhancedPreferences();j&&(e(j.exercise_set_data||{}),n(j.set_tracking_preferences||dn),i(((k=j.set_tracking_preferences)==null?void 0:k.guidedWorkoutMode)||!1))}catch(j){console.error("Error loading enhanced workout data:",j)}finally{l(!1)}},h=S.useCallback(async(k,j,C,O)=>{try{const I=await G.initializeExerciseSetTracking(k,j,C,O);return e(B=>({...B,[I.exerciseId]:I})),I}catch(I){throw console.error("Error initializing exercise:",I),I}},[]),p=S.useCallback(async(k,j)=>{try{u(!0),e(O=>{const I=O[k];if(!I)return O;const B=I.sets.map(U=>U.id===j.id?{...U,...j}:U);return{...O,[k]:{...I,sets:B}}});const C=t[k];C&&await G.saveExerciseSetTracking(C)}catch(C){throw console.error("Error updating set data:",C),C}finally{u(!1)}},[t]),y=S.useCallback(async(k,j)=>{try{u(!0);let C=Re.SET_COMPLETION;if(j.reps&&j.targetReps){const[I,B]=j.targetReps.split("-").map(U=>parseInt(U));j.reps>=I&&(!B||j.reps<=B)&&(C+=2),B&&j.reps>B&&(C+=5)}j.rpe&&j.rpe>=7&&j.rpe<=8&&(C+=3),e(I=>{const B=I[k];if(!B)return I;const U=B.sets.map(F=>F.id===j.id?{...j,completed:!0,timestamp:new Date().toISOString()}:F),ae=U.filter(F=>F.completed).length,Ve=Math.min(B.currentSet+1,B.totalSets);return{...I,[k]:{...B,sets:U,currentSet:Ve,completed:ae===B.totalSets}}});const O=t[k];return O&&await G.saveExerciseSetTracking(O),C}catch(C){throw console.error("Error completing set:",C),C}finally{u(!1)}},[t]),m=S.useCallback(async k=>{try{u(!0),e(C=>{const O=C[k];return O?{...C,[k]:{...O,completed:!0,completedAt:new Date().toISOString()}}:C});const j=t[k];j&&await G.saveExerciseSetTracking(j)}catch(j){throw console.error("Error completing exercise:",j),j}finally{u(!1)}},[t]),b=S.useCallback((k,j,C,O)=>{const I=`${k}-${Date.now()}`,B=j.map((ae,Ve)=>{const F=`${k}-${Ve}-week${C}`;return t[F]||{exerciseId:F,exerciseName:ae.name,totalSets:parseInt(ae.sets.split("x")[0].trim())||4,targetRestTime:v(ae.rest),sets:[],currentSet:1,completed:!1}});return{id:I,dayName:k,weekNumber:C,phase:O,programId:"foundation-builder",exercises:B,nutritionGoals:[],startedAt:new Date().toISOString(),xpEarned:0,status:"in_progress"}},[t]),_=S.useCallback(async k=>{try{u(!0),await G.saveWorkoutSession(k)}catch(j){throw console.error("Error saving workout session:",j),j}finally{u(!1)}},[]),g=S.useCallback(async k=>{try{return await G.getWorkoutSession(k)}catch(j){return console.error("Error getting workout session:",j),null}},[]),f=S.useCallback(async k=>{try{u(!0);const j={...r,...k};n(j),await G.saveSetTrackingPreferences(j)}catch(j){throw console.error("Error updating preferences:",j),j}finally{u(!1)}},[r]),x=S.useCallback(async()=>{try{const k=!s;i(k),await f({guidedWorkoutMode:k})}catch(k){throw console.error("Error toggling enhanced mode:",k),k}},[s,f]),w=S.useCallback(k=>{const j=t[k];if(!j)return null;const C=j.sets.filter(U=>U.completed);C.reduce((U,ae)=>U+ae.weight*(ae.reps||0),0);const O=C.length>0?C.reduce((U,ae)=>U+ae.weight,0)/C.length:0,I=C.length>0?C.filter(U=>U.reps).reduce((U,ae)=>U+(ae.reps||0),0)/C.filter(U=>U.reps).length:0,B=C.length>0?C.filter(U=>U.rpe).reduce((U,ae)=>U+(ae.rpe||0),0)/C.filter(U=>U.rpe).length:0;return{exerciseId:k,exerciseName:j.exerciseName,totalSets:j.totalSets,completedSets:C.length,averageWeight:O,averageReps:I,averageRPE:B,lastCompleted:j.completedAt,progressTrend:"maintaining"}},[t]),E=S.useCallback(k=>{const C=Object.values(t).flatMap(B=>B.sets.filter(U=>U.completed));if(C.length===0)return null;const O=C.reduce((B,U)=>B+U.weight*(U.reps||0),0),I=C.filter(B=>B.rpe).length>0?C.reduce((B,U)=>B+(U.rpe||0),0)/C.filter(B=>B.rpe).length:0;return{sessionId:k,totalVolume:O,averageIntensity:I,restEfficiency:85,formConsistency:90,timeEfficiency:88,strengthGains:2.5,recommendations:["Great session! Consider increasing weight by 2.5kg next time.","Your rest periods were consistent - keep it up!","Try to hit the target rep range more consistently."]}},[t]),v=k=>{if(k==="N/A")return 0;const j=k.match(/(\d+(?:\.\d+)?)\s*(min|sec)/i);if(!j)return 90;const C=parseFloat(j[1]);return j[2].toLowerCase()==="min"?C*60:C};return{exerciseSetData:t,setTrackingPreferences:r,isEnhancedMode:s,initializeExercise:h,updateSetData:p,completeSet:y,completeExercise:m,startWorkoutSession:b,saveWorkoutSession:_,getWorkoutSession:g,updatePreferences:f,toggleEnhancedMode:x,getExerciseProgress:w,getWorkoutAnalytics:E,loading:a,saving:c}},xv=({exercise:t,exerciseSetTracking:e,dayName:r,exerciseIndex:n,week:s,isExpanded:i,onToggleExpanded:a,onSetComplete:l,onSetUpdate:c,onExerciseComplete:u,onLaunchTimer:d,showAnalytics:h=!0})=>{const[p,y]=S.useState(0),[m,b]=S.useState({}),[_,g]=S.useState({}),[f,x]=S.useState({}),w=e.completed,E=e.sets.filter(F=>F.completed).length,v=e.totalSets,k=t.notes.includes("ARM FOCUS")||t.notes.includes("ARM BONUS");S.useEffect(()=>{const F=e.sets.find($=>!$.completed),Q=e.sets.filter($=>$.completed).pop(),P=(F==null?void 0:F.weight)||(Q==null?void 0:Q.weight)||0;y(P)},[e]);const C=(F=>{const Q=F.match(/x\s*(\d+(?:-\d+)?)/);return Q?Q[1]:"8-10"})(t.sets),O=(F,Q)=>{y(Q);const P=F-1;if(e.sets[P]){const $={...e.sets[P],weight:Q};c($)}},I=F=>{const Q=F-1,P=e.sets[Q];if(P){const $={...P,weight:p,reps:m[F]||void 0,rpe:_[F]||void 0,completed:!0,timestamp:new Date().toISOString(),notes:f[F]||void 0};l($);const D=[...e.sets];D[Q]=$,D.every(W=>W.completed)&&setTimeout(()=>u(),500)}},B=F=>{let Q=Re.SET_COMPLETION;const P=m[F];if(P){const[D,W]=C.split("-").map(J=>parseInt(J));P>=D&&(!W||P<=W)&&(Q+=2),W&&P>W&&(Q+=5)}const $=_[F];return $&&$>=7&&$<=8&&(Q+=3),Q},U=()=>Math.round(E/v*100),Ve=(()=>({video:"https://www.youtube.com/results?search_query="+t.name.replace(/\s+/g,"+"),guide:"https://www.google.com/search?q="+t.name.replace(/\s+/g,"+")}))();return o.jsxs("div",{className:`rounded-2xl transition-all duration-300 transform hover:scale-[1.02] ${w?"bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 shadow-lg":"bg-gradient-to-r from-gray-50 to-slate-50 border border-gray-200 hover:shadow-lg hover:from-blue-50 hover:to-indigo-50"} ${k?"ring-2 ring-orange-400 ring-opacity-50 bg-gradient-to-r from-orange-50 to-amber-50":""}`,children:[o.jsxs("div",{className:"p-4",children:[o.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[o.jsx("button",{onClick:()=>!i&&I(e.currentSet),className:"mt-1 flex-shrink-0 touch-manipulation group",disabled:i,children:w?o.jsx("div",{className:"p-1 bg-green-500 rounded-full shadow-lg",children:o.jsx(ct,{className:"w-6 h-6 text-white"})}):o.jsx("div",{className:"p-1 border-2 border-gray-300 rounded-full group-hover:border-blue-400 transition-colors",children:o.jsx(qn,{className:"w-6 h-6 text-gray-400 group-hover:text-blue-400"})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsx("div",{children:o.jsxs("h3",{className:`font-bold text-base leading-tight ${w?"text-green-800":"text-gray-800"}`,children:[t.name,k&&o.jsxs("span",{className:"ml-2 inline-flex items-center gap-1 text-xs bg-gradient-to-r from-orange-400 to-amber-500 text-white px-2 py-1 rounded-full font-bold shadow-sm",children:[o.jsx("span",{children:"💪"})," ARM"]})]})}),o.jsxs("div",{className:"flex items-center gap-2 ml-3",children:[o.jsx("span",{className:"font-mono bg-gradient-to-r from-blue-100 to-indigo-100 text-blue-800 px-3 py-1.5 rounded-xl text-sm font-bold shadow-sm",children:t.sets}),w&&o.jsxs("span",{className:"inline-flex items-center gap-1 text-xs bg-gradient-to-r from-green-400 to-emerald-500 text-white px-2 py-1 rounded-full font-bold shadow-sm",children:[o.jsx("span",{children:"✨"})," +",Re.EXERCISE_COMPLETION," XP"]})]})]}),o.jsxs("div",{className:"mb-3",children:[o.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[o.jsxs("span",{className:"font-semibold text-gray-700",children:["Sets: ",E,"/",v]}),o.jsxs("span",{className:`font-bold ${w?"text-green-600":"text-blue-600"}`,children:[U(),"%"]})]}),o.jsx("div",{className:"flex gap-1 mb-3",children:Array.from({length:v},(F,Q)=>{const P=Q+1,$=e.sets[Q],D=P===e.currentSet;return o.jsx("div",{className:`flex-1 h-3 rounded-full transition-all duration-300 ${$!=null&&$.completed?"bg-green-500 shadow-md":D?"bg-blue-400 animate-pulse shadow-md":"bg-gray-200"} relative overflow-hidden`,children:($==null?void 0:$.completed)&&o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent animate-pulse"})},P)})})]}),t.rest!=="N/A"&&o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-3 bg-blue-50 px-3 py-2 rounded-xl",children:[o.jsx("div",{className:"p-1 bg-blue-500 rounded-full",children:o.jsx(lo,{className:"w-3 h-3 text-white"})}),o.jsxs("span",{className:"font-semibold",children:["Rest: ",t.rest]})]}),o.jsx("p",{className:"text-sm text-gray-700 mb-4 leading-relaxed bg-gray-50 p-3 rounded-xl border border-gray-200",children:t.notes})]})]}),o.jsxs("div",{className:"flex items-center justify-between bg-white p-4 rounded-xl shadow-sm border border-gray-200 mb-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"text-sm font-bold text-gray-700",children:"Weight:"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>O(e.currentSet,p-2.5),className:"w-8 h-8 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-lg flex items-center justify-center hover:from-red-600 hover:to-red-700 transition-all duration-200 touch-manipulation active:scale-95 shadow-md hover:shadow-lg",children:o.jsx(co,{className:"w-4 h-4"})}),o.jsxs("span",{className:"w-16 text-center font-mono text-sm font-bold bg-gradient-to-r from-slate-100 to-gray-100 py-2 px-1 rounded-lg border border-gray-300 shadow-inner",children:[p,"kg"]}),o.jsx("button",{onClick:()=>O(e.currentSet,p+2.5),className:"w-8 h-8 bg-gradient-to-r from-green-500 to-green-600 text-white rounded-lg flex items-center justify-center hover:from-green-600 hover:to-green-700 transition-all duration-200 touch-manipulation active:scale-95 shadow-md hover:shadow-lg",children:o.jsx(uo,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:a,className:`flex items-center gap-2 px-3 py-2 ${i?"bg-gradient-to-r from-gray-500 to-gray-600":"bg-gradient-to-r from-blue-500 to-blue-600"} text-white text-sm rounded-xl hover:shadow-lg transition-all duration-200 touch-manipulation active:scale-95 font-medium`,title:i?"Collapse sets":"Expand sets",children:[i?o.jsx(vg,{className:"w-4 h-4"}):o.jsx(xg,{className:"w-4 h-4"}),"Sets"]}),o.jsxs("button",{onClick:d,className:"flex items-center gap-2 px-3 py-2 bg-gradient-to-r from-purple-500 to-purple-600 text-white text-sm rounded-xl hover:from-purple-600 hover:to-purple-700 transition-all duration-200 touch-manipulation active:scale-95 shadow-md hover:shadow-lg font-medium",title:"Open workout timer",children:[o.jsx(Wi,{className:"w-4 h-4"}),"Timer"]})]})]}),o.jsxs("div",{className:"flex gap-2 mb-4",children:[o.jsxs("a",{href:Ve.video,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-3 py-2 bg-gradient-to-r from-red-500 to-red-600 text-white text-sm rounded-xl hover:from-red-600 hover:to-red-700 transition-all duration-200 touch-manipulation active:scale-95 shadow-md hover:shadow-lg font-medium",children:[o.jsx(Dr,{className:"w-4 h-4"}),"Video"]}),o.jsxs("a",{href:Ve.guide,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-3 py-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white text-sm rounded-xl hover:from-blue-600 hover:to-blue-700 transition-all duration-200 touch-manipulation active:scale-95 shadow-md hover:shadow-lg font-medium",children:[o.jsx(Ya,{className:"w-4 h-4"}),"Guide"]}),h&&o.jsxs("button",{className:"flex items-center gap-2 px-3 py-2 bg-gradient-to-r from-green-500 to-green-600 text-white text-sm rounded-xl hover:from-green-600 hover:to-green-700 transition-all duration-200 touch-manipulation active:scale-95 shadow-md hover:shadow-lg font-medium",children:[o.jsx(cf,{className:"w-4 h-4"}),"Stats"]})]})]}),i&&o.jsx("div",{className:"px-4 pb-4",children:o.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl p-4 space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx($t,{className:"w-5 h-5 text-blue-600"}),o.jsx("h4",{className:"font-bold text-blue-800",children:"Set-by-Set Tracking"}),o.jsxs("span",{className:"text-xs bg-blue-200 text-blue-800 px-2 py-1 rounded-full",children:["Target: ",C," reps"]})]}),e.sets.map((F,Q)=>{const P=F.setNumber,$=P===e.currentSet,D=B(P);return o.jsxs("div",{className:`p-4 rounded-xl border-2 transition-all duration-300 ${F.completed?"bg-green-50 border-green-300 shadow-md":$?"bg-blue-50 border-blue-300 shadow-lg ring-2 ring-blue-200":"bg-white border-gray-200 hover:border-blue-200"}`,children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold text-sm ${F.completed?"bg-green-500 text-white":$?"bg-blue-500 text-white":"bg-gray-200 text-gray-600"}`,children:F.completed?"✓":P}),o.jsxs("div",{children:[o.jsxs("span",{className:"font-semibold text-gray-800",children:["Set ",P]}),$&&!F.completed&&o.jsx("span",{className:"ml-2 text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full font-medium",children:"Current"})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[F.completed&&o.jsxs("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded-full font-bold",children:["+",D," XP"]}),o.jsxs("span",{className:"font-mono text-sm bg-gray-100 px-2 py-1 rounded",children:[F.weight,"kg"]})]})]}),!F.completed&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mb-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Actual Reps"}),o.jsx("input",{type:"number",value:m[P]||"",onChange:W=>b(J=>({...J,[P]:W.target.value?parseInt(W.target.value):0})),placeholder:C,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"RPE (1-10)"}),o.jsxs("select",{value:_[P]||"",onChange:W=>g(J=>({...J,[P]:W.target.value?parseInt(W.target.value):0})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"Select RPE"}),Array.from({length:10},(W,J)=>J+1).map(W=>o.jsxs("option",{value:W,children:[W," - ",qx[W].split(" - ")[1]]},W))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Notes"}),o.jsx("input",{type:"text",value:f[P]||"",onChange:W=>x(J=>({...J,[P]:W.target.value})),placeholder:"Optional notes...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),F.completed&&o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[o.jsxs("div",{className:"bg-white p-2 rounded-lg",children:[o.jsx("div",{className:"text-xs text-gray-600",children:"Reps"}),o.jsx("div",{className:"font-bold",children:F.reps||"-"})]}),o.jsxs("div",{className:"bg-white p-2 rounded-lg",children:[o.jsx("div",{className:"text-xs text-gray-600",children:"RPE"}),o.jsx("div",{className:"font-bold",children:F.rpe||"-"})]}),o.jsxs("div",{className:"bg-white p-2 rounded-lg",children:[o.jsx("div",{className:"text-xs text-gray-600",children:"Duration"}),o.jsx("div",{className:"font-bold",children:F.duration?`${Math.floor(F.duration/60)}:${(F.duration%60).toString().padStart(2,"0")}`:"-"})]}),o.jsxs("div",{className:"bg-white p-2 rounded-lg",children:[o.jsx("div",{className:"text-xs text-gray-600",children:"Rest"}),o.jsx("div",{className:"font-bold",children:F.restDuration?`${Math.floor(F.restDuration/60)}:${(F.restDuration%60).toString().padStart(2,"0")}`:"-"})]})]}),!F.completed&&$&&o.jsx("div",{className:"flex gap-2 mt-4",children:o.jsxs("button",{onClick:()=>I(P),className:"flex-1 flex items-center justify-center gap-2 py-3 bg-gradient-to-r from-green-600 to-emerald-700 text-white rounded-xl hover:from-green-700 hover:to-emerald-800 transition-all duration-200 font-medium shadow-lg hover:shadow-xl",children:[o.jsx(ct,{className:"w-4 h-4"}),"Complete Set",o.jsxs("span",{className:"text-xs bg-white/20 px-2 py-1 rounded-full",children:["+",D," XP"]})]})})]},P)}),h&&o.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200 mt-4",children:[o.jsxs("h5",{className:"font-semibold text-gray-800 mb-3 flex items-center gap-2",children:[o.jsx(Sn,{className:"w-4 h-4"}),"Exercise Analytics"]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-blue-600",children:E}),o.jsx("div",{className:"text-xs text-gray-600",children:"Sets Complete"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-green-600",children:e.sets.reduce((F,Q)=>F+(Q.reps||0),0)}),o.jsx("div",{className:"text-xs text-gray-600",children:"Total Reps"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-purple-600",children:e.sets.reduce((F,Q)=>F+Q.weight*(Q.reps||0),0)}),o.jsx("div",{className:"text-xs text-gray-600",children:"Volume (kg)"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-orange-600",children:e.sets.filter(F=>F.rpe).length>0?Math.round(e.sets.reduce((F,Q)=>F+(Q.rpe||0),0)/e.sets.filter(F=>F.rpe).length):"-"}),o.jsx("div",{className:"text-xs text-gray-600",children:"Avg RPE"})]})]})]})]})})]})},vv=({dayName:t,exercises:e,week:r,phase:n,onWorkoutComplete:s,onWorkoutPause:i,onWorkoutResume:a,onWorkoutAbandon:l})=>{const[c,u]=S.useState({currentExercise:0,currentSet:1,isWorkoutActive:!1,isSetActive:!1,isResting:!1,restTimeRemaining:0,workoutStartTime:void 0,exerciseStartTime:void 0,setStartTime:void 0,mode:"guided"}),[d,h]=S.useState({isRunning:!1,isResting:!1,timeRemaining:0,setStartTime:0,currentSetDuration:0}),[p,y]=S.useState([]),[m,b]=S.useState({}),[_,g]=S.useState(null),[f,x]=S.useState(null),[w,E]=S.useState(""),[v,k]=S.useState(0),[j,C]=S.useState(0),[O,I]=S.useState(0),B=S.useRef(null);S.useRef(null),S.useEffect(()=>{(()=>{const H=e.map((ge,R)=>{var ye;const z=parseInt(ge.sets.split("x")[0].trim())||4,se=((ye=ge.sets.match(/x\s*(\d+(?:-\d+)?)/))==null?void 0:ye[1])||"8-10",qe=U(ge.rest),Ge=Array.from({length:z},($s,vo)=>({id:`${t}-${R}-${vo+1}-week${r}`,setNumber:vo+1,weight:0,targetReps:se,completed:!1}));return{exerciseId:`${t}-${R}-week${r}`,exerciseName:ge.name,totalSets:z,targetRestTime:qe,sets:Ge,currentSet:1,completed:!1}});y(H),I(H.reduce((ge,R)=>ge+R.totalSets,0));const re={};H.forEach((ge,R)=>{re[R]=0}),b(re)})()},[e,t,r]);const U=L=>{if(L==="N/A")return 0;const H=L.match(/(\d+(?:\.\d+)?)\s*(min|sec)/i);if(!H)return 90;const re=parseFloat(H[1]);return H[2].toLowerCase()==="min"?re*60:re};S.useEffect(()=>(d.isRunning?B.current=setInterval(()=>{h(L=>{if(L.isResting){const H=L.timeRemaining-1;return H<=0?(ae(1e3,300),{...L,isResting:!1,isRunning:!1,timeRemaining:0}):([10,5,3,2,1].includes(H)&&ae(600+H*40,100),{...L,timeRemaining:H})}else{const H=Math.floor((Date.now()-L.setStartTime)/1e3);return{...L,currentSetDuration:H}}})},1e3):B.current&&(clearInterval(B.current),B.current=null),()=>{B.current&&(clearInterval(B.current),B.current=null)}),[d.isRunning]);const ae=(L=800,H=200)=>{try{const re=new(window.AudioContext||window.webkitAudioContext),ge=re.createOscillator(),R=re.createGain();ge.connect(R),R.connect(re.destination),ge.frequency.value=L,ge.type="sine",R.gain.setValueAtTime(.3,re.currentTime),R.gain.exponentialRampToValueAtTime(.01,re.currentTime+H/1e3),ge.start(re.currentTime),ge.stop(re.currentTime+H/1e3)}catch(re){console.warn("Could not play audio:",re)}},Ve=()=>{u(L=>({...L,isWorkoutActive:!0,workoutStartTime:Date.now()}))},F=()=>{h(L=>({...L,isRunning:!0,isResting:!1,setStartTime:Date.now(),currentSetDuration:0})),u(L=>({...L,isSetActive:!0,setStartTime:Date.now()}))},Q=()=>{const L=p[c.currentExercise];if(!L)return;const H=L.sets[c.currentSet-1];if(!H)return;const re={...H,weight:m[c.currentExercise]||0,reps:_||void 0,rpe:f||void 0,duration:d.currentSetDuration,completed:!0,timestamp:new Date().toISOString(),notes:w||void 0};let ge=Re.SET_COMPLETION;if(_){const[R,z]=re.targetReps.split("-").map(se=>parseInt(se));_>=R&&(!z||_<=z)&&(ge+=2)}if(y(R=>{const z=[...R];return z[c.currentExercise]={...L,sets:L.sets.map((se,qe)=>qe===c.currentSet-1?re:se),currentSet:Math.min(c.currentSet+1,L.totalSets)},z}),k(R=>R+ge),C(R=>R+1),g(null),x(null),E(""),c.currentSet>=L.totalSets){if(ae(1200,800),y(R=>{const z=[...R];return z[c.currentExercise]={...z[c.currentExercise],completed:!0,completedAt:new Date().toISOString()},z}),k(R=>R+Re.EXERCISE_COMPLETION),c.currentExercise>=e.length-1){P();return}setTimeout(()=>{u(R=>({...R,currentExercise:R.currentExercise+1,currentSet:1,isSetActive:!1,exerciseStartTime:Date.now()}))},2e3)}else{const R=L.targetRestTime;R>0?(h(z=>({...z,isResting:!0,isRunning:!0,timeRemaining:R})),u(z=>({...z,currentSet:z.currentSet+1,isResting:!0,restTimeRemaining:R,isSetActive:!1})),ae(600,500)):u(z=>({...z,currentSet:z.currentSet+1,isSetActive:!1}))}},P=()=>{const L=new Date().toISOString(),H=c.workoutStartTime?Math.floor((Date.now()-c.workoutStartTime)/1e3):0,re={id:`${t}-${Date.now()}`,dayName:t,weekNumber:r,phase:n,programId:"foundation-builder",exercises:p,nutritionGoals:[],startedAt:c.workoutStartTime?new Date(c.workoutStartTime).toISOString():new Date().toISOString(),completedAt:L,totalDuration:H,xpEarned:v+Re.SESSION_COMPLETION,status:"completed"};s(re)},$=(L,H)=>{u(re=>({...re,currentExercise:L,currentSet:H,isSetActive:!1,isResting:!1})),h(re=>({...re,isRunning:!1,isResting:!1,timeRemaining:0}))},D=L=>{const H=Math.floor(L/60),re=L%60;return`${H}:${re.toString().padStart(2,"0")}`},W=p[c.currentExercise],J=W==null?void 0:W.sets[c.currentSet-1],et=e[c.currentExercise],Ae=Math.round(j/O*100),At=W?Math.round((c.currentSet-1)/W.totalSets*100):0;return c.isWorkoutActive?o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:[o.jsxs("div",{className:"bg-gradient-to-r from-blue-900 to-purple-900 text-white p-4 sticky top-0 z-10",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx($t,{className:"w-6 h-6"}),o.jsxs("div",{children:[o.jsx("h1",{className:"font-bold text-lg",children:"Guided Workout"}),o.jsxs("p",{className:"text-sm text-blue-200",children:[t," - Week ",r]})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"text-2xl font-bold",children:[Ae,"%"]}),o.jsx("div",{className:"text-xs text-blue-200",children:"Complete"})]})]}),o.jsx("div",{className:"bg-white/20 rounded-full h-2 mb-4",children:o.jsx("div",{className:"bg-gradient-to-r from-green-400 to-blue-400 h-2 rounded-full transition-all duration-500",style:{width:`${Ae}%`}})}),o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsxs("span",{children:["Exercise ",c.currentExercise+1," of ",e.length]}),o.jsxs("span",{children:["Set ",c.currentSet," of ",(W==null?void 0:W.totalSets)||0]}),o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(Bt,{className:"w-4 h-4"}),v," XP"]})]})]}),o.jsxs("div",{className:"p-4 space-y-6",children:[et&&W&&o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-gray-800",children:et.name}),o.jsx("p",{className:"text-gray-600 text-sm",children:et.sets})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[At,"%"]}),o.jsx("div",{className:"text-xs text-gray-600",children:"Exercise Progress"})]})]}),o.jsx("div",{className:"flex gap-1 mb-4",children:W.sets.map((L,H)=>o.jsx("div",{className:`flex-1 h-3 rounded-full transition-all duration-300 ${L.completed?"bg-green-500":H===c.currentSet-1?"bg-blue-400 animate-pulse":"bg-gray-200"}`},H))}),o.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl p-4 mb-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("h3",{className:"font-bold text-blue-800",children:["Set ",c.currentSet]}),o.jsxs("span",{className:"text-sm bg-blue-200 text-blue-800 px-2 py-1 rounded-full",children:["Target: ",J==null?void 0:J.targetReps," reps"]})]}),o.jsx("div",{className:"text-center mb-4",children:d.isResting?o.jsxs("div",{children:[o.jsx("div",{className:"text-4xl font-mono font-bold text-orange-600 mb-2",children:D(d.timeRemaining)}),o.jsx("p",{className:"text-orange-700 font-semibold",children:"Rest Time Remaining"})]}):o.jsxs("div",{children:[o.jsx("div",{className:"text-4xl font-mono font-bold text-blue-600 mb-2",children:D(d.currentSetDuration)}),o.jsx("p",{className:"text-blue-700 font-semibold",children:c.isSetActive?"Set in Progress":"Ready to Start"})]})}),o.jsxs("div",{className:"flex items-center justify-center gap-4 mb-4",children:[o.jsx("button",{onClick:()=>b(L=>({...L,[c.currentExercise]:Math.max(0,(L[c.currentExercise]||0)-2.5)})),className:"w-10 h-10 bg-red-500 text-white rounded-lg flex items-center justify-center hover:bg-red-600 transition-colors",children:o.jsx(co,{className:"w-5 h-5"})}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-2xl font-bold",children:[m[c.currentExercise]||0,"kg"]}),o.jsx("div",{className:"text-xs text-gray-600",children:"Weight"})]}),o.jsx("button",{onClick:()=>b(L=>({...L,[c.currentExercise]:(L[c.currentExercise]||0)+2.5})),className:"w-10 h-10 bg-green-500 text-white rounded-lg flex items-center justify-center hover:bg-green-600 transition-colors",children:o.jsx(uo,{className:"w-5 h-5"})})]}),c.isSetActive&&!d.isResting&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Actual Reps"}),o.jsx("input",{type:"number",value:_||"",onChange:L=>g(L.target.value?parseInt(L.target.value):null),placeholder:(J==null?void 0:J.targetReps)||"",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"RPE (1-10)"}),o.jsxs("select",{value:f||"",onChange:L=>x(L.target.value?parseInt(L.target.value):null),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"Select RPE"}),Array.from({length:10},(L,H)=>H+1).map(L=>o.jsx("option",{value:L,children:L},L))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Notes"}),o.jsx("input",{type:"text",value:w,onChange:L=>E(L.target.value),placeholder:"Optional...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),o.jsxs("div",{className:"flex gap-3",children:[!c.isSetActive&&!d.isResting&&o.jsxs("button",{onClick:F,className:"flex-1 flex items-center justify-center gap-2 py-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-xl hover:from-blue-700 hover:to-blue-800 transition-all duration-200 font-medium",children:[o.jsx(Dr,{className:"w-5 h-5"}),"Start Set"]}),c.isSetActive&&!d.isResting&&o.jsxs("button",{onClick:Q,className:"flex-1 flex items-center justify-center gap-2 py-3 bg-gradient-to-r from-green-600 to-green-700 text-white rounded-xl hover:from-green-700 hover:to-green-800 transition-all duration-200 font-medium",children:[o.jsx(ct,{className:"w-5 h-5"}),"Complete Set",o.jsxs("span",{className:"text-xs bg-white/20 px-2 py-1 rounded-full",children:["+",Re.SET_COMPLETION,"+ XP"]})]}),d.isResting&&o.jsx("div",{className:"flex-1 text-center text-orange-700 font-semibold py-3",children:"Next set starts automatically..."})]})]}),o.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-3",children:o.jsxs("p",{className:"text-sm text-yellow-800",children:[o.jsx("strong",{children:"Technique:"})," ",et.notes]})})]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-4",children:[o.jsx("h3",{className:"font-bold text-gray-800 mb-4",children:"Workout Navigation"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:p.map((L,H)=>{var re;return o.jsxs("div",{className:`p-3 rounded-xl border transition-all ${H===c.currentExercise?"border-blue-300 bg-blue-50":L.completed?"border-green-300 bg-green-50":"border-gray-200 bg-gray-50"}`,children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"font-semibold text-sm truncate",children:(re=e[H])==null?void 0:re.name}),L.completed&&o.jsx(ct,{className:"w-4 h-4 text-green-600"})]}),o.jsx("div",{className:"flex gap-1",children:L.sets.map((ge,R)=>o.jsx("button",{onClick:()=>$(H,R+1),className:`w-6 h-6 text-xs rounded-full transition-all ${ge.completed?"bg-green-500 text-white":H===c.currentExercise&&R+1===c.currentSet?"bg-blue-500 text-white":"bg-gray-200 text-gray-600 hover:bg-gray-300"}`,children:R+1},R))})]},H)})})]}),o.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-4",children:o.jsxs("div",{className:"flex gap-3",children:[o.jsxs("button",{onClick:i,className:"flex-1 flex items-center justify-center gap-2 py-3 bg-yellow-500 text-white rounded-xl hover:bg-yellow-600 transition-colors font-medium",children:[o.jsx(Za,{className:"w-5 h-5"}),"Pause Workout"]}),o.jsxs("button",{onClick:l,className:"flex-1 flex items-center justify-center gap-2 py-3 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-colors font-medium",children:[o.jsx(Cs,{className:"w-5 h-5"}),"End Workout"]})]})})]})]}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:o.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-2xl p-8 text-center",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-2xl mx-auto mb-4 flex items-center justify-center",children:o.jsx($t,{className:"w-8 h-8 text-white"})}),o.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Guided Workout"}),o.jsxs("p",{className:"text-gray-600",children:[t," - Week ",r]}),o.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[n," Phase"]})]}),o.jsx("div",{className:"bg-gray-50 rounded-xl p-4 mb-6",children:o.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.length}),o.jsx("div",{className:"text-xs text-gray-600",children:"Exercises"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-2xl font-bold text-green-600",children:O}),o.jsx("div",{className:"text-xs text-gray-600",children:"Total Sets"})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:["~",Math.round(O*2.5)]}),o.jsx("div",{className:"text-xs text-gray-600",children:"Est. Minutes"})]})]})}),o.jsxs("div",{className:"space-y-3 mb-6",children:[o.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-700",children:[o.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),o.jsx("span",{children:"Set-by-set guidance and timing"})]}),o.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-700",children:[o.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),o.jsx("span",{children:"Automatic rest periods"})]}),o.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-700",children:[o.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),o.jsx("span",{children:"Enhanced XP rewards"})]})]}),o.jsxs("button",{onClick:Ve,className:"w-full flex items-center justify-center gap-3 py-4 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl hover:from-blue-700 hover:to-purple-700 transition-all duration-300 font-bold text-lg shadow-lg hover:shadow-xl transform hover:scale-105",children:[o.jsx(Dr,{className:"w-6 h-6"}),"Start Guided Workout"]})]})})},yv=({isEnhancedMode:t,onToggle:e,showGuidedOption:r=!0,onStartGuided:n,disabled:s=!1})=>o.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4 border border-gray-200",children:[o.jsxs("div",{className:"flex flex-col gap-3 mb-4",children:[o.jsx("h3",{className:"text-base font-semibold text-gray-800",children:"Workout Mode"}),o.jsxs("button",{onClick:e,disabled:s,className:`flex items-center justify-center gap-2 px-4 py-2.5 rounded-lg transition-all duration-300 touch-manipulation text-sm ${t?"bg-gradient-to-r from-blue-500 to-purple-600 text-white":"bg-gray-200 text-gray-600 hover:bg-gray-300"} ${s?"opacity-50 cursor-not-allowed":""}`,children:[t?o.jsx(Eg,{className:"w-4 h-4"}):o.jsx(Ng,{className:"w-4 h-4"}),o.jsx("span",{className:"font-medium",children:"Enhanced Tracking"})]})]}),o.jsxs("div",{className:"space-y-3 mb-4",children:[o.jsxs("div",{className:`p-3 rounded-lg border-2 transition-all ${t?"border-gray-200 bg-gray-50":"border-blue-300 bg-blue-50"}`,children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(ct,{className:`w-4 h-4 ${t?"text-gray-500":"text-blue-600"}`}),o.jsx("h4",{className:`text-sm font-semibold ${t?"text-gray-600":"text-blue-800"}`,children:"Standard Mode"})]}),o.jsxs("ul",{className:"text-xs space-y-1",children:[o.jsxs("li",{className:"flex items-center gap-1.5",children:[o.jsx("div",{className:"w-1 h-1 bg-gray-400 rounded-full flex-shrink-0"}),o.jsx("span",{children:"Exercise completion tracking"})]}),o.jsxs("li",{className:"flex items-center gap-1.5",children:[o.jsx("div",{className:"w-1 h-1 bg-gray-400 rounded-full flex-shrink-0"}),o.jsx("span",{children:"Weight progression"})]}),o.jsxs("li",{className:"flex items-center gap-1.5",children:[o.jsx("div",{className:"w-1 h-1 bg-gray-400 rounded-full flex-shrink-0"}),o.jsx("span",{children:"Basic timer functionality"})]}),o.jsxs("li",{className:"flex items-center gap-1.5",children:[o.jsx("div",{className:"w-1 h-1 bg-gray-400 rounded-full flex-shrink-0"}),o.jsx("span",{children:"Simple session saving"})]})]})]}),o.jsxs("div",{className:`p-3 rounded-lg border-2 transition-all ${t?"border-purple-300 bg-purple-50":"border-gray-200 bg-gray-50"}`,children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx($t,{className:`w-4 h-4 ${t?"text-purple-600":"text-gray-500"}`}),o.jsx("h4",{className:`text-sm font-semibold ${t?"text-purple-800":"text-gray-600"}`,children:"Enhanced Mode"})]}),o.jsxs("ul",{className:"text-sm space-y-1.5",children:[o.jsxs("li",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-1.5 h-1.5 bg-purple-500 rounded-full flex-shrink-0"}),o.jsx("span",{children:"Set-by-set tracking"})]}),o.jsxs("li",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-1.5 h-1.5 bg-purple-500 rounded-full flex-shrink-0"}),o.jsx("span",{children:"RPE and reps logging"})]}),o.jsxs("li",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-1.5 h-1.5 bg-purple-500 rounded-full flex-shrink-0"}),o.jsx("span",{children:"Advanced timer"})]}),o.jsxs("li",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-1.5 h-1.5 bg-purple-500 rounded-full flex-shrink-0"}),o.jsx("span",{children:"Detailed analytics"})]}),o.jsxs("li",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-1.5 h-1.5 bg-purple-500 rounded-full flex-shrink-0"}),o.jsx("span",{children:"Enhanced XP rewards"})]})]})]})]}),t&&o.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-indigo-50 rounded-lg p-3 mb-3",children:[o.jsxs("h5",{className:"text-sm font-semibold text-purple-800 mb-2 flex items-center gap-1.5",children:[o.jsx(Bt,{className:"w-3 h-3"}),"Enhanced Features Available"]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-purple-700",children:[o.jsx(Wi,{className:"w-3 h-3 flex-shrink-0"}),o.jsx("span",{children:"Set Timers"})]}),o.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-purple-700",children:[o.jsx($t,{className:"w-3 h-3 flex-shrink-0"}),o.jsx("span",{children:"Rep Tracking"})]}),o.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-purple-700",children:[o.jsx(cf,{className:"w-3 h-3 flex-shrink-0"}),o.jsx("span",{children:"Progress Analytics"})]}),o.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-purple-700",children:[o.jsx(Bt,{className:"w-3 h-3 flex-shrink-0"}),o.jsx("span",{children:"Bonus XP"})]})]})]}),r&&t&&n&&o.jsxs("div",{className:"border-t border-gray-200 pt-3",children:[o.jsxs("button",{onClick:n,className:"w-full flex items-center justify-center gap-2 py-3 bg-gradient-to-r from-green-600 to-emerald-700 text-white rounded-lg hover:from-green-700 hover:to-emerald-800 transition-all duration-300 font-semibold shadow-md hover:shadow-lg",children:[o.jsx(Dr,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm",children:"Start Guided Workout"}),o.jsx("span",{className:"text-xs bg-white/20 px-2 py-0.5 rounded-full",children:"+10 XP"})]}),o.jsx("p",{className:"text-xs text-gray-600 text-center mt-2",children:"Step-by-step workout with enhanced tracking"})]}),o.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mt-3",children:o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx("div",{className:"w-3 h-3 bg-yellow-400 rounded-full mt-0.5 flex-shrink-0"}),o.jsx("div",{children:o.jsxs("p",{className:"text-xs text-yellow-800",children:[o.jsx("strong",{children:"Pro Tip:"})," Enhanced mode provides detailed insights but requires more input. Switch anytime!"]})})]})})]}),wv=()=>{const[t,e]=S.useState(1),[r,n]=S.useState({}),[s,i]=S.useState({}),[a,l]=S.useState({}),[c,u]=S.useState([]),[d,h]=S.useState(!1),[p,y]=S.useState(!0),[m,b]=S.useState(!1),[_,g]=S.useState(!1),[f,x]=S.useState("foundation-builder"),[w,E]=S.useState(!1),[v,k]=S.useState(""),[j,C]=S.useState({}),O=mv(),I=pv(),B=ov(),U=gv();S.useEffect(()=>{ae()},[]),S.useEffect(()=>{p||(async()=>{try{await G.ensureUserMigration();const A=await G.getUserProgress();A!=null&&A.current_program_id?x(A.current_program_id):g(!0)}catch(A){console.error("Error checking program selection:",A)}})()},[p]);const ae=async()=>{try{const[N,A,q]=await Promise.all([G.getPreferences(),G.getSessions(),G.getUserProgress()]);N?(e(N.current_week),n(N.completed_exercises||{}),i(N.exercise_weights||{}),l(N.nutrition_goals||{}),N.current_program_id&&x(N.current_program_id)):(n({}),i({}),l({})),q!=null&&q.current_program_id&&x(q.current_program_id),u(A||[])}catch(N){console.error("Error loading data:",N)}finally{y(!1)}},Ve=async N=>{try{x(N),e(1);try{await G.switchProgram(N),await G.savePreferences({current_week:1,completed_exercises:{},exercise_weights:{},nutrition_goals:{},current_program_id:N})}catch(A){console.warn("Database unavailable, using local state only:",A)}g(!1)}catch(A){console.error("Error selecting program:",A),alert("Failed to switch program. Please try again.")}},F=()=>{g(!0)},Q=N=>N<=4?"foundation":N<=8?"growth":"intensity",P={foundation:{name:"Foundation Phase",description:"Building movement patterns and base strength",color:"bg-blue-600"},growth:{name:"Growth Phase",description:"Higher volume for maximum muscle growth",color:"bg-green-600"},intensity:{name:"Intensity Phase",description:"Advanced techniques and peak strength",color:"bg-red-600"}},$=[{name:"Meal 1: Protein (39g)",icon:"🥩",category:"protein"},{name:"Meal 2: Protein (39g)",icon:"🍗",category:"protein"},{name:"Meal 3: Protein (39g)",icon:"🥛",category:"protein"},{name:"Meal 4: Protein (39g)",icon:"🍳",category:"protein"},{name:"Water: 2-3 Liters",icon:"💧",category:"hydration"},{name:"Vegetables/Fruits",icon:"🥗",category:"micronutrients"},{name:"Healthy Fats",icon:"🥑",category:"fats"},{name:"Complex Carbs",icon:"🍠",category:"carbs"},{name:"Creatine",icon:"💊",category:"supplements"},{name:"Omega-3",icon:"🐟",category:"supplements"},{name:"Ashwagandha",icon:"🌿",category:"supplements"},{name:"Lion's Mane",icon:"🍄",category:"supplements"},{name:"B-Complex",icon:"💉",category:"supplements"}],D={"Monday - Push Day":{color:"bg-red-600",exercises:{foundation:[{name:"Incline Barbell Press",sets:"4 x 8-10",rest:"3 min",notes:"Upper chest priority - 30-45° angle",demo:"incline-barbell-press"},{name:"Overhead Press",sets:"4 x 8-10",rest:"2.5 min",notes:"Core tight, drive through legs",demo:"overhead-press"},{name:"Incline Dumbbell Press",sets:"3 x 10-12",rest:"2.5 min",notes:"Deep stretch, slow negative",demo:"incline-db-press"},{name:"Lateral Raises",sets:"4 x 12-15",rest:"90 sec",notes:"Control weight, slight lean forward",demo:"lateral-raises"},{name:"Weighted Dips",sets:"3 x 10-12",rest:"2 min",notes:"Lean forward for chest emphasis",demo:"weighted-dips"},{name:"Close-Grip Bench Press",sets:"3 x 10-12",rest:"2 min",notes:"Tricep mass builder",demo:"close-grip-bench"},{name:"Overhead Tricep Extension",sets:"3 x 12-15",rest:"90 sec",notes:"ARM FOCUS: Full stretch at bottom",demo:"overhead-tricep-ext"},{name:"Rear Delt Flyes",sets:"3 x 15-20",rest:"60 sec",notes:"Light weight, squeeze at top",demo:"rear-delt-flyes"}],growth:[{name:"Incline Barbell Press",sets:"5 x 6-8",rest:"3 min",notes:"Progressive overload focus",demo:"incline-barbell-press"},{name:"Dumbbell Shoulder Press",sets:"4 x 8-10",rest:"2.5 min",notes:"Full ROM, control at top",demo:"db-shoulder-press"},{name:"Decline Barbell Press",sets:"4 x 8-10",rest:"2.5 min",notes:"Lower chest development",demo:"decline-barbell-press"},{name:"Arnold Press",sets:"3 x 10-12",rest:"2 min",notes:"Rotation for all deltoid heads",demo:"arnold-press"},{name:"Superset: Lateral + Rear Raises",sets:"4 x 12+12",rest:"2 min",notes:"No rest between exercises",demo:"lateral-rear-superset"},{name:"Weighted Dips",sets:"4 x 8-12",rest:"2.5 min",notes:"Add weight belt/chain",demo:"weighted-dips-heavy"},{name:"Diamond Push-ups",sets:"3 x max",rest:"90 sec",notes:"ARM FOCUS: Tricep isolation, to failure",demo:"diamond-pushups"},{name:"Cable Tricep Pushdowns",sets:"3 x 12-15",rest:"90 sec",notes:"ARM FOCUS: Rope attachment, full extension",demo:"cable-tricep-pushdowns"},{name:"Cable Upright Rows",sets:"3 x 12-15",rest:"60 sec",notes:"Wide grip, pull to chest",demo:"cable-upright-rows"}],intensity:[{name:"Incline Barbell Press",sets:"6 x 4-6",rest:"4 min",notes:"Heavy singles, spotter needed",demo:"heavy-incline-press"},{name:"Push Press",sets:"5 x 3-5",rest:"3 min",notes:"Explosive leg drive",demo:"push-press"},{name:"Weighted Dip Clusters",sets:"4 x 3+3+3",rest:"15s between, 3min total",notes:"Heavy dips with mini-rests",demo:"dip-clusters"},{name:"Handstand Push-ups",sets:"4 x 5-8",rest:"3 min",notes:"Wall-assisted, full ROM",demo:"handstand-pushups"},{name:"Drop Set Lateral Raises",sets:"3 x 10+8+6",rest:"2.5 min",notes:"Heavy to light, no rest",demo:"drop-set-laterals"},{name:"Close-Grip Press to Skulls",sets:"4 x 6+8",rest:"2.5 min",notes:"ARM FOCUS: Mechanical drop set",demo:"cgbp-to-skulls"},{name:"21s Tricep Extensions",sets:"3 x 21",rest:"2 min",notes:"ARM FOCUS: 7 bottom + 7 top + 7 full",demo:"21s-tricep-ext"},{name:"Giant Set: Shoulders",sets:"3 rounds",rest:"3 min",notes:"Press + Lateral + Rear + Upright",demo:"shoulder-giant-set"}]}},"Wednesday - Pull Day + Arms":{color:"bg-blue-600",exercises:{foundation:[{name:"Wide-Grip Pull-ups",sets:"4 x 8-12",rest:"3 min",notes:"Full hang, chest to bar",demo:"wide-grip-pullups"},{name:"Barbell Rows",sets:"4 x 8-10",rest:"2.5 min",notes:"Pull to lower chest",demo:"barbell-rows"},{name:"Cable Rows (Wide Grip)",sets:"3 x 10-12",rest:"2.5 min",notes:"Upper back thickness",demo:"wide-cable-rows"},{name:"Lat Pulldown",sets:"3 x 10-12",rest:"2 min",notes:"Pull to upper chest",demo:"lat-pulldown"},{name:"Barbell Curls",sets:"4 x 10-12",rest:"2 min",notes:"ARM FOCUS: No swinging",demo:"barbell-curls"},{name:"Hammer Curls",sets:"4 x 10-12",rest:"90 sec",notes:"ARM FOCUS: Slow negatives",demo:"hammer-curls"},{name:"Cable Curls",sets:"3 x 12-15",rest:"90 sec",notes:"ARM FOCUS: Constant tension",demo:"cable-curls"},{name:"Preacher Curls",sets:"3 x 12-15",rest:"90 sec",notes:"ARM FOCUS: Bicep isolation",demo:"preacher-curls"}],growth:[{name:"Weighted Pull-ups",sets:"5 x 6-8",rest:"3 min",notes:"Add weight when possible",demo:"weighted-pullups"},{name:"T-Bar Rows",sets:"4 x 8-10",rest:"2.5 min",notes:"Chest supported, heavy",demo:"t-bar-rows"},{name:"Cable Rows (V-Handle)",sets:"4 x 8-10",rest:"2.5 min",notes:"Squeeze shoulder blades",demo:"v-handle-rows"},{name:"Reverse Flyes",sets:"3 x 12-15",rest:"90 sec",notes:"Rear delt focus",demo:"reverse-flyes"},{name:"Barbell Curls",sets:"5 x 8-10",rest:"2 min",notes:"ARM FOCUS: Progressive overload",demo:"barbell-curls-heavy"},{name:"Alternating Dumbbell Curls",sets:"4 x 10-12 each",rest:"2 min",notes:"ARM FOCUS: Peak contraction",demo:"alternating-db-curls"},{name:"Cable Hammer Curls",sets:"4 x 10-12",rest:"90 sec",notes:"ARM FOCUS: Rope attachment",demo:"cable-hammer-curls"},{name:"Concentration Curls",sets:"3 x 12-15 each",rest:"90 sec",notes:"ARM FOCUS: Isolation",demo:"concentration-curls"},{name:"Face Pulls",sets:"3 x 15-20",rest:"60 sec",notes:"High reps, rear delts",demo:"face-pulls"}],intensity:[{name:"Weighted Pull-up Clusters",sets:"5 x 3+3+3",rest:"15s between, 3min total",notes:"Heavy weight, mini-rests",demo:"pullup-clusters"},{name:"Chest-Supported Rows",sets:"5 x 5-7",rest:"3 min",notes:"Maximum weight possible",demo:"chest-supported-rows-heavy"},{name:"Single-Arm Dumbbell Rows",sets:"4 x 6-8 each",rest:"2.5 min",notes:"Heavy unilateral work",demo:"single-arm-db-rows"},{name:"Wide-Grip Cable Rows",sets:"4 x 8-10",rest:"2.5 min",notes:"Upper back width",demo:"wide-cable-rows-heavy"},{name:"21s Barbell Curls",sets:"4 x 21",rest:"2.5 min",notes:"ARM FOCUS: 7+7+7 protocol",demo:"21s-barbell-curls"},{name:"Drop Set Hammer Curls",sets:"3 x 8+6+4",rest:"2 min",notes:"ARM FOCUS: Heavy to light",demo:"drop-set-hammers"},{name:"Cable Curl 21s",sets:"3 x 21",rest:"2 min",notes:"ARM FOCUS: Cable version",demo:"cable-curl-21s"},{name:"Superset: Preacher + Hammer",sets:"3 x 10+10",rest:"2 min",notes:"ARM FOCUS: No rest between",demo:"preacher-hammer-superset"}]}},"Friday - Legs + Cardio + Bonus Arms":{color:"bg-green-600",exercises:{foundation:[{name:"Back Squat",sets:"4 x 8-10",rest:"3 min",notes:"Full depth, drive through heels",demo:"back-squat"},{name:"Romanian Deadlift",sets:"4 x 8-10",rest:"3 min",notes:"Hinge at hips, feel hamstrings",demo:"romanian-deadlift"},{name:"Leg Press",sets:"3 x 12-15",rest:"2.5 min",notes:"Full range of motion",demo:"leg-press"},{name:"Walking Lunges",sets:"3 x 12 each leg",rest:"2 min",notes:"Keep torso upright",demo:"walking-lunges"},{name:"Leg Curls",sets:"3 x 12-15",rest:"90 sec",notes:"Slow negatives",demo:"leg-curls"},{name:"Calf Raises",sets:"4 x 15-20",rest:"90 sec",notes:"Full stretch and squeeze",demo:"calf-raises"},{name:"BONUS: Cable Curls",sets:"3 x 12-15",rest:"60 sec",notes:"ARM BONUS: End workout pump",demo:"cable-curls-bonus"},{name:"BONUS: Tricep Pushdowns",sets:"3 x 12-15",rest:"60 sec",notes:"ARM BONUS: Tricep pump",demo:"tricep-pushdowns-bonus"}],growth:[{name:"Front Squats",sets:"4 x 8-10",rest:"3 min",notes:"Quad emphasis, upright torso",demo:"front-squats"},{name:"Romanian Deadlift",sets:"5 x 6-8",rest:"3 min",notes:"Progressive overload",demo:"romanian-deadlift-heavy"},{name:"Bulgarian Split Squats",sets:"3 x 10-12 each",rest:"2.5 min",notes:"Rear foot elevated",demo:"bulgarian-split-squats"},{name:"Hip Thrusts",sets:"4 x 12-15",rest:"2 min",notes:"Squeeze glutes hard",demo:"hip-thrusts"},{name:"Stiff-Leg Deadlifts",sets:"3 x 12-15",rest:"2 min",notes:"Hamstring isolation",demo:"stiff-leg-deadlifts"},{name:"Single-Leg Calf Raises",sets:"4 x 12-15 each",rest:"90 sec",notes:"Unilateral strength",demo:"single-leg-calves"},{name:"Zone 2 Cardio",sets:"15-20 min",rest:"N/A",notes:"Moderate intensity",demo:"zone2-cardio"},{name:"BONUS: 21s Curls",sets:"3 x 21",rest:"90 sec",notes:"ARM BONUS: Growth technique",demo:"21s-curls-bonus"},{name:"BONUS: Diamond Push-ups",sets:"3 x max",rest:"90 sec",notes:"ARM BONUS: Tricep burnout",demo:"diamond-pushups-bonus"}],intensity:[{name:"Back Squat",sets:"6 x 4-6",rest:"4 min",notes:"Heavy singles, safety bars",demo:"heavy-back-squats"},{name:"Deficit Deadlifts",sets:"5 x 3-5",rest:"3.5 min",notes:"Stand on platform",demo:"deficit-deadlifts"},{name:"Pause Squats",sets:"4 x 6-8",rest:"3 min",notes:"3-second pause at bottom",demo:"pause-squats"},{name:"Single-Leg Press",sets:"4 x 8-10 each",rest:"2.5 min",notes:"Unilateral leg strength",demo:"single-leg-press"},{name:"Jump Squats",sets:"4 x 6",rest:"2 min",notes:"Explosive power",demo:"jump-squats"},{name:"1.5 Rep Calf Raises",sets:"4 x 12",rest:"2 min",notes:"Bottom half + full rep",demo:"1-5-rep-calves"},{name:"HIIT Cardio",sets:"12 min",rest:"N/A",notes:"30s on / 30s off intervals",demo:"hiit-cardio"},{name:"BONUS: Drop Set Curls",sets:"3 x 10+8+6",rest:"2 min",notes:"ARM BONUS: Maximum pump",demo:"drop-set-curls-bonus"},{name:"BONUS: Close-Grip Push-ups",sets:"3 x max",rest:"90 sec",notes:"ARM BONUS: Tricep finisher",demo:"close-grip-pushups-bonus"}]}}},W=async(N,A,q)=>{const ee=`${N}-${A}-week${t}`,ie=s[ee]||Ae(N,A,t),we=Math.max(0,ie+q);i(V=>({...V,[ee]:we}));try{await G.savePreferences({current_week:t,completed_exercises:r,exercise_weights:{...s,[ee]:we},nutrition_goals:a,current_program_id:f})}catch(V){console.error("Failed to save exercise weight:",V)}},J=async(N,A)=>{const q=`${N}-${A}-week${t}`,ee=!r[q];n(ie=>({...ie,[q]:ee}));try{await G.savePreferences({current_week:t,completed_exercises:{...r,[q]:ee},exercise_weights:s,nutrition_goals:a,current_program_id:f}),ee&&await I.awardXP(10,"exercise_completion")}catch(ie){console.error("Failed to save exercise completion:",ie)}},et=async(N,A)=>{const q=`${N}-nutrition-${A}-week${t}`,ee=!a[q];l(ie=>({...ie,[q]:ee}));try{await G.savePreferences({current_week:t,completed_exercises:r,exercise_weights:s,nutrition_goals:{...a,[q]:ee},current_program_id:f}),ee&&await I.awardXP(5,"nutrition_goals")}catch(ie){console.error("Failed to save nutrition goal:",ie)}},Ae=(N,A,q)=>{const ee=`${N}-${A}-week${q}`;if(s[ee]&&s[ee]>0)return s[ee];for(const ie of c)if(ie.day_name===N&&ie.exercises&&ie.exercises[A]){const we=ie.exercises[A];if(we.weight&&we.weight>0)return we.weight}for(let ie=q-1;ie>=1;ie--){const we=`${N}-${A}-week${ie}`;if(s[we]&&s[we]>0)return s[we]}return 0},At=async()=>{const N={...r},A={...a};Object.keys(N).forEach(q=>{q.includes(`week${t}`)&&delete N[q]}),Object.keys(A).forEach(q=>{q.includes(`week${t}`)&&delete A[q]}),n(N),l(A)},L=async N=>{b(!0);try{const A=Q(t),ee=D[N].exercises[A].map((gt,wr)=>({name:gt.name,sets:gt.sets,weight:s[`${N}-${wr}-week${t}`]||0,completed:r[`${N}-${wr}-week${t}`]||!1})),ie=$.map((gt,wr)=>({name:gt.name,icon:gt.icon,category:gt.category,completed:a[`${N}-nutrition-${wr}-week${t}`]||!1})),we=ee.filter(gt=>gt.completed).length,V=ee.length,te=ie.filter(gt=>gt.completed).length,Me=ie.length,Wr={session_date:new Date().toISOString().split("T")[0],session_time:new Date().toTimeString().split(" ")[0],week:t,phase:A,day_name:N,program_id:f,exercises:ee,nutrition:ie,exercises_completed:we,total_exercises:V,nutrition_completed:te,total_nutrition:Me},As=Math.floor(we/V*50),Is=Math.floor(te/Me*30),Ls=As+Is,Br={...Wr,xp_earned:Ls};await G.saveSession(Br),await I.logWorkoutCompletion(we,V,te,Me);const wo=await G.getSessions();u(wo),alert(`✅ Session saved to cloud!
${N}
Exercises: ${we}/${V}
Nutrition: ${te}/${Me}
🎯 XP Earned: +${Ls} XP`)}catch(A){console.error("Error saving session:",A),alert("❌ Failed to save session. Please try again.")}finally{b(!1)}},H=()=>({video:"https://www.youtube.com/results?search_query=",guide:"https://www.google.com/search?q="}),re=async N=>{try{const A=await U.completeSet(N.id.split("-set")[0],N);await I.awardXP(A,"set_completion")}catch(A){console.error("Error completing set:",A)}},ge=async N=>{if(N.id)try{await U.updateSetData(N.id.split("-set")[0],N)}catch(A){console.error("Error updating set:",A)}},R=async N=>{try{await U.completeExercise(N),await I.awardXP(15,"exercise_completion")}catch(A){console.error("Error completing exercise:",A)}},z=(N,A)=>{const q=`${N}-${A}`;C(ee=>({...ee,[q]:!ee[q]}))},se=N=>{k(N),E(!0)},qe=async N=>{try{await U.saveWorkoutSession(N),await I.awardXP(N.xpEarned,"guided_workout_completion"),E(!1),alert(`🎉 Guided workout completed!
XP Earned: +${N.xpEarned}`)}catch(A){console.error("Error saving guided workout:",A),alert("❌ Failed to save guided workout session.")}},Ge=async(N,A,q)=>{const ee=s[`${N}-${A}-week${t}`]||Ae(N,A,t);let ie;if(U.isEnhancedMode)try{ie=await U.initializeExercise(N,A,q,t)}catch(V){console.error("Error initializing exercise tracking:",V)}const we={name:q.name,sets:q.sets,rest:q.rest,notes:q.notes,currentWeight:ee,completed:r[`${N}-${A}-week${t}`]||!1,exerciseSetTracking:ie};O.openPopup({exercise:we,dayName:N,exerciseIndex:A,onComplete:async(V,te)=>{J(N,V),te!==ee&&W(N,V,te-ee),await I.awardXP(15,"timer_completion")},onWeightChange:(V,te)=>{W(N,V,te-ee)},onClose:()=>{}})},ye=Q(t),$s=P[ye],yo=(()=>{const A=Object.values(D).map(ee=>ee.exercises[ye]).reduce((ee,ie)=>ee+ie.length,0);return{completed:Object.keys(r).filter(ee=>ee.includes(`week${t}`)&&r[ee]).length,total:A}})(),fc=Math.round(yo.completed/yo.total*100),If=N=>N.toLowerCase().includes("push")?"push":N.toLowerCase().includes("pull")?"pull":N.toLowerCase().includes("legs")?"legs":"push";if(p)return o.jsx(hv,{message:"Loading your training data...",type:"general",showProgress:!1});if(_)return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:[o.jsx("div",{className:"bg-white shadow-sm border-b sticky top-0 z-10",children:o.jsx("div",{className:"max-w-6xl mx-auto px-4 py-4",children:o.jsx(Kx,{})})}),o.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-6 space-y-6",children:[o.jsx(av,{}),o.jsx(lv,{})]}),o.jsx(Gx,{onProgramSelect:Ve,currentProgramId:f})]});if(w&&v){const N=D[v].exercises[ye];return o.jsx(vv,{dayName:v,exercises:N,week:t,phase:ye,onWorkoutComplete:qe,onWorkoutPause:()=>{console.log("Workout paused")},onWorkoutResume:()=>{console.log("Workout resumed")},onWorkoutAbandon:()=>{E(!1),k("")}})}return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:[o.jsx("div",{className:"bg-gradient-to-r from-slate-900 via-blue-900 to-indigo-900 shadow-xl sticky top-0 z-10 border-b border-slate-700/50",children:o.jsxs("div",{className:"p-3 sm:p-4",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3 mb-4",children:[o.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[o.jsx("button",{onClick:F,className:"p-1.5 sm:p-2 hover:bg-white/10 rounded-xl transition-all duration-200 group",title:"Back to Program Selection",children:o.jsx(pg,{className:"text-white/80 group-hover:text-white w-4 h-4 sm:w-5 sm:h-5 transition-colors"})}),o.jsx("div",{className:"p-1.5 sm:p-2 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-xl shadow-lg",children:o.jsx(ht,{className:"text-white w-5 h-5 sm:w-6 sm:h-6"})}),o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsx("h1",{className:"text-lg sm:text-xl font-bold text-white truncate",children:"3x/Week Aesthetic"}),o.jsx("p",{className:"text-xs sm:text-sm text-blue-200/80 truncate",children:"Build Your Best Physique"})]})]}),o.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-3",children:[O.isOpen&&o.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-1 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-full text-xs font-medium shadow-lg",children:[o.jsx(Wi,{className:"w-3 h-3 animate-pulse"}),o.jsx("span",{children:"Timer"})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-xs sm:text-sm text-blue-200/70 font-medium",children:"Progress"}),o.jsxs("div",{className:"text-xl sm:text-3xl font-bold bg-gradient-to-r from-green-400 to-blue-400 bg-clip-text text-transparent",children:[fc,"%"]}),I.currentStreak>0&&o.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-orange-300 mt-1 bg-orange-500/20 px-1.5 py-0.5 rounded-lg",children:[o.jsx("span",{className:"text-sm",children:"🔥"}),o.jsxs("span",{className:"font-semibold",children:[I.currentStreak," day streak"]})]})]})]})]}),o.jsx("div",{className:`${$s.color} text-white p-3 sm:p-4 rounded-xl sm:rounded-2xl mb-3 sm:mb-4 shadow-lg bg-gradient-to-r ${ye==="foundation"?"from-blue-600 to-blue-700":ye==="growth"?"from-green-600 to-emerald-700":"from-red-600 to-rose-700"}`,children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2 sm:gap-0",children:[o.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[o.jsx("div",{className:"p-1.5 sm:p-2 bg-white/20 rounded-lg sm:rounded-xl",children:o.jsxs("span",{className:"text-lg sm:text-2xl",children:[ye==="foundation"&&"🏗️",ye==="growth"&&"📈",ye==="intensity"&&"🔥"]})}),o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsx("h3",{className:"font-bold text-base sm:text-lg truncate",children:$s.name}),o.jsx("p",{className:"text-xs sm:text-sm opacity-90 font-medium truncate",children:$s.description})]})]}),o.jsx("div",{className:"text-left sm:text-right",children:o.jsxs("div",{className:"text-xs sm:text-sm opacity-90 font-semibold bg-white/20 px-2 sm:px-3 py-1 rounded-lg",children:["Weeks ",ye==="foundation"?"1-4":ye==="growth"?"5-8":"9-12"]})})]})}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2 sm:gap-0",children:[o.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[o.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 bg-white/10 px-2 sm:px-3 py-1.5 sm:py-2 rounded-lg sm:rounded-xl",children:[o.jsx(gg,{className:"text-blue-200 w-4 h-4 sm:w-5 sm:h-5"}),o.jsxs("span",{className:"text-xs sm:text-sm font-bold text-white",children:["Week ",t]})]}),o.jsx("select",{value:t,onChange:N=>e(Number(N.target.value)),className:"px-2 sm:px-3 py-1.5 sm:py-2 bg-white/20 border border-white/30 rounded-lg sm:rounded-xl text-xs sm:text-sm font-medium text-white min-w-[80px] sm:min-w-[90px] focus:bg-white/30 focus:outline-none transition-all backdrop-blur-sm",children:[1,2,3,4,5,6,7,8,9,10,11,12].map(N=>o.jsxs("option",{value:N,className:"bg-slate-800 text-white",children:["Week ",N]},N))}),I.currentStreak>0&&o.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-1.5 bg-gradient-to-r from-orange-500/30 to-red-500/30 text-orange-200 rounded-lg text-xs backdrop-blur-sm border border-orange-400/30",children:[o.jsx("span",{className:"text-base",children:"🔥"}),o.jsx("span",{className:"font-bold",children:I.currentStreak})]})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs("button",{onClick:()=>h(!0),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-xl hover:from-blue-600 hover:to-blue-700 transition-all duration-200 shadow-lg hover:shadow-xl text-sm font-medium group",children:[o.jsx(Go,{className:"w-4 h-4 group-hover:scale-110 transition-transform"}),"History"]}),o.jsxs("button",{onClick:At,className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-slate-600 to-slate-700 text-white rounded-xl hover:from-slate-700 hover:to-slate-800 transition-all duration-200 shadow-lg hover:shadow-xl text-sm font-medium group",children:[o.jsx(uf,{className:"w-4 h-4 group-hover:rotate-180 transition-transform duration-300"}),"Reset"]})]})]}),o.jsx("div",{className:"mt-4 bg-white/20 rounded-full h-3 shadow-inner backdrop-blur-sm",children:o.jsx("div",{className:"bg-gradient-to-r from-green-400 via-blue-500 to-purple-600 h-3 rounded-full transition-all duration-500 shadow-lg relative overflow-hidden",style:{width:`${fc}%`},children:o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent animate-pulse"})})})]})}),o.jsx("div",{className:"px-4 pb-6",children:o.jsx(yv,{isEnhancedMode:U.isEnhancedMode,onToggle:U.toggleEnhancedMode,showGuidedOption:!0,onStartGuided:()=>{const N=Object.keys(D)[0];se(N)},disabled:U.saving})}),o.jsx("div",{className:"px-3 sm:px-4 pb-6 space-y-4 sm:space-y-6",children:Object.entries(D).map(([N,A])=>{var we;const q=A.exercises[ye],ee=q.every((V,te)=>r[`${N}-${te}-week${t}`]),ie=q.filter((V,te)=>r[`${N}-${te}-week${t}`]).length;return o.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-xl sm:rounded-2xl shadow-xl overflow-hidden border border-white/50 transform transition-all duration-300 hover:shadow-2xl hover:scale-[1.01]",children:[o.jsxs("div",{className:"relative h-24 sm:h-32 overflow-hidden",children:[o.jsx(Vi,{src:((we=B.getWorkoutImage(If(N)))==null?void 0:we.url)||"",alt:`${N} workout background`,className:"absolute inset-0 w-full h-full",size:"header",lazy:!1,overlay:{color:A.color==="bg-red-600"?"rgba(220, 38, 38, 0.8)":A.color==="bg-blue-600"?"rgba(37, 99, 235, 0.8)":"rgba(34, 197, 94, 0.8)",opacity:.9}}),o.jsx("div",{className:`absolute inset-0 bg-gradient-to-r ${A.color==="bg-red-600"?"from-red-600/90 via-red-700/90 to-rose-800/90":A.color==="bg-blue-600"?"from-blue-600/90 via-blue-700/90 to-indigo-800/90":"from-green-600/90 via-green-700/90 to-emerald-800/90"}`}),o.jsxs("div",{className:"absolute inset-0 p-3 sm:p-5 text-white flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2 sm:gap-0",children:[o.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 min-w-0 flex-1",children:[o.jsx("div",{className:"p-2 sm:p-3 bg-white/20 rounded-lg sm:rounded-xl backdrop-blur-sm border border-white/30 shadow-lg",children:o.jsxs("span",{className:"text-lg sm:text-2xl drop-shadow-md",children:[A.color==="bg-red-600"&&"💪",A.color==="bg-blue-600"&&"🎯",A.color==="bg-green-600"&&"🏃"]})}),o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsx("h2",{className:"text-base sm:text-xl font-bold leading-tight drop-shadow-lg truncate",children:N.split(" - ")[0]}),o.jsx("p",{className:"text-xs sm:text-sm opacity-95 font-medium drop-shadow-md bg-black/20 backdrop-blur-sm px-2 py-1 rounded-lg truncate",children:N.split(" - ")[1]})]})]}),o.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[o.jsxs("div",{className:"flex flex-col items-center bg-white/20 backdrop-blur-sm px-3 sm:px-4 py-1.5 sm:py-2 rounded-lg sm:rounded-xl border border-white/30 shadow-lg",children:[o.jsxs("div",{className:"text-sm sm:text-lg font-bold drop-shadow-md",children:[ie,"/",q.length]}),o.jsx("div",{className:"text-xs opacity-90 font-medium",children:"Exercises"})]}),ee&&o.jsx("div",{className:"p-3 bg-green-500/40 backdrop-blur-sm rounded-xl border border-green-300/50 shadow-lg",children:o.jsx(ct,{className:"w-6 h-6 text-green-200 drop-shadow-md"})})]})]})]}),o.jsx("div",{className:"p-3 sm:p-4 space-y-3 sm:space-y-4",children:q.map((V,te)=>{const Me=r[`${N}-${te}-week${t}`],Wr=s[`${N}-${te}-week${t}`]||Ae(N,te,t),As=H(),Is=V.notes.includes("ARM FOCUS")||V.notes.includes("ARM BONUS"),Ls=`${N}-${te}`;if(U.isEnhancedMode){const Br=`${N}-${te}-week${t}`,wo=U.exerciseSetData[Br]||{exerciseId:Br,exerciseName:V.name,totalSets:parseInt(V.sets.split("x")[0].trim())||4,targetRestTime:90,sets:Array.from({length:parseInt(V.sets.split("x")[0].trim())||4},(gt,wr)=>{var mc;return{id:`${Br}-set${wr+1}`,setNumber:wr+1,weight:Wr,targetReps:((mc=V.sets.match(/x\s*(\d+(?:-\d+)?)/))==null?void 0:mc[1])||"8-10",completed:!1}}),currentSet:1,completed:!1};return o.jsx(xv,{exercise:V,exerciseSetTracking:wo,dayName:N,exerciseIndex:te,week:t,isExpanded:j[Ls]||!1,onToggleExpanded:()=>z(N,te),onSetComplete:re,onSetUpdate:ge,onExerciseComplete:()=>R(Br),onLaunchTimer:()=>Ge(N,te,V),showAnalytics:!0},te)}return o.jsxs("div",{className:`p-4 sm:p-6 rounded-xl sm:rounded-2xl transition-all duration-300 transform hover:scale-[1.01] ${Me?"bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 shadow-lg":"bg-gradient-to-r from-gray-50 to-slate-50 border border-gray-200 hover:shadow-lg hover:from-blue-50 hover:to-indigo-50"} ${Is?"ring-2 ring-orange-400 ring-opacity-50 bg-gradient-to-r from-orange-50 to-amber-50":""}`,children:[o.jsxs("div",{className:"flex items-start gap-3 sm:gap-4 mb-4 sm:mb-6",children:[o.jsx("button",{onClick:()=>J(N,te),className:"mt-1 flex-shrink-0 touch-manipulation group focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 rounded-full","aria-label":`${Me?"Mark as incomplete":"Mark as complete"}: ${V.name}`,children:Me?o.jsx("div",{className:"p-1.5 bg-green-500 rounded-full shadow-lg",children:o.jsx(ct,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}):o.jsx("div",{className:"p-1.5 border-2 border-gray-300 rounded-full group-hover:border-blue-400 transition-colors",children:o.jsx(qn,{className:"w-5 h-5 sm:w-6 sm:h-6 text-gray-400 group-hover:text-blue-400"})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between mb-3 sm:mb-2 gap-2 sm:gap-0",children:[o.jsx("div",{className:"min-w-0 flex-1",children:o.jsxs("h3",{className:`font-bold text-lg sm:text-xl leading-tight ${Me?"text-green-800":"text-gray-800"}`,children:[V.name,Is&&o.jsxs("span",{className:"block sm:inline sm:ml-2 mt-1 sm:mt-0 inline-flex items-center gap-1 text-xs bg-gradient-to-r from-orange-400 to-amber-500 text-white px-2 py-1 rounded-full font-bold shadow-sm w-fit",children:[o.jsx("span",{children:"💪"})," ARM"]})]})}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"font-mono bg-gradient-to-r from-blue-100 to-indigo-100 text-blue-800 px-3 py-2 rounded-xl text-sm font-bold shadow-sm",children:V.sets}),Me&&o.jsxs("span",{className:"inline-flex items-center gap-1 text-xs bg-gradient-to-r from-green-400 to-emerald-500 text-white px-2 py-1 rounded-full font-bold shadow-sm",children:[o.jsx("span",{children:"✨"})," +10 XP"]})]})]}),V.rest!=="N/A"&&o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-4 bg-blue-50 px-3 py-2 rounded-xl",children:[o.jsx("div",{className:"p-1 bg-blue-500 rounded-full",children:o.jsx(lo,{className:"w-3 h-3 text-white"})}),o.jsxs("span",{className:"font-semibold",children:["Rest: ",V.rest]})]}),o.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4 sm:p-5 mb-4 sm:mb-6 shadow-sm",children:[o.jsxs("div",{className:"flex items-start gap-2 mb-3",children:[o.jsx("div",{className:"p-1.5 bg-blue-100 rounded-lg",children:o.jsx(Ya,{className:"w-4 h-4 text-blue-600"})}),o.jsx("h4",{className:"font-semibold text-gray-800 text-sm",children:"Exercise Instructions"})]}),o.jsx("p",{className:"text-base sm:text-lg text-gray-700 leading-relaxed font-medium",children:V.notes})]})]})]}),o.jsxs("div",{className:"bg-white p-4 sm:p-5 rounded-xl shadow-sm border border-gray-200 space-y-4",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("div",{className:"p-1.5 bg-purple-100 rounded-lg",children:o.jsx("span",{className:"text-lg",children:"🏋️"})}),o.jsx("h4",{className:"font-semibold text-gray-800 text-sm",children:"Weight Tracking"})]}),o.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-3 rounded-xl",children:[o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Current Weight:"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>W(N,te,-2.5),className:"w-9 h-9 bg-red-500 text-white rounded-lg flex items-center justify-center hover:bg-red-600 transition-colors duration-200 touch-manipulation active:scale-95 shadow-sm",children:o.jsx(co,{className:"w-4 h-4"})}),o.jsxs("span",{className:"w-16 text-center font-mono text-base font-bold bg-white py-2 px-3 rounded-lg border border-gray-300 shadow-sm",children:[Wr,"kg"]}),o.jsx("button",{onClick:()=>W(N,te,2.5),className:"w-9 h-9 bg-green-500 text-white rounded-lg flex items-center justify-center hover:bg-green-600 transition-colors duration-200 touch-manipulation active:scale-95 shadow-sm",children:o.jsx(uo,{className:"w-4 h-4"})})]})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"p-1.5 bg-blue-100 rounded-lg",children:o.jsx("span",{className:"text-lg",children:"⚡"})}),o.jsx("h4",{className:"font-semibold text-gray-800 text-sm",children:"Quick Actions"})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[o.jsxs("button",{onClick:()=>Ge(N,te,V),className:"flex items-center justify-center gap-2 px-4 py-3 bg-purple-500 text-white text-sm font-medium rounded-lg hover:bg-purple-600 transition-colors duration-200 touch-manipulation active:scale-95 shadow-sm",title:"Open workout timer",children:[o.jsx(Wi,{className:"w-4 h-4"}),"Timer"]}),o.jsxs("a",{href:As.video+V.name.replace(/\s+/g,"+"),target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 px-4 py-3 bg-red-500 text-white text-sm font-medium rounded-lg hover:bg-red-600 transition-colors duration-200 touch-manipulation active:scale-95 shadow-sm",children:[o.jsx(Dr,{className:"w-4 h-4"}),"Video"]}),o.jsxs("a",{href:As.guide+V.name.replace(/\s+/g,"+"),target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 px-4 py-3 bg-blue-500 text-white text-sm font-medium rounded-lg hover:bg-blue-600 transition-colors duration-200 touch-manipulation active:scale-95 shadow-sm",children:[o.jsx(Ya,{className:"w-4 h-4"}),"Guide"]})]})]})]})]},te)})}),o.jsxs("div",{className:"bg-gradient-to-br from-green-50 via-blue-50 to-purple-50 border-t-4 border-green-400 p-5",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-gradient-to-r from-green-500 to-emerald-600 rounded-xl shadow-lg",children:o.jsx("span",{className:"text-2xl",children:"🍎"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Daily Nutrition Goals"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Fuel your transformation"})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-sm bg-gradient-to-r from-blue-500 to-blue-600 text-white px-3 py-1.5 rounded-xl font-bold shadow-lg",children:[$.filter((V,te)=>a[`${N}-nutrition-${te}-week${t}`]).length,"/",$.length]}),o.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Progress"})]}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-sm bg-gradient-to-r from-green-500 to-emerald-600 text-white px-3 py-1.5 rounded-xl font-bold shadow-lg",children:["+",Math.floor($.filter((V,te)=>a[`${N}-nutrition-${te}-week${t}`]).length/$.length*30)," XP"]}),o.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Earned"})]})]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:$.map((V,te)=>{const Me=a[`${N}-nutrition-${te}-week${t}`],Wr={protein:"from-red-500 to-rose-600",hydration:"from-blue-500 to-blue-600",micronutrients:"from-green-500 to-emerald-600",fats:"from-yellow-500 to-amber-600",carbs:"from-orange-500 to-orange-600",supplements:"from-purple-500 to-purple-600"};return o.jsxs("div",{className:`flex items-center gap-3 p-3 bg-white rounded-xl shadow-lg border-l-4 border-gradient-to-r ${Wr[V.category]} transform transition-all duration-300 hover:scale-105 ${Me?"bg-gradient-to-r from-green-50 to-emerald-50 shadow-xl ring-2 ring-green-200":"hover:shadow-xl"}`,style:{borderLeftColor:V.category==="protein"?"#ef4444":V.category==="hydration"?"#3b82f6":V.category==="micronutrients"?"#10b981":V.category==="fats"?"#f59e0b":V.category==="carbs"?"#f97316":"#8b5cf6"},children:[o.jsx("button",{onClick:()=>et(N,te),className:"flex-shrink-0 group",children:Me?o.jsx("div",{className:"p-1 bg-green-500 rounded-full shadow-lg",children:o.jsx(ct,{className:"w-5 h-5 text-white"})}):o.jsx("div",{className:"p-1 border-2 border-gray-300 rounded-full group-hover:border-green-400 transition-colors",children:o.jsx(qn,{className:"w-5 h-5 text-gray-400 group-hover:text-green-400"})})}),o.jsx("div",{className:"p-2 bg-gray-100 rounded-xl",children:o.jsx("span",{className:"text-xl",children:V.icon})}),o.jsx("span",{className:`text-sm font-bold leading-tight flex-1 ${Me?"text-green-800":"text-gray-700"}`,children:V.name}),Me&&o.jsx("span",{className:"text-xs bg-green-500 text-white px-2 py-1 rounded-full font-bold",children:"✓"})]},te)})}),o.jsxs("div",{className:"mt-4 p-3 sm:p-4 bg-gradient-to-r from-blue-100 to-indigo-100 rounded-xl sm:rounded-2xl border border-blue-200 shadow-lg",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[o.jsx("div",{className:"p-1.5 sm:p-2 bg-blue-500 rounded-lg sm:rounded-xl",children:o.jsx("span",{className:"text-base sm:text-lg",children:"🎯"})}),o.jsx("h4",{className:"font-bold text-blue-800 text-sm sm:text-base",children:"Nutrition Guidelines"})]}),o.jsx("div",{className:"text-xs sm:text-sm text-blue-800",children:o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 sm:gap-3",children:[o.jsxs("div",{className:"bg-white/70 p-2.5 sm:p-3 rounded-lg sm:rounded-xl",children:[o.jsx("strong",{children:"Target Protein:"})," 156g/day"]}),o.jsxs("div",{className:"bg-white/70 p-2.5 sm:p-3 rounded-lg sm:rounded-xl",children:[o.jsx("strong",{children:"Meal Timing:"})," Every 4-5h"]}),o.jsxs("div",{className:"bg-white/70 p-2.5 sm:p-3 rounded-lg sm:rounded-xl",children:[o.jsx("strong",{children:"Pre-workout:"})," Light carbs"]}),o.jsxs("div",{className:"bg-white/70 p-2.5 sm:p-3 rounded-lg sm:rounded-xl",children:[o.jsx("strong",{children:"Post-workout:"})," Protein + carbs"]}),o.jsxs("div",{className:"bg-white/70 p-2.5 sm:p-3 rounded-lg sm:rounded-xl",children:[o.jsx("strong",{children:"Supplements:"})," Daily stack"]}),o.jsxs("div",{className:"bg-white/70 p-2.5 sm:p-3 rounded-lg sm:rounded-xl",children:[o.jsx("strong",{children:"Best Time:"})," With meals"]})]})})]}),o.jsx("div",{className:"mt-4 sm:mt-5 pt-3 sm:pt-4 border-t-2 border-gray-200",children:o.jsxs("button",{onClick:()=>L(N),disabled:m,className:"w-full flex items-center justify-center gap-2 sm:gap-3 px-4 sm:px-6 py-3 sm:py-4 bg-gradient-to-r from-green-600 to-emerald-700 text-white rounded-xl sm:rounded-2xl hover:from-green-700 hover:to-emerald-800 transition-all duration-300 font-bold text-sm sm:text-base disabled:opacity-50 disabled:cursor-not-allowed shadow-xl hover:shadow-2xl transform hover:scale-105 group touch-manipulation",children:[o.jsx(_g,{className:"w-4 h-4 sm:w-5 sm:h-5 group-hover:rotate-12 transition-transform"}),o.jsx("span",{children:m?"Saving to Cloud...":"Save Session to Cloud"}),!m&&o.jsx("span",{className:"text-base sm:text-lg",children:"☁️"})]})})]})]},N)})}),o.jsxs("div",{className:"px-3 sm:px-4 pb-6 sm:pb-8 space-y-4 sm:space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 sm:gap-4",children:[o.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-blue-700 text-white rounded-xl sm:rounded-2xl p-4 sm:p-5 text-center shadow-xl transform transition-all duration-300 hover:scale-105",children:o.jsxs("div",{className:"flex items-center justify-center gap-3 sm:block",children:[o.jsx("div",{className:"text-3xl sm:text-4xl mb-0 sm:mb-2",children:"📅"}),o.jsxs("div",{className:"text-left sm:text-center",children:[o.jsxs("div",{className:"text-xl sm:text-2xl font-bold mb-1",children:["Week ",t]}),o.jsx("div",{className:"text-sm opacity-90 font-medium",children:"Current Progress"})]})]})}),o.jsx("div",{className:"bg-gradient-to-br from-green-500 to-emerald-700 text-white rounded-xl sm:rounded-2xl p-4 sm:p-5 text-center shadow-xl transform transition-all duration-300 hover:scale-105",children:o.jsxs("div",{className:"flex items-center justify-center gap-3 sm:block",children:[o.jsx("div",{className:"text-3xl sm:text-4xl mb-0 sm:mb-2",children:"💪"}),o.jsxs("div",{className:"text-left sm:text-center",children:[o.jsx("div",{className:"text-xl sm:text-2xl font-bold mb-1",children:yo.completed}),o.jsx("div",{className:"text-sm opacity-90 font-medium",children:"Exercises Done"})]})]})}),o.jsx("div",{className:"bg-gradient-to-br from-yellow-500 to-orange-600 text-white rounded-xl sm:rounded-2xl p-4 sm:p-5 text-center shadow-xl transform transition-all duration-300 hover:scale-105",children:o.jsxs("div",{className:"flex items-center justify-center gap-3 sm:block",children:[o.jsx("div",{className:"text-3xl sm:text-4xl mb-0 sm:mb-2",children:"✨"}),o.jsxs("div",{className:"text-left sm:text-center",children:[o.jsx("div",{className:"text-xl sm:text-2xl font-bold mb-1",children:I.totalXP.toLocaleString()}),o.jsx("div",{className:"text-sm opacity-90 font-medium",children:"Total XP"})]})]})})]}),o.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-100 border-2 border-blue-300 rounded-xl sm:rounded-2xl p-4 sm:p-5 shadow-xl",children:[o.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-4",children:[o.jsx("div",{className:"p-1.5 sm:p-2 bg-gradient-to-r from-blue-500 to-blue-700 rounded-lg sm:rounded-xl shadow-lg",children:o.jsx("span",{className:"text-lg sm:text-2xl",children:"🎯"})}),o.jsx("h3",{className:"font-bold text-blue-800 text-base sm:text-lg",children:"Realistic Targets"})]}),o.jsxs("div",{className:"text-xs sm:text-sm text-blue-700 space-y-2 sm:space-y-3",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between bg-white/70 p-3 rounded-xl gap-1 sm:gap-0",children:[o.jsx("span",{className:"font-semibold",children:"Arms (Week 0: 34.5cm):"}),o.jsx("span",{className:"font-mono font-bold text-blue-800",children:"Week 12: 36.5cm (+2cm)"})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between bg-white/70 p-3 rounded-xl gap-1 sm:gap-0",children:[o.jsx("span",{className:"font-semibold",children:"Chest (Week 0: 100.5cm):"}),o.jsx("span",{className:"font-mono font-bold text-blue-800",children:"Week 12: 105cm (+4.5cm)"})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between bg-white/70 p-3 rounded-xl gap-1 sm:gap-0",children:[o.jsx("span",{className:"font-semibold",children:"Weight (Week 0: 77.4kg):"}),o.jsx("span",{className:"font-mono font-bold text-blue-800",children:"Week 12: 82-83kg (+5kg)"})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between bg-white/70 p-3 rounded-xl gap-1 sm:gap-0",children:[o.jsx("span",{className:"font-semibold",children:"Daily Protein:"}),o.jsx("span",{className:"font-mono font-bold text-blue-800",children:"156g (39g x 4 meals)"})]}),ye==="foundation"&&o.jsxs("div",{className:"text-sm mt-3 bg-gradient-to-r from-blue-500 to-blue-700 text-white p-4 rounded-xl shadow-lg",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xl",children:"🏗️"}),o.jsx("span",{className:"font-bold",children:"Foundation Focus:"})]}),o.jsx("p",{className:"mt-1",children:"Perfect form + arm specialization"})]}),ye==="growth"&&o.jsxs("div",{className:"text-sm mt-3 bg-gradient-to-r from-green-500 to-emerald-700 text-white p-4 rounded-xl shadow-lg",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xl",children:"📈"}),o.jsx("span",{className:"font-bold",children:"Growth Focus:"})]}),o.jsx("p",{className:"mt-1",children:"Volume + progressive overload + arm focus"})]}),ye==="intensity"&&o.jsxs("div",{className:"text-sm mt-3 bg-gradient-to-r from-red-500 to-rose-700 text-white p-4 rounded-xl shadow-lg",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xl",children:"🔥"}),o.jsx("span",{className:"font-bold",children:"Intensity Focus:"})]}),o.jsx("p",{className:"mt-1",children:"Heavy lifting + advanced arm techniques"})]})]})]}),o.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-amber-100 border-2 border-orange-300 rounded-2xl p-5 shadow-xl",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx("div",{className:"p-2 bg-gradient-to-r from-orange-500 to-amber-600 rounded-xl shadow-lg",children:o.jsx("span",{className:"text-2xl",children:"📅"})}),o.jsx("h3",{className:"font-bold text-orange-800 text-lg",children:"Weekly Schedule"})]}),o.jsxs("div",{className:"text-sm text-orange-700 space-y-3",children:[o.jsxs("div",{className:"flex justify-between bg-white/80 p-3 rounded-xl shadow-sm",children:[o.jsxs("span",{className:"font-bold flex items-center gap-2",children:[o.jsx("span",{className:"text-lg",children:"💪"})," Monday:"]}),o.jsx("span",{className:"font-mono",children:"Push Day (90 min)"})]}),o.jsxs("div",{className:"flex justify-between bg-white/80 p-3 rounded-xl shadow-sm",children:[o.jsxs("span",{className:"font-bold flex items-center gap-2",children:[o.jsx("span",{className:"text-lg",children:"🎯"})," Wednesday:"]}),o.jsx("span",{className:"font-mono",children:"Pull + Arms (90 min)"})]}),o.jsxs("div",{className:"flex justify-between bg-white/80 p-3 rounded-xl shadow-sm",children:[o.jsxs("span",{className:"font-bold flex items-center gap-2",children:[o.jsx("span",{className:"text-lg",children:"🏃"})," Friday:"]}),o.jsx("span",{className:"font-mono",children:"Legs + Cardio + Arms (75 min)"})]}),o.jsxs("div",{className:"bg-gradient-to-r from-orange-500 to-red-600 text-white p-4 rounded-xl shadow-lg mt-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xl",children:"🔥"}),o.jsx("span",{className:"font-bold",children:"Pro Tip:"})]}),o.jsx("p",{className:"mt-1",children:"Extra arm volume on every session for maximum growth"})]})]})]}),o.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-100 border-2 border-green-300 rounded-2xl p-5 shadow-xl",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx("div",{className:"p-2 bg-gradient-to-r from-green-500 to-emerald-600 rounded-xl shadow-lg",children:o.jsx("span",{className:"text-2xl",children:"✅"})}),o.jsx("h3",{className:"font-bold text-green-800 text-lg",children:"3x/Week Success Keys"})]}),o.jsxs("div",{className:"text-sm text-green-700 space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-3 bg-white/80 p-3 rounded-xl shadow-sm",children:[o.jsx("span",{className:"text-lg",children:"🔄"}),o.jsxs("span",{children:[o.jsx("strong",{children:"Perfect Recovery:"})," 48h between sessions"]})]}),o.jsxs("div",{className:"flex items-center gap-3 bg-white/80 p-3 rounded-xl shadow-sm",children:[o.jsx("span",{className:"text-lg",children:"🍗"}),o.jsxs("span",{children:[o.jsx("strong",{children:"Nutrition Critical:"})," Hit protein targets daily"]})]}),o.jsxs("div",{className:"flex items-center gap-3 bg-white/80 p-3 rounded-xl shadow-sm",children:[o.jsx("span",{className:"text-lg",children:"📈"}),o.jsxs("span",{children:[o.jsx("strong",{children:"Progressive Overload:"})," Track all weights"]})]}),o.jsxs("div",{className:"flex items-center gap-3 bg-white/80 p-3 rounded-xl shadow-sm",children:[o.jsx("span",{className:"text-lg",children:"💪"}),o.jsxs("span",{children:[o.jsx("strong",{children:"Arm Priority:"})," Orange-marked exercises = growth"]})]}),o.jsxs("div",{className:"flex items-center gap-3 bg-white/80 p-3 rounded-xl shadow-sm",children:[o.jsx("span",{className:"text-lg",children:"😴"}),o.jsxs("span",{children:[o.jsx("strong",{children:"Sleep 7-9h:"})," Recovery is everything"]})]}),o.jsxs("div",{className:"flex items-center gap-3 bg-white/80 p-3 rounded-xl shadow-sm",children:[o.jsx("span",{className:"text-lg",children:"☀️"}),o.jsxs("span",{children:[o.jsx("strong",{children:"Whoop Guidance:"})," Red days = rest or light"]})]})]})]})]}),d&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[o.jsxs("div",{className:"bg-blue-600 text-white p-4 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Go,{className:"w-5 h-5"}),o.jsx("h2",{className:"text-lg font-bold",children:"Session History"}),o.jsxs("span",{className:"text-sm bg-blue-500 px-2 py-1 rounded-full",children:[c.length," sessions"]})]}),o.jsx("button",{onClick:()=>h(!1),className:"p-1 hover:bg-blue-700 rounded-lg transition-colors",children:o.jsx(Cs,{className:"w-5 h-5"})})]}),o.jsx("div",{className:"overflow-y-auto max-h-[75vh] p-4",children:c.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Go,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"No completed sessions yet."}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Complete a workout and save it to see your history!"})]}):o.jsx("div",{className:"space-y-4",children:c.map(N=>o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-gray-800",children:N.day_name}),o.jsxs("p",{className:"text-sm text-gray-600",children:[N.session_date," at ",N.session_time," • Week ",N.week," (",N.phase," phase)"]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"text-sm font-medium text-blue-600",children:["Exercises: ",N.exercises_completed,"/",N.total_exercises]}),o.jsxs("div",{className:"text-sm font-medium text-green-600",children:["Nutrition: ",N.nutrition_completed,"/",N.total_nutrition]})]})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs("h4",{className:"font-semibold text-gray-700 mb-2 flex items-center gap-1",children:["💪 Exercises (",N.exercises_completed,"/",N.total_exercises,")"]}),o.jsx("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:N.exercises.map((A,q)=>o.jsxs("div",{className:`text-xs p-2 rounded ${A.completed?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:[o.jsxs("div",{className:"flex items-center gap-2",children:[A.completed?o.jsx(ct,{className:"w-3 h-3 flex-shrink-0"}):o.jsx(qn,{className:"w-3 h-3 flex-shrink-0"}),o.jsx("span",{className:"font-medium",children:A.name}),A.weight>0&&o.jsxs("span",{className:"ml-auto font-mono",children:[A.weight,"kg"]})]}),o.jsx("div",{className:"text-xs opacity-75 ml-5",children:A.sets})]},q))})]}),o.jsxs("div",{children:[o.jsxs("h4",{className:"font-semibold text-gray-700 mb-2 flex items-center gap-1",children:["🍎 Nutrition (",N.nutrition_completed,"/",N.total_nutrition,")"]}),o.jsx("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:N.nutrition.map((A,q)=>o.jsx("div",{className:`text-xs p-2 rounded ${A.completed?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:o.jsxs("div",{className:"flex items-center gap-2",children:[A.completed?o.jsx(ct,{className:"w-3 h-3 flex-shrink-0"}):o.jsx(qn,{className:"w-3 h-3 flex-shrink-0"}),o.jsx("span",{className:"text-sm",children:A.icon}),o.jsx("span",{className:"font-medium",children:A.name})]})},q))})]})]})]},N.id))})}),o.jsx("div",{className:"bg-gray-50 p-4 border-t",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"text-sm text-gray-600",children:["Total sessions: ",c.length]}),o.jsx("button",{onClick:()=>h(!1),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:"Close History"})]})})]})}),o.jsx(cv,{xpGained:I.events.xpGained.amount,source:I.events.xpGained.source,show:I.events.xpGained.show,onComplete:I.closeXPNotification}),o.jsx(uv,{achievement:I.events.achievementUnlocked.achievement,show:I.events.achievementUnlocked.show,onClose:I.closeAchievementNotification}),o.jsx(dv,{newLevel:I.events.levelUp.newLevel,oldLevel:I.events.levelUp.oldLevel,show:I.events.levelUp.show,onComplete:I.closeLevelUpNotification})]})};sa.createRoot(document.getElementById("root")).render(o.jsx(na.StrictMode,{children:o.jsx(wv,{})}));
